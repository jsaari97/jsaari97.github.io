{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","root","factory","define","amd","Headroom","this","Debouncer","callback","ticking","isDOMElement","obj","window","nodeType","extend","object","arguments","key","result","replacement","normalizeTolerance","Object","down","up","elem","options","lastKnownScrollY","tolerance","classes","offset","scroller","initialised","onPin","onUnpin","onTop","onNotTop","onBottom","onNotBottom","features","bind","classList","document","documentElement","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","prototype","constructor","update","requestTick","rafCallback","handleEvent","init","cutsTheMustard","debouncer","add","initial","setTimeout","attachEvent","destroy","remove","unpinned","pinned","top","notTop","removeEventListener","getScrollY","addEventListener","unpin","contains","pin","bottom","notBottom","undefined","pageYOffset","scrollTop","body","parentNode","getViewportHeight","innerHeight","clientHeight","getElementPhysicalHeight","elm","Math","max","offsetHeight","getScrollerPhysicalHeight","getDocumentHeight","scrollHeight","getElementHeight","getScrollerHeight","isOutOfBounds","currentScrollY","pastTop","pastBottom","toleranceExceeded","direction","abs","shouldUnpin","scrollingDown","pastOffset","shouldPin","scrollingUp","scrollDirection","2","b","LazyLoad","k","j","elements_selector","container","threshold","throttle","data_src","data_srcset","class_loading","class_loaded","skip_invisible","callback_load","callback_error","callback_set","callback_processed","c","d","innerWidth","clientWidth","getBoundingClientRect","m","clientTop","g","left","clientLeft","h","pageXOffset","offsetWidth","ownerDocument","scrollLeft","Date","getTime","hasOwnProperty","Array","slice","parentElement","tagName","children","getAttribute","setAttribute","style","backgroundImage","apply","_settings","_queryOriginNode","_previousLoopTime","_loopTimeout","_handleScrollFn","handleScroll","_showOnAppear","_loopThroughElements","_elements","offsetParent","push","wasProcessed","splice","pop","_stopScrollHandler","_purgeElements","_startScrollHandler","_isHandlingScroll","clearTimeout","querySelectorAll","3","createElement","type","styleSheet","cssText","appendChild","createTextNode","head","insertBefore","firstChild","target","offsetX","offsetY","clientX","clientY","width","height","sqrt","marginLeft","marginTop","className","removeChild","removeAttribute","getComputedStyle","position","button","changedTouches","4","aa","ba","unshift","p","Function","toString","indexOf","ca","getElementsByTagName","lastChild","v","w","split","join","replace","y","z","location","protocol","ea","hostname","A","rel","href","media","da","onload","onerror","B","src","onreadystatechange","readyState","C","D","E","F","G","H","match","parseInt","fa","I","J","test","K","ga","substr","toLowerCase","ha","events","ia","L","M","ja","ka","N","aria-hidden","O","P","Q","R","U","T","exec","navigator","userAgent","ma","S","la","serif","q","V","na","W","oa","pa","ra","x","X","FontFace","ya","vendor","start","qa","timeout","load","sa","ta","api","ua","va","wa","xa","za","encodeURIComponent","Aa","Fa","Ea","Da","Ca","isNaN","Ba","Ga","Ia","Ja","now","Promise","fonts","then","race","context","fontfamily","fontStyle","fontWeight","projectId","version","id","urls","families","testStrings","latin","latin-ext","cyrillic","greek","khmer","Hanuman","thin","extralight","extra-light","ultralight","ultra-light","light","regular","book","medium","semi-bold","semibold","demi-bold","demibold","bold","extra-bold","extrabold","ultra-bold","ultrabold","black","heavy","italic","normal","Ha","Arimo","Cousine","Tinos","text","Typekit","config","fn","async","__webfontfontdeckmodule__","name","weight","Y","custom","fontdeck","monotype","typekit","google","Z","WebFont","WebFontConfig","5","zenscroll","isNativeSmoothScrollEnabledOn","createScroller","scrollContainer","defaultDuration","edgeOffset","scrollTimeoutId","setScrollTimeoutId","newValue","docElem","getScrollTop","scrollY","getViewHeight","min","getRelativeTopOf","offsetTop","stopScroll","scrollToY","endY","duration","onDone","scrollTo","startY","distance","startTime","loopScroll","floor","scrollToElem","scrollIntoView","elemHeight","elemTop","elemBottom","containerHeight","containerTop","containerBottom","scrollToCenterOf","setup","newDefaultDuration","newEdgeOffset","to","toY","intoView","center","stop","moving","getY","defaultScroller","noZensmooth","history","scrollRestoration","event","state","replaceUrl","hash","newY","replaceState","pushState","anchor","which","shiftKey","metaKey","ctrlKey","altKey","preventDefault","targetId","substring","targetElem","getElementById","6","_interopRequireDefault","__esModule","default","_vanillaLazyload","_vanillaLazyload2","_headroom","_headroom2","_webfontloader","_webfontloader2","querySelector","innerHTML","getFullYear","./work.js","headroom.js","vanilla-lazyload","vanilla-ripplejs","webfontloader","7","bodies","expanded","EventFunction","originalElement","currentTarget","AddListeners","elements","forEach","element"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,IAOtd,SAASK,EAAMC,GACd,YAEsB,mBAAXC,SAAyBA,OAAOC,IAEzCD,UAAWD,GAEe,gBAAZN,GAEdI,EAAOJ,QAAUM,IAIjBD,EAAKI,SAAWH,KAElBI,KAAM,WACN,YAgBA,SAASC,GAAWC,GAClBF,KAAKE,SAAWA,EAChBF,KAAKG,SAAU,EAqCjB,QAASC,GAAaC,GACpB,MAAOA,IAAyB,mBAAXC,UAA2BD,IAAQC,QAAUD,EAAIE,UAMxE,QAASC,GAAQC,GACf,GAAGC,UAAUlB,QAAU,EACrB,KAAM,IAAIL,OAAM,uCAGlB,IACIwB,GACA1B,EAFA2B,EAASH,KAIb,KAAKxB,EAAI,EAAGA,EAAIyB,UAAUlB,OAAQP,IAAK,CACrC,GAAI4B,GAAcH,UAAUzB,MAE5B,KAAK0B,IAAOE,GAEgB,gBAAhBD,GAAOD,IAAuBP,EAAaQ,EAAOD,IAI1DC,EAAOD,GAAOC,EAAOD,IAAQE,EAAYF,GAHzCC,EAAOD,GAAOH,EAAOI,EAAOD,GAAME,EAAYF,IAQpD,MAAOC,GAMT,QAASE,GAAoBrC,GAC3B,MAAOA,KAAMsC,OAAOtC,GAAKA,GAAMuC,KAAOvC,EAAGwC,GAAKxC,GAWhD,QAASsB,GAAUmB,EAAMC,GACvBA,EAAUX,EAAOW,EAASpB,EAASoB,SAEnCnB,KAAKoB,iBAAmB,EACxBpB,KAAKkB,KAAmBA,EACxBlB,KAAKqB,UAAmBP,EAAmBK,EAAQE,WACnDrB,KAAKsB,QAAmBH,EAAQG,QAChCtB,KAAKuB,OAAmBJ,EAAQI,OAChCvB,KAAKwB,SAAmBL,EAAQK,SAChCxB,KAAKyB,aAAmB,EACxBzB,KAAK0B,MAAmBP,EAAQO,MAChC1B,KAAK2B,QAAmBR,EAAQQ,QAChC3B,KAAK4B,MAAmBT,EAAQS,MAChC5B,KAAK6B,SAAmBV,EAAQU,SAChC7B,KAAK8B,SAAmBX,EAAQW,SAChC9B,KAAK+B,YAAmBZ,EAAQY,YAlHlC,GAAIC,IACFC,OAAU,aAAiB,KAC3BC,UAAY,aAAeC,UAASC,gBACpCC,OAAS/B,OAAOgC,uBAAyBhC,OAAOiC,6BAA+BjC,OAAOkC,0BA8axF,OA5aAlC,QAAOgC,sBAAwBhC,OAAOgC,uBAAyBhC,OAAOiC,6BAA+BjC,OAAOkC,yBAW5GvC,EAAUwC,WACRC,YAAczC,EAMd0C,OAAS,WACP3C,KAAKE,UAAYF,KAAKE,WACtBF,KAAKG,SAAU,GAOjByC,YAAc,WACR5C,KAAKG,UACPmC,sBAAsBtC,KAAK6C,cAAgB7C,KAAK6C,YAAc7C,KAAK2C,OAAOV,KAAKjC,QAC/EA,KAAKG,SAAU,IAOnB2C,YAAc,WACZ9C,KAAK4C,gBAyET7C,EAAS0C,WACPC,YAAc3C,EAKdgD,KAAO,WACL,GAAIhD,EAASiD,eAWb,MAPAhD,MAAKiD,UAAY,GAAIhD,GAAUD,KAAK2C,OAAOV,KAAKjC,OAChDA,KAAKkB,KAAKgB,UAAUgB,IAAIlD,KAAKsB,QAAQ6B,SAIrCC,WAAWpD,KAAKqD,YAAYpB,KAAKjC,MAAO,KAEjCA,MAMTsD,QAAU,WACR,GAAIhC,GAAUtB,KAAKsB,OAEnBtB,MAAKyB,aAAc,EACnBzB,KAAKkB,KAAKgB,UAAUqB,OAAOjC,EAAQkC,SAAUlC,EAAQmC,OAAQnC,EAAQoC,IAAKpC,EAAQqC,OAAQrC,EAAQ6B,SAClGnD,KAAKwB,SAASoC,oBAAoB,SAAU5D,KAAKiD,WAAW,IAO9DI,YAAc,WACRrD,KAAKyB,cACPzB,KAAKoB,iBAAmBpB,KAAK6D,aAC7B7D,KAAKyB,aAAc,EACnBzB,KAAKwB,SAASsC,iBAAiB,SAAU9D,KAAKiD,WAAW,GAEzDjD,KAAKiD,UAAUH,gBAOnBiB,MAAQ,WACN,GAAI7B,GAAYlC,KAAKkB,KAAKgB,UACxBZ,EAAUtB,KAAKsB,SAEdY,EAAU8B,SAAS1C,EAAQmC,SAAYvB,EAAU8B,SAAS1C,EAAQkC,YACnEtB,EAAUgB,IAAI5B,EAAQkC,UACtBtB,EAAUqB,OAAOjC,EAAQmC,QACzBzD,KAAK2B,SAAW3B,KAAK2B,QAAQpC,KAAKS,QAOtCiE,IAAM,WACJ,GAAI/B,GAAYlC,KAAKkB,KAAKgB,UACxBZ,EAAUtB,KAAKsB,OAEdY,GAAU8B,SAAS1C,EAAQkC,YAC5BtB,EAAUqB,OAAOjC,EAAQkC,UACzBtB,EAAUgB,IAAI5B,EAAQmC,QACtBzD,KAAK0B,OAAS1B,KAAK0B,MAAMnC,KAAKS,QAOlC0D,IAAM,WACJ,GAAIxB,GAAYlC,KAAKkB,KAAKgB,UACxBZ,EAAUtB,KAAKsB,OAEbY,GAAU8B,SAAS1C,EAAQoC,OAC7BxB,EAAUgB,IAAI5B,EAAQoC,KACtBxB,EAAUqB,OAAOjC,EAAQqC,QACzB3D,KAAK4B,OAAS5B,KAAK4B,MAAMrC,KAAKS,QAOlC2D,OAAS,WACP,GAAIzB,GAAYlC,KAAKkB,KAAKgB,UACxBZ,EAAUtB,KAAKsB,OAEbY,GAAU8B,SAAS1C,EAAQqC,UAC7BzB,EAAUgB,IAAI5B,EAAQqC,QACtBzB,EAAUqB,OAAOjC,EAAQoC,KACzB1D,KAAK6B,UAAY7B,KAAK6B,SAAStC,KAAKS,QAIxCkE,OAAS,WACP,GAAIhC,GAAYlC,KAAKkB,KAAKgB,UACxBZ,EAAUtB,KAAKsB,OAEbY,GAAU8B,SAAS1C,EAAQ4C,UAC7BhC,EAAUgB,IAAI5B,EAAQ4C,QACtBhC,EAAUqB,OAAOjC,EAAQ6C,WACzBnE,KAAK8B,UAAY9B,KAAK8B,SAASvC,KAAKS,QAOxCmE,UAAY,WACV,GAAIjC,GAAYlC,KAAKkB,KAAKgB,UACxBZ,EAAUtB,KAAKsB,OAEbY,GAAU8B,SAAS1C,EAAQ6C,aAC7BjC,EAAUgB,IAAI5B,EAAQ6C,WACtBjC,EAAUqB,OAAOjC,EAAQ4C,QACzBlE,KAAK+B,aAAe/B,KAAK+B,YAAYxC,KAAKS,QAS9C6D,WAAa,WACX,MAAsCO,UAA9BpE,KAAKwB,SAAS6C,YAClBrE,KAAKwB,SAAS6C,YACeD,SAA5BpE,KAAKwB,SAAS8C,UACbtE,KAAKwB,SAAS8C,WACbnC,SAASC,iBAAmBD,SAASoC,KAAKC,YAAcrC,SAASoC,MAAMD,WAQhFG,kBAAoB,WAClB,MAAOnE,QAAOoE,aACTvC,SAASC,gBAAgBuC,cACzBxC,SAASoC,KAAKI,cAQrBC,yBAA2B,SAAUC,GACnC,MAAOC,MAAKC,IACVF,EAAIG,aACJH,EAAIF,eAQRM,0BAA4B,WAC1B,MAAQjF,MAAKwB,WAAalB,QAAUN,KAAKwB,WAAaW,SAASoC,KAC3DvE,KAAKyE,oBACLzE,KAAK4E,yBAAyB5E,KAAKwB,WAQzC0D,kBAAoB,WAClB,GAAIX,GAAOpC,SAASoC,KAClBnC,EAAkBD,SAASC,eAE7B,OAAO0C,MAAKC,IACVR,EAAKY,aAAc/C,EAAgB+C,aACnCZ,EAAKS,aAAc5C,EAAgB4C,aACnCT,EAAKI,aAAcvC,EAAgBuC,eASvCS,iBAAmB,SAAUP,GAC3B,MAAOC,MAAKC,IACVF,EAAIM,aACJN,EAAIG,aACJH,EAAIF,eAQRU,kBAAoB,WAClB,MAAQrF,MAAKwB,WAAalB,QAAUN,KAAKwB,WAAaW,SAASoC,KAC3DvE,KAAKkF,oBACLlF,KAAKoF,iBAAiBpF,KAAKwB,WAQjC8D,cAAgB,SAAUC,GACxB,GAAIC,GAAWD,EAAiB,EAC9BE,EAAaF,EAAiBvF,KAAKiF,4BAA8BjF,KAAKqF,mBAExE,OAAOG,IAAWC,GAQpBC,kBAAoB,SAAUH,EAAgBI,GAC5C,MAAOb,MAAKc,IAAIL,EAAevF,KAAKoB,mBAAqBpB,KAAKqB,UAAUsE,IAS1EE,YAAc,SAAUN,EAAgBG,GACtC,GAAII,GAAgBP,EAAiBvF,KAAKoB,iBACxC2E,EAAaR,GAAkBvF,KAAKuB,MAEtC,OAAOuE,IAAiBC,GAAcL,GASxCM,UAAY,SAAUT,EAAgBG,GACpC,GAAIO,GAAeV,EAAiBvF,KAAKoB,iBACvC2E,EAAaR,GAAkBvF,KAAKuB,MAEtC,OAAQ0E,IAAeP,GAAsBK,GAM/CpD,OAAS,WACP,GAAI4C,GAAkBvF,KAAK6D,aACzBqC,EAAkBX,EAAiBvF,KAAKoB,iBAAmB,OAAS,KACpEsE,EAAoB1F,KAAK0F,kBAAkBH,EAAgBW,EAE1DlG,MAAKsF,cAAcC,KAIlBA,GAAkBvF,KAAKuB,OACzBvB,KAAK0D,MAEL1D,KAAK2D,SAGJ4B,EAAiBvF,KAAKyE,qBAAuBzE,KAAKqF,oBACnDrF,KAAKkE,SAGLlE,KAAKmE,YAGJnE,KAAK6F,YAAYN,EAAgBG,GAClC1F,KAAK+D,QAEC/D,KAAKgG,UAAUT,EAAgBG,IACrC1F,KAAKiE,MAGPjE,KAAKoB,iBAAmBmE,KAO5BxF,EAASoB,SACPE,WACEJ,GAAK,EACLD,KAAO,GAETO,OAAS,EACTC,SAAUlB,OACVgB,SACEmC,OAAS,mBACTD,SAAW,qBACXE,IAAM,gBACNC,OAAS,oBACTO,OAAS,mBACTC,UAAY,uBACZhB,QAAU,aAGdpD,EAASiD,eAAqC,mBAAbhB,IAA4BA,EAASK,KAAOL,EAASC,MAAQD,EAASE,UAEhGnC,SAEHoG,GAAG,SAASnH,EAAQU,EAAOJ,IAChC,SAASP,EAAEqH,GAAG,kBAAmBvG,SAAQA,OAAOC,IAAID,UAAUuG,GAAG,gBAAiB9G,GAAQI,EAAOJ,QAAQ8G,IAAIrH,EAAEsH,SAASD,KAAKpG,KAAK,WAAW,QAASjB,KAAIuH,IAAIC,GAAGC,kBAAkB,MAAMC,UAAUnG,OAAOoG,UAAU,IAAIC,SAAS,IAAIC,SAAS,WAAWC,YAAY,eAAeC,cAAc,UAAUC,aAAa,SAASC,gBAAe,EAAGC,cAAc,KAAKC,eAAe,KAAKC,aAAa,KAAKC,mBAAmB,MAAMd,GAAE,GAAI,QAASF,GAAErH,EAAEqH,EAAEiB,GAAG,QAASC,KAAI,MAAOhH,QAAOiH,YAAYlI,EAAE+C,gBAAgBoF,aAAarF,SAASoC,KAAKiD,YAAY,QAAShJ,KAAI,MAAO8B,QAAOoE,aAAarF,EAAE+C,gBAAgBuC,cAAcxC,SAASoC,KAAKI,aAAa,QAASzF,GAAEH,GAAG,MAAOA,GAAE0I,wBAAwB/D,IAAIgE,EAAErI,EAAE+C,gBAAgBuF,UAAU,QAASC,GAAE7I,GAAG,MAAOA,GAAE0I,wBAAwBI,KAAKnJ,EAAEW,EAAE+C,gBAAgB0F,WAAW,QAASC,KAAI,GAAIT,EAAE,OAAOA,GAAElB,IAAI9F,OAAO9B,IAAIkJ,EAAExI,EAAEkH,GAAGA,EAAEpB,aAAasC,GAAGpI,EAAEH,GAAGsI,EAAE,QAASpI,KAAI,GAAIT,EAAE,OAAOA,GAAE4H,IAAI9F,OAAOgH,IAAIhH,OAAO0H,YAAYJ,EAAExB,GAAGkB,IAAI9I,GAAGoJ,EAAE7I,GAAGsI,EAAE,QAASd,KAAI,GAAIe,EAAE,OAAOA,GAAElB,IAAI9F,OAAOoH,EAAExI,EAAEkH,GAAGkB,GAAGpI,EAAEH,GAAGsI,EAAEtI,EAAEiG,aAAa,QAASsB,KAAI,GAAIgB,EAAE,OAAOA,GAAElB,IAAI9F,OAAO5B,EAAEkJ,EAAExB,GAAGkB,GAAGM,EAAE7I,GAAGsI,EAAEtI,EAAEkJ,YAAY,GAAI5I,GAAEqI,EAAEhJ,CAAE,OAAOW,GAAEN,EAAEmJ,cAAcR,EAAEpH,OAAO+D,aAAahF,EAAEkF,KAAKD,UAAU5F,EAAE4B,OAAO0H,aAAa3I,EAAEkF,KAAK4D,aAAaJ,KAAKxB,KAAKtH,KAAKqH,KAAK,QAASe,KAAI,GAAItI,GAAE,GAAIqJ,KAAK,OAAOrJ,GAAEsJ,UAAU,QAASf,GAAEvI,EAAEqH,GAAG,GAAIiB,GAAEC,IAAK,KAAID,IAAKtI,GAAEA,EAAEuJ,eAAejB,KAAKC,EAAED,GAAGtI,EAAEsI,GAAI,KAAIA,IAAKjB,GAAEA,EAAEkC,eAAejB,KAAKC,EAAED,GAAGjB,EAAEiB,GAAI,OAAOC,GAAE,QAAS9I,GAAEO,GAAG,MAAOwJ,OAAM9F,UAAU+F,MAAMjJ,KAAKR,GAAG,QAASG,GAAEH,EAAEqH,GAAG,GAAIiB,GAAEtI,EAAE0J,aAAc,IAAG,YAAYpB,EAAEqB,QAAQ,IAAI,GAAIpB,GAAE,EAAEA,EAAED,EAAEsB,SAASnJ,OAAO8H,IAAI,CAAC,GAAI9I,GAAE6I,EAAEsB,SAASrB,EAAG,IAAG,WAAW9I,EAAEkK,QAAQ,CAAC,GAAIxJ,GAAEV,EAAEoK,aAAa,QAAQxC,EAAGlH,IAAGV,EAAEqK,aAAa,SAAS3J,KAAK,QAAS0I,GAAE7I,EAAEqH,EAAEiB,GAAG,GAAIC,GAAEvI,EAAE2J,QAAQlK,EAAEO,EAAE6J,aAAa,QAAQvB,EAAG,IAAG,QAAQC,EAAE,CAACpI,EAAEH,EAAEqH,EAAG,IAAIwB,GAAE7I,EAAE6J,aAAa,QAAQxC,EAAG,OAAOwB,IAAG7I,EAAE8J,aAAa,SAASjB,QAAQpJ,GAAGO,EAAE8J,aAAa,MAAMrK,IAAI,MAAM,WAAW8I,OAAO9I,GAAGO,EAAE8J,aAAa,MAAMrK,SAASA,IAAIO,EAAE+J,MAAMC,gBAAgB,OAAOvK,EAAE,MAAM,QAASuJ,GAAEhJ,EAAEqH,GAAG,MAAO,YAAW,MAAOrH,GAAEiK,MAAM5C,EAAE1F,YAAY,QAASzB,GAAEmH,GAAGrH,IAAIiB,KAAKiJ,UAAU3B,EAAEf,EAAEH,GAAGpG,KAAKkJ,iBAAiBlJ,KAAKiJ,UAAUxC,YAAYnG,OAAO6B,SAASnC,KAAKiJ,UAAUxC,UAAUzG,KAAKmJ,kBAAkB,EAAEnJ,KAAKoJ,aAAa,KAAKpJ,KAAKqJ,gBAAgBtB,EAAE/H,KAAKsJ,aAAatJ,MAAMM,OAAOwD,iBAAiB,SAAS9D,KAAKqJ,iBAAiBrJ,KAAK2C,SAAS,GAAI4D,GAAED,GAAE,CAAG,OAAOrH,GAAEwD,UAAU8G,cAAc,SAASxK,GAAG,QAASqH,KAAIrH,EAAE6E,oBAAoB,OAAOyD,GAAGtI,EAAEmD,UAAUqB,OAAO+D,EAAER,eAAeQ,EAAEJ,gBAAgBI,EAAEJ,eAAenI,GAAG,QAASsI,KAAI,OAAOC,IAAIA,EAAEL,eAAeK,EAAEL,cAAclI,GAAGA,EAAEmD,UAAUqB,OAAO+D,EAAER,eAAe/H,EAAEmD,UAAUgB,IAAIoE,EAAEP,cAAchI,EAAE6E,oBAAoB,OAAOyD,GAAGtI,EAAE6E,oBAAoB,QAAQwC,IAAI,GAAIkB,GAAEtH,KAAKiJ,SAAU,SAAQlK,EAAE2J,SAAS,WAAW3J,EAAE2J,UAAU3J,EAAE+E,iBAAiB,OAAOuD,GAAGtI,EAAE+E,iBAAiB,QAAQsC,GAAGrH,EAAEmD,UAAUgB,IAAIoE,EAAER,gBAAgBc,EAAE7I,EAAEuI,EAAET,YAAYS,EAAEV,UAAUU,EAAEH,cAAcG,EAAEH,aAAapI,IAAIE,EAAEwD,UAAU+G,qBAAqB,WAAW,GAAIzK,GAAEsI,EAAEC,EAAEtH,KAAKiJ,UAAUzK,EAAEwB,KAAKyJ,UAAUvK,EAAEV,EAAEA,EAAEgB,OAAO,EAAEoI,IAAK,KAAI7I,EAAE,EAAEA,EAAEG,EAAEH,IAAIsI,EAAE7I,EAAEO,GAAGuI,EAAEN,gBAAgB,OAAOK,EAAEqC,cAActD,EAAEiB,EAAEC,EAAEb,UAAUa,EAAEZ,aAAa1G,KAAKuJ,cAAclC,GAAGO,EAAE+B,KAAK5K,GAAGsI,EAAEuC,cAAa,EAAI,MAAKhC,EAAEpI,OAAO,GAAGhB,EAAEqL,OAAOjC,EAAEkC,MAAM,GAAGxC,EAAEF,oBAAoBE,EAAEF,mBAAmB5I,EAAEgB,OAAQ,KAAIN,GAAGc,KAAK+J,sBAAsB9K,EAAEwD,UAAUuH,eAAe,WAAW,GAAIjL,GAAEqH,EAAEiB,EAAErH,KAAKyJ,UAAUnC,EAAED,EAAE7H,OAAOhB,IAAK,KAAIO,EAAE,EAAEA,EAAEuI,EAAEvI,IAAIqH,EAAEiB,EAAEtI,GAAGqH,EAAEwD,cAAcpL,EAAEmL,KAAK5K,EAAG,MAAKP,EAAEgB,OAAO,GAAG6H,EAAEwC,OAAOrL,EAAEsL,MAAM,IAAI7K,EAAEwD,UAAUwH,oBAAoB,WAAWjK,KAAKkK,oBAAoBlK,KAAKkK,mBAAkB,EAAGlK,KAAKiJ,UAAUxC,UAAU3C,iBAAiB,SAAS9D,KAAKqJ,mBAAmBpK,EAAEwD,UAAUsH,mBAAmB,WAAW/J,KAAKkK,oBAAoBlK,KAAKkK,mBAAkB,EAAGlK,KAAKiJ,UAAUxC,UAAU7C,oBAAoB,SAAS5D,KAAKqJ,mBAAmBpK,EAAEwD,UAAU6G,aAAa,WAAW,GAAIvK,GAAEqH,EAAEkB,CAAEtH,MAAKiJ,YAAY7C,EAAEiB,IAAIC,EAAEtH,KAAKiJ,UAAUtC,SAAS,IAAIW,GAAGvI,EAAEuI,GAAGlB,EAAEpG,KAAKmJ,mBAAmBpK,GAAG,GAAGA,EAAEuI,GAAGtH,KAAKoJ,eAAee,aAAanK,KAAKoJ,cAAcpJ,KAAKoJ,aAAa,MAAMpJ,KAAKmJ,kBAAkB/C,EAAEpG,KAAKwJ,wBAAwBxJ,KAAKoJ,eAAepJ,KAAKoJ,aAAahG,WAAW2E,EAAE,WAAW/H,KAAKmJ,kBAAkB9B,IAAIrH,KAAKoJ,aAAa,KAAKpJ,KAAKwJ,wBAAwBxJ,MAAMjB,KAAKiB,KAAKwJ,yBAAyBvK,EAAEwD,UAAUE,OAAO,WAAW3C,KAAKyJ,UAAUjL,EAAEwB,KAAKkJ,iBAAiBkB,iBAAiBpK,KAAKiJ,UAAUzC,oBAAoBxG,KAAKgK,iBAAiBhK,KAAKwJ,uBAAuBxJ,KAAKiK,uBAAuBhL,EAAEwD,UAAUa,QAAQ,WAAWhD,OAAOsD,oBAAoB,SAAS5D,KAAKqJ,iBAAiBrJ,KAAKoJ,eAAee,aAAanK,KAAKoJ,cAAcpJ,KAAKoJ,aAAa,MAAMpJ,KAAK+J,qBAAqB/J,KAAKyJ,UAAU,KAAKzJ,KAAKkJ,iBAAiB,KAAKlJ,KAAKiJ,UAAU,MAAMhK,SAEplJoL,GAAG,SAASrL,EAAQU,EAAOJ,GACjCgB,OAAOwD,iBAAiB,OAAO,WAAW,QAASpF,GAAEK,GAAG,GAAIqH,GAAEjE,SAASmI,cAAc,QAASlE,GAAEmE,KAAK,WAAWnE,EAAEoE,WAAWpE,EAAEoE,WAAWC,QAAQ1L,EAAEqH,EAAEsE,YAAYvI,SAASwI,eAAe5L,IAAIoD,SAASyI,KAAKC,aAAazE,EAAEjE,SAASyI,KAAKE,YAAY,QAASlD,GAAE7I,EAAEqH,GAAG,GAAI5H,GAAE4H,EAAE2E,OAAOnD,EAAEpJ,EAAE0D,SAAU,KAAI0F,EAAE5D,SAAS,YAAY,OAAM,CAAG,IAAI9E,GAAEV,EAAEoK,aAAa,aAAc,IAAG1J,GAAGA,GAAGH,EAAE,OAAM,CAAGP,GAAEqK,aAAa,aAAa9J,EAAG,IAA4CgJ,GAAxCV,EAAE7I,EAAEiJ,wBAAwBvI,EAAEkH,EAAE4E,OAAU,UAAS9L,EAAE6I,EAAE3B,EAAE6E,SAAS/L,EAAEkH,EAAE8E,QAAQ7D,EAAEQ,KAChfE,EAAE3B,EAAE+E,QAAQ9D,EAAE3D,IAAK,IAAI4D,GAAEnF,SAASmI,cAAc,OAAOjD,EAAEA,EAAE+D,OAAO/D,EAAEgE,OAAO,MAAMhE,EAAE+D,MAAMtG,KAAKwG,KAAKjE,EAAE+D,MAAM/D,EAAE+D,MAAM/D,EAAEgE,OAAOhE,EAAEgE,QAAQ/E,EAAE,EAAEe,EAAE,IAAKC,GAAEwB,MAAMsC,MAAM9E,EAAEgB,EAAEwB,MAAMuC,OAAO/E,EAAEgB,EAAEwB,MAAMyC,YAAYlE,EAAEnI,EAAE,KAAKoI,EAAEwB,MAAM0C,WAAWnE,EAAEU,EAAE,KAAKT,EAAEmE,UAAU,SAASjN,EAAEkM,YAAYpD,GAAGhH,OAAO8C,WAAW,WAAWkE,EAAEpF,UAAUgB,IAAI,SAAS,EAAG,IAAI7D,GAAE,aAAaN,EAAE,UAAU,WAAW2I,EAAE,SAAS3I,GAAGoD,SAASyB,oBAAoBvE,EAAEqI,GAAGJ,EAAEpF,UAAUgB,IAAI,QAAQ5C,OAAO8C,WAAW,WAAW5E,EAAEkN,YAAYpE,GAAG9I,EAAEmK,SAASnJ,SACpfoI,EAAErE,OAAO,UAAU/E,EAAEmN,gBAAgB,gBAAgB,KAAMxJ,UAAS2B,iBAAiBzE,EAAEqI,IAAG,WAAY,GAAI3I,GAAEoD,SAASmI,cAAc,MAAOvL,GAAE0M,UAAU,WAAWtJ,SAASoC,KAAKmG,YAAY3L,EAAG,IAAIqH,GAAE,YAAY9F,OAAOsL,iBAAiB7M,GAAG8M,QAAsC,OAA7B1J,UAASoC,KAAKmH,YAAY3M,GAAUqH,OAAO1H,EAAE,u0BAClSyD,SAAS2B,iBAAiB,YAAY,SAAS/E,GAAG,GAAGA,EAAE+M,QAAQlE,EAAE7I,EAAEwL,KAAKxL,KAAKoD,SAAS2B,iBAAiB,aAAa,SAAS/E,GAAG,IAAI,GAAIqH,GAAE,EAAEA,EAAErH,EAAEgN,eAAevM,SAAS4G,EAAEwB,EAAE7I,EAAEwL,KAAKxL,EAAEgN,eAAe3F,aAE9L4F,GAAG,SAAShN,EAAQU,EAAOJ,IAC8C,WAAW,QAAS2M,GAAGlN,EAAEqH,EAAEiB,GAAG,MAAOtI,GAAEQ,KAAKyJ,MAAMjK,EAAEkD,KAAKvB,WAAW,QAASwL,GAAGnN,EAAEqH,EAAEiB,GAAG,IAAItI,EAAE,KAAMI,QAAQ,IAAG,EAAEuB,UAAUlB,OAAO,CAAC,GAAI8H,GAAEiB,MAAM9F,UAAU+F,MAAMjJ,KAAKmB,UAAU,EAAG,OAAO,YAAW,GAAI2G,GAAEkB,MAAM9F,UAAU+F,MAAMjJ,KAAKmB,UAA8C,OAAnC6H,OAAM9F,UAAU0J,QAAQnD,MAAM3B,EAAEC,GAAUvI,EAAEiK,MAAM5C,EAAEiB,IAAI,MAAO,YAAW,MAAOtI,GAAEiK,MAAM5C,EAAE1F,YAAY,QAAS0L,GAAErN,EAAEqH,EAAEiB,GAAkG,MAA/F+E,GAAEC,SAAS5J,UAAUR,OAAM,GAAIoK,SAAS5J,UAAUR,KAAKqK,WAAWC,QAAQ,eAAeN,EAAGC,EAAUE,EAAEpD,MAAM,KAAKtI,WAAuD,QAAS8L,GAAGzN,EAAEqH,GAAGpG,KAAKjB,EAAEA,EAAEiB,KAAK0H,EAAEtB,GAAGrH,EAAEiB,KAAKqH,EAAErH,KAAK0H,EAAEvF,SAAkC,QAAS1D,GAAEM,EAAEqH,EAAEiB,EAAEC,GAA0B,GAAvBlB,EAAErH,EAAEsI,EAAEiD,cAAclE,GAAMiB,EAAE,IAAI,GAAI7I,KAAK6I,GAAEA,EAAEiB,eAAe9J,KAAK,SAASA,EAAE4H,EAAE0C,MAAM2B,QAAQpD,EAAE7I,GAAG4H,EAAEyC,aAAarK,EAAE6I,EAAE7I,IAA6C,OAAxC8I,IAAGlB,EAAEsE,YAAY3L,EAAEsI,EAAEsD,eAAerD,IAAWlB,EAAE,QAAStH,GAAEC,EAAEqH,EAAEiB,GAAGtI,EAAEA,EAAEsI,EAAEoF,qBAAqBrG,GAAG,GAAGrH,IAAIA,EAAEoD,SAASC,iBAAiBrD,EAAE8L,aAAaxD,EAAEtI,EAAE2N,WAAW,QAASC,GAAE5N,GAAGA,EAAEyF,YAAYzF,EAAEyF,WAAWkH,YAAY3M,GAC1hC,QAAS6N,GAAE7N,EAAEqH,EAAEiB,GAAGjB,EAAEA,MAAMiB,EAAEA,KAAM,KAAI,GAAIC,GAAEvI,EAAE0M,UAAUoB,MAAM,OAAOrO,EAAE,EAAEA,EAAE4H,EAAE5G,OAAOhB,GAAG,EAAE,CAAC,IAAI,GAAIU,IAAE,EAAG0I,EAAE,EAAEA,EAAEN,EAAE9H,OAAOoI,GAAG,EAAE,GAAGxB,EAAE5H,KAAK8I,EAAEM,GAAG,CAAC1I,GAAE,CAAG,OAAMA,GAAGoI,EAAEqC,KAAKvD,EAAE5H,IAAS,IAAL4H,KAAS5H,EAAE,EAAEA,EAAE8I,EAAE9H,OAAOhB,GAAG,EAAE,CAAM,IAALU,GAAE,EAAO0I,EAAE,EAAEA,EAAEP,EAAE7H,OAAOoI,GAAG,EAAE,GAAGN,EAAE9I,KAAK6I,EAAEO,GAAG,CAAC1I,GAAE,CAAG,OAAMA,GAAGkH,EAAEuD,KAAKrC,EAAE9I,IAAIO,EAAE0M,UAAUrF,EAAE0G,KAAK,KAAKC,QAAQ,OAAO,KAAKA,QAAQ,YAAY,IAAI,QAASC,GAAEjO,EAAEqH,GAAG,IAAI,GAAIiB,GAAEtI,EAAE0M,UAAUoB,MAAM,OAAOvF,EAAE,EAAE9I,EAAE6I,EAAE7H,OAAO8H,EAAE9I,EAAE8I,IAAI,GAAGD,EAAEC,IAAIlB,EAAE,OAAM,CAAG,QAAM,EACpb,QAAS6G,GAAElO,GAAG,GAAG,gBAAkBA,GAAEG,EAAE,MAAOH,GAAEG,CAAE,IAAIkH,GAAErH,EAAE2I,EAAEwF,SAASC,QAAgD,OAAvC,UAAU/G,IAAIA,EAAErH,EAAEA,EAAEmO,SAASC,UAAgB,UAAU/G,EAAE,SAAS,QAAQ,QAASgH,GAAGrO,GAAG,MAAOA,GAAE2I,EAAEwF,SAASG,UAAUtO,EAAEA,EAAEmO,SAASG,SAClN,QAASC,GAAEvO,EAAEqH,EAAEiB,GAAG,QAASC,KAAIhB,GAAG9H,GAAGU,IAAIoH,EAAEsB,GAAGtB,EAAE,MAAMF,EAAE3H,EAAEM,EAAE,QAAQwO,IAAI,aAAaC,KAAKpH,EAAEqH,MAAM,OAAQ,IAAIjP,IAAE,EAAGU,GAAE,EAAG0I,EAAE,KAAKtB,EAAEe,GAAG,IAAKqG,KAAItH,EAAEuH,OAAO,WAAWnP,GAAE,EAAG8I,KAAKlB,EAAEwH,QAAQ,WAAWpP,GAAE,EAAGoJ,EAAEzI,MAAM,6BAA6BmI,MAAMlE,WAAW,WAAW5E,GAAE,EAAG8I,KAAK,GAAGxI,EAAEC,EAAE,OAAOqH,GAC9R,QAASyH,GAAE9O,EAAEqH,EAAEiB,EAAEC,GAAG,GAAI9I,GAAEO,EAAEsI,EAAEoF,qBAAqB,QAAQ,EAAG,IAAGjO,EAAE,CAAC,GAAIU,GAAET,EAAEM,EAAE,UAAU+O,IAAI1H,IAAIwB,GAAE,CAA0T,OAAvT1I,GAAEyO,OAAOzO,EAAE6O,mBAAmB,WAAWnG,GAAG5H,KAAKgO,YAAY,UAAUhO,KAAKgO,YAAY,YAAYhO,KAAKgO,aAAapG,GAAE,EAAGP,GAAGA,EAAE,MAAMnI,EAAEyO,OAAOzO,EAAE6O,mBAAmB,KAAK,QAAQ7O,EAAEsF,WAAWkE,SAASlK,EAAEkN,YAAYxM,KAAKV,EAAEkM,YAAYxL,GAAGkE,WAAW,WAAWwE,IAAIA,GAAE,EAAGP,GAAGA,EAAElI,MAAM,0BAA0BmI,GAAG,KAAYpI,EAAE,MAAO,MAAM,QAAS+O,KAAIjO,KAAKjB,EAAE,EAAEiB,KAAKqH,EAAE,KAAK,QAAS6G,GAAEnP,GAAS,MAANA,GAAEA,IAAW,WAAWA,EAAEA,IAAIoP,EAAEpP,IAAI,QAASqP,GAAErP,EAAEqH,GAAGrH,EAAEsI,EAAEjB,EAAE+H,EAAEpP,GAAG,QAASoP,GAAEpP,GAAG,GAAGA,EAAEA,GAAGA,EAAEsI,IAAItI,EAAEsI,IAAItI,EAAEsI,EAAE,MAAO,QAASgH,GAAEtP,GAAGiB,KAAKjB,EAAEA,GAAG,IAAsJ,QAASuP,GAAEvP,EAAEqH,GAAGpG,KAAKqH,EAAEtI,EAAEiB,KAAKd,EAAE,EAAEc,KAAKjB,EAAE,GAAI,IAAIsI,IAAGjB,GAAG,MAAMmI,MAAM,oBAAqBlH,KAAIrH,KAAKjB,EAAEsI,EAAE,GAAGrH,KAAKd,EAAEsP,SAASnH,EAAE,GAAG,KAAK,QAASoH,GAAG1P,GAAG,MAAO2P,GAAE3P,GAAG,KAAKA,EAAEG,EAAE,MAAM,UAAUyP,EAAE5P,EAAEsI,GAAG,QAASsH,GAAE5P,GAAG,GAAIqH,KAAKrH,GAAEA,EAAE8N,MAAM,OAAQ,KAAI,GAAIxF,GAAE,EAAEA,EAAEtI,EAAES,OAAO6H,IAAI,CAAC,GAAIC,GAAEvI,EAAEsI,GAAG0F,QAAQ,QAAQ,KAAI,GAAIzF,EAAEiF,QAAQ,MAAM,MAAMqC,KAAKtH,GAAGlB,EAAEuD,KAAK,IAAIrC,EAAE,KAAKlB,EAAEuD,KAAKrC,GAAG,MAAOlB,GAAE0G,KAAK,KAAK,QAAS+B,GAAE9P,GAAG,MAAOA,GAAEA,EAAEA,EAAEG,EAAE,QAASwP,GAAE3P,GAAG,GAAIqH,GAAE,QAAuD,OAA9C,MAAMrH,EAAEA,EAAEqH,EAAE,UAAU,MAAMrH,EAAEA,IAAIqH,EAAE,UAAiBA,EAC7tC,QAAS0I,GAAG/P,GAAG,GAAIqH,GAAE,EAAEiB,EAAE,IAAIC,EAAE,IAA0N,OAArNvI,MAAKuI,EAAEvI,EAAEwP,MAAM,8BAA8BjH,EAAE,KAAKD,EAAEC,EAAE,GAAGyH,OAAO,EAAE,GAAGC,gBAAgB1H,EAAEvI,EAAEwP,MAAM,4BAA4BjH,EAAE,KAAK,QAAQsH,KAAKtH,EAAE,IAAIlB,EAAE,EAAE,UAAUwI,KAAKtH,EAAE,MAAMlB,EAAEoI,SAASlH,EAAE,GAAGyH,OAAO,EAAE,GAAG,OAAc1H,EAAEjB,EAAG,QAAS6I,GAAGlQ,EAAEqH,GAAGpG,KAAKqH,EAAEtI,EAAEiB,KAAKd,EAAEH,EAAE2I,EAAEvF,SAASC,gBAAgBpC,KAAK+H,EAAE3B,EAAEpG,KAAKjB,EAAE,GAAIsP,GAAE,KAAKrO,KAAKuG,GAAE,IAAKH,EAAE8I,OAAOlP,KAAK4H,GAAE,IAAKxB,EAAE9E,QAAQ,QAAS6N,GAAGpQ,GAAGA,EAAE6I,GAAGgF,EAAE7N,EAAEG,GAAGH,EAAEA,EAAEsI,EAAE,KAAK,aAAa+H,EAAErQ,EAAE,WAAW,QAASsQ,GAAEtQ,GAAG,GAAGA,EAAE6I,EAAE,CAAC,GAAIxB,GAAE4G,EAAEjO,EAAEG,EAAEH,EAAEA,EAAEsI,EAAE,KAAK,WAAWA,KAAKC,GAAGvI,EAAEA,EAAEsI,EAAE,KAAK,WAAYjB,IAAGiB,EAAEsC,KAAK5K,EAAEA,EAAEsI,EAAE,KAAK,aAAauF,EAAE7N,EAAEG,EAAEmI,EAAEC,GAAG8H,EAAErQ,EAAE,YAAY,QAASqQ,GAAErQ,EAAEqH,EAAEiB,GAAMtI,EAAEwH,GAAGxH,EAAEgJ,EAAE3B,KAAMiB,EAAEtI,EAAEgJ,EAAE3B,GAAGiB,EAAEA,EAAEwH,EAAExH,IAAStI,EAAEgJ,EAAE3B,MAAM,QAASkJ,KAAKtP,KAAKqH,KAAK,QAASkI,GAAGxQ,EAAEqH,EAAEiB,GAAG,GAAS7I,GAAL8I,IAAO,KAAI9I,IAAK4H,GAAE,GAAGA,EAAEkC,eAAe9J,GAAG,CAAC,GAAIU,GAAEH,EAAEsI,EAAE7I,EAAGU,IAAGoI,EAAEqC,KAAKzK,EAAEkH,EAAE5H,GAAG6I,IAAI,MAAOC,GAAG,QAASkI,GAAEzQ,EAAEqH,GAAGpG,KAAKqH,EAAEtI,EAAEiB,KAAKd,EAAEkH,EAAEpG,KAAKjB,EAAEN,EAAEuB,KAAKqH,EAAE,QAAQoI,cAAc,QAAQzP,KAAKd,GAAG,QAASwQ,GAAE3Q,GAAGD,EAAEC,EAAEsI,EAAE,OAAOtI,EAAEA,GAAG,QAAS4Q,GAAE5Q,GAAG,MAAM,4LAA4L4P,EAAE5P,EAAEsI,GAAG,KAAK,cAAcqH,EAAE3P,GAAG,iBAAiBA,EAAEG,EAAE,MAAM,KAAM,QAAS0Q,GAAE7Q,EAAEqH,EAAEiB,EAAEC,EAAE9I,EAAEU,GAAGc,KAAK4H,EAAE7I,EAAEiB,KAAKuG,EAAEH,EAAEpG,KAAKjB,EAAEuI,EAAEtH,KAAKqH,EAAEA,EAAErH,KAAKd,EAAEV,GAAG,IAAIwB,KAAK+H,EAAE7I,GAAG,OAA0V,QAAS2Q,GAAE9Q,EAAEqH,EAAEiB,EAAEC,EAAE9I,EAAEU,EAAE0I,GAAG5H,KAAK2M,EAAE5N,EAAEiB,KAAK6N,EAAEzH,EAAEpG,KAAKqH,EAAEA,EAAErH,KAAKjB,EAAEuI,EAAEtH,KAAKpB,EAAEgJ,GAAG,UAAU5H,KAAKd,KAAKc,KAAK4M,EAAEpO,GAAG,IAAIwB,KAAKlB,EAAEI,GAAG,KAAKc,KAAKnB,EAAEmB,KAAKuG,EAAEvG,KAAK+H,EAAE/H,KAAK4H,EAAE,KAAK5H,KAAK4H,EAAE,GAAI4H,GAAExP,KAAKqH,EAAErH,KAAKpB,GAAGoB,KAAK+H,EAAE,GAAIyH,GAAExP,KAAKqH,EAAErH,KAAKpB,GAAGoB,KAAKuG,EAAE,GAAIiJ,GAAExP,KAAKqH,EAAErH,KAAKpB,GAAGoB,KAAKnB,EAAE,GAAI2Q,GAAExP,KAAKqH,EAAErH,KAAKpB,GAAGG,EAAE,GAAIuP,GAAEtO,KAAKjB,EAAEsI,EAAE,SAASwH,EAAE7O,KAAKjB,IAAIA,EAAE4Q,EAAE5Q,GAAGiB,KAAK4H,EAAE7I,EAAE+J,MAAM2B,QAAQ1L,EAAEA,EAAE,GAAIuP,GAAEtO,KAAKjB,EAAEsI,EAAE,cAAcwH,EAAE7O,KAAKjB,IAAIA,EAAE4Q,EAAE5Q,GAAGiB,KAAK+H,EAAEhJ,EAAE+J,MAAM2B,QAAQ1L,EAAEA,EAAE,GAAIuP,GAAE,QAAQO,EAAE7O,KAAKjB,IAAIA,EAAE4Q,EAAE5Q,GAAGiB,KAAKuG,EAAExH,EAAE+J,MAAM2B,QAAQ1L,EAAEA,EAAE,GAAIuP,GAAE,aAAaO,EAAE7O,KAAKjB,IAAIA,EACplE4Q,EAAE5Q,GAAGiB,KAAKnB,EAAEE,EAAE+J,MAAM2B,QAAQ1L,EAAE2Q,EAAE1P,KAAK4H,GAAG8H,EAAE1P,KAAK+H,GAAG2H,EAAE1P,KAAKuG,GAAGmJ,EAAE1P,KAAKnB,GAA2C,QAASiR,KAAI,GAAG,OAAOC,GAAE,CAAC,GAAIhR,GAAE,sCAAsCiR,KAAK1P,OAAO2P,UAAUC,UAAWH,MAAIhR,IAAI,IAAIyP,SAASzP,EAAE,GAAG,KAAK,MAAMyP,SAASzP,EAAE,GAAG,KAAK,IAAIyP,SAASzP,EAAE,GAAG,KAAK,MAAOgR,IAC3S,QAASI,GAAGpR,EAAEqH,EAAEiB,GAAG,IAAI,GAAIC,KAAK8I,IAAE,GAAGA,GAAE9H,eAAehB,IAAIlB,IAAIrH,EAAEG,EAAEkR,GAAE9I,KAAKD,IAAItI,EAAEG,EAAEkR,GAAE9I,IAAI,OAAM,CAAG,QAAM,EAAG,QAAS+I,GAAGtR,GAAG,GAA4CuI,GAAxClB,EAAErH,EAAE6I,EAAE7I,EAAEkJ,YAAYZ,EAAEtI,EAAEgJ,EAAEhJ,EAAEkJ,aAAeX,EAAElB,IAAIrH,EAAEG,EAAEoR,OAAOjJ,IAAItI,EAAEG,EAAE,iBAAiBoI,EAAEwI,KAAKK,EAAGpR,EAAEqH,EAAEiB,IAAIC,EAAEiJ,KAAIxR,EAAEuO,GAAGvO,EAAE6N,EAAEkD,KAAKK,EAAGpR,EAAEqH,EAAEiB,KAAK,OAAOtI,EAAED,GAAGC,EAAED,EAAEwJ,eAAevJ,EAAEA,EAAEsI,IAAImJ,EAAEzR,EAAEA,EAAE4N,GAAG6D,EAAEzR,EAAEA,EAAE8O,GAAG4C,EAAG1R,GAAGyR,EAAEzR,EAAEA,EAAE4N,GAAG,QAAS8D,GAAG1R,GAAGqE,WAAWgJ,EAAE,WAAWiE,EAAGrQ,OAAOjB,GAAG,IAAI,QAASyR,GAAEzR,EAAEqH,GAAGhD,WAAWgJ,EAAE,WAAWO,EAAE3M,KAAK4H,EAAE7I,GAAG4N,EAAE3M,KAAK+H,EAAEhJ,GAAG4N,EAAE3M,KAAKuG,EAAExH,GAAG4N,EAAE3M,KAAKnB,EAAEE,GAAGqH,EAAEpG,KAAKjB,IAAIA,GAAG,GAAI,QAAS2R,GAAE3R,EAAEqH,EAAEiB,GAAGrH,KAAKqH,EAAEtI,EAAEiB,KAAKjB,EAAEqH,EAAEpG,KAAKd,EAAE,EAAEc,KAAKnB,EAAEmB,KAAKuG,GAAE,EAAGvG,KAAKpB,EAAEyI,EACzT,QAASsJ,GAAG5R,GAAG,KAAKA,EAAEG,GAAGH,EAAEwH,IAAIxH,EAAEF,GAAGE,EAAEA,EAAEA,EAAEA,EAAE6I,GAAGgF,EAAE7N,EAAEG,GAAGH,EAAEA,EAAEsI,EAAE,KAAK,YAAYtI,EAAEA,EAAEsI,EAAE,KAAK,WAAWtI,EAAEA,EAAEsI,EAAE,KAAK,cAAc+H,EAAErQ,EAAE,WAAWsQ,EAAEtQ,EAAEA,IAAK,QAAS6R,GAAG7R,GAAGiB,KAAKuG,EAAExH,EAAEiB,KAAKjB,EAAE,GAAIuQ,GAAGtP,KAAK+H,EAAE,EAAE/H,KAAKd,EAAEc,KAAK4H,GAAE,EAC1c,QAASiJ,GAAG9R,EAAEqH,EAAEiB,EAAEC,EAAE9I,GAAG,GAAIU,GAAE,KAAKH,EAAEgJ,GAAGhJ,EAAEG,GAAGH,EAAE6I,IAAIxE,WAAW,WAAW,GAAIrE,GAAEP,GAAG,KAAK8H,EAAEgB,GAAG,QAAS,IAAG,IAAID,EAAE7H,QAAQN,EAAEmQ,EAAEjJ,EAAErH,OAAO,CAACqH,EAAElH,GAAGmI,EAAE7H,OAAON,IAAIkH,EAAEG,EAAErH,EAAG,IAAI6I,GAAEL,IAAK,KAAIK,EAAE,EAAEA,EAAEV,EAAE7H,OAAOuI,IAAI,CAAC,GAAI1I,GAAEgI,EAAEU,GAAGrJ,EAAE4H,EAAEjH,EAAEgI,GAAG1I,EAAEyH,EAAErH,EAAE+R,EAAEzR,CAAsF,IAApFV,EAAEiJ,GAAGgF,EAAEjO,EAAEO,GAAGP,EAAEI,EAAEsI,EAAE,KAAKyJ,EAAEzJ,EAAEwH,EAAEiC,GAAGxE,WAAW,aAAa8C,EAAEzQ,EAAE,cAAcmS,GAAGnS,EAAE,KAAQ,OAAOoS,GAAE,GAAGzQ,OAAO0Q,SAAS,CAAC,GAAIF,GAAE,wBAAwBd,KAAK1P,OAAO2P,UAAUC,WAAWe,EAAG,8BAA8BjB,KAAK1P,OAAO2P,UAAUC,YAAY,QAAQF,KAAK1P,OAAO2P,UAAUiB,OACjfH,IAAED,EAAE,GAAGtC,SAASsC,EAAE,GAAG,KAAIG,MAAcF,KAAE,CAAKpS,GAAFoS,GAAI,GAAInB,GAAExD,EAAEhG,EAAEwB,EAAExB,GAAGgG,EAAEhG,EAAE2B,EAAE3B,GAAGA,EAAEiB,EAAEhI,EAAE+G,EAAExH,EAAEF,GAAK,GAAImR,GAAEzD,EAAEhG,EAAEwB,EAAExB,GAAGgG,EAAEhG,EAAE2B,EAAE3B,GAAGA,EAAEiB,EAAEhI,EAAE+G,EAAExH,EAAEG,EAAEL,GAAGgJ,EAAEiC,KAAKhL,GAAG,IAAIoJ,EAAE,EAAEA,EAAEL,EAAElI,OAAOuI,IAAIL,EAAEK,GAAGoJ,UAAU,GAAG,QAASC,GAAGrS,EAAEqH,EAAEiB,GAAG,GAAIC,MAAK9I,EAAE6I,EAAEgK,OAAQlC,GAAG/I,EAAG,IAAIkB,GAAEiI,EAAGxQ,EAAEA,EAAEsI,EAAEtI,EAAEsI,GAAGnI,EAAE,GAAIwR,GAAE3R,EAAEsI,EAAEjB,EAAE5H,EAAoB,KAAjBO,EAAEgJ,EAAET,EAAE9H,OAAO4G,EAAE,EAAMiB,EAAEC,EAAE9H,OAAO4G,EAAEiB,EAAEjB,IAAIkB,EAAElB,GAAGkL,KAAK,SAASlL,EAAEkB,EAAED,GAAGwJ,EAAG9R,EAAEG,EAAEkH,EAAEkB,EAAED,KAAM,QAASkK,GAAGxS,EAAEqH,GAAGpG,KAAKqH,EAAEtI,EAAEiB,KAAKjB,EAAEqH,EAAE,QAASoL,GAAGzS,EAAEqH,EAAEiB,GAAG,GAAIC,GAAE2F,EAAElO,EAAEsI,EAAyE,OAAtEtI,IAAGA,EAAEA,EAAE0S,KAAK,wBAAwB1E,QAAQ,sBAAsB,IAAWzF,EAAE,KAAKvI,EAAE,IAAIqH,EAAE,OAAOiB,EAAE,MAAMA,EAAE,IAEzf,QAASqK,GAAG3S,EAAEqH,GAAGpG,KAAKqH,EAAEtI,EAAEiB,KAAKjB,EAAEqH,EAAuV,QAASuL,GAAG5S,EAAEqH,EAAEiB,GAAGtI,EAAEiB,KAAKqH,EAAEtI,EAAEiB,KAAKqH,EAAEjB,EAAEwL,GAAG5R,KAAKjB,KAAKiB,KAAKd,KAAKc,KAAK4H,EAAEP,GAAG,GAAuC,QAASwK,GAAG9S,EAAEqH,GAAG,IAAI,GAAIiB,GAAEjB,EAAE5G,OAAO8H,EAAE,EAAEA,EAAED,EAAEC,IAAI,CAAC,GAAI9I,GAAE4H,EAAEkB,GAAGuF,MAAM,IAAK,IAAGrO,EAAEgB,QAAQT,EAAEG,EAAEyK,KAAKnL,EAAEsL,MAAO,IAAI5K,GAAE,EAAG,IAAGV,EAAEgB,QAAQ,IAAIhB,EAAE,KAAKU,EAAE,KAAKH,EAAEA,EAAE4K,KAAKnL,EAAEsO,KAAK5N,KACnpB,QAAS4S,GAAG/S,GAAG,GAAG,GAAGA,EAAEA,EAAES,OAAO,KAAML,OAAM,oBAAqB,KAAG,GAAIJ,EAAEsI,EAAEkF,QAAQ,QAAQ,MAAOxN,GAAEsI,CAAE,KAAI,GAAIjB,GAAErH,EAAEA,EAAES,OAAO6H,KAAKC,EAAE,EAAEA,EAAElB,EAAEkB,IAAID,EAAEsC,KAAK5K,EAAEA,EAAEuI,GAAGyF,QAAQ,KAAK,KAAqI,OAA/H3G,GAAErH,EAAEsI,EAAE,WAAWA,EAAEyF,KAAK,OAAO,EAAE/N,EAAEG,EAAEM,SAAS4G,GAAG,WAAWrH,EAAEG,EAAE4N,KAAK,MAAM,EAAE/N,EAAE6I,EAAEpI,SAAS4G,GAAG,SAAS2L,mBAAmBhT,EAAE6I,IAAWxB,EAAG,QAAS4L,GAAGjT,GAAGiB,KAAKd,EAAEH,EAAEiB,KAAKjB,KAAKiB,KAAKqH,KAG9V,QAAS4K,GAAGlT,GAAG,IAAI,GAAIqH,GAAErH,EAAEG,EAAEM,OAAO6H,EAAE,EAAEA,EAAEjB,EAAEiB,IAAI,CAAC,GAAIC,GAAEvI,EAAEG,EAAEmI,GAAGwF,MAAM,KAAKrO,EAAE8I,EAAE,GAAGyF,QAAQ,MAAM,KAAK7N,GAAG,KAAM,IAAG,GAAGoI,EAAE9H,OAAO,CAAC,GAAIoI,GAAMtB,EAAEgB,EAAE,EAAQ,IAALM,KAAQtB,EAAE,IAAI,GAAIA,GAAEA,EAAEuG,MAAM,KAAK9E,EAAEzB,EAAE9G,OAAOkI,EAAE,EAAEA,EAAEK,EAAEL,IAAI,CAAC,GAAIrI,EAAS,IAAPA,EAAEiH,EAAEoB,GAAMrI,EAAEkP,MAAM,YAAY,CAAC,GAAI7P,GAAEwT,GAAGlC,KAAK3Q,EAAE2P,cAAe,IAAG,MAAMtQ,EAAEW,EAAE,OAAO,CAA0C,GAAzCA,EAAEX,EAAE,GAAGW,EAAE,MAAMA,GAAG,IAAIA,EAAE,IAAI8S,GAAG9S,GAAGX,EAAEA,EAAE,GAAM,MAAMA,GAAG,IAAIA,EAAEA,EAAE,QAAS,IAAIC,GAAEyT,GAAG1T,GAAGA,EAAEC,EAAEA,EAAE0T,MAAM3T,GAAG,IAAIA,EAAEqQ,OAAO,EAAE,EAAG1P,IAAGA,EAAEX,GAAGoO,KAAK,SAAUzN,GAAE,EAAGA,IAAGuI,EAAE+B,KAAKtK,GAAG,EAAEuI,EAAEpI,SAASN,EAAE0I,GAAG,GAAGN,EAAE9H,SAAS8H,EAAEA,EAAE,GAAGM,KAAKN,EAAEA,EAAEA,EAAEuF,MAAM,KACnfjF,EAAE,EAAEN,EAAE9H,SAAS8H,EAAEgL,GAAGhL,EAAE,OAAOvI,EAAEsI,EAAE7I,GAAG8I,IAAkC,IAA9BvI,EAAEsI,EAAE7I,KAAK8I,EAAEgL,GAAG9T,MAAMO,EAAEsI,EAAE7I,GAAG8I,GAAOA,EAAE,EAAEA,EAAEpI,EAAEM,OAAO8H,GAAG,EAAEvI,EAAEA,EAAE4K,KAAK,GAAI2E,GAAE9P,EAAEU,EAAEoI,MAAO,QAASiL,IAAGxT,EAAEqH,GAAGpG,KAAKqH,EAAEtI,EAAEiB,KAAKjB,EAAEqH,EAAiO,QAASoM,IAAGzT,EAAEqH,GAAGpG,KAAKqH,EAAEtI,EAAEiB,KAAKjB,EAAEqH,EAAoZ,QAASqM,IAAG1T,EAAEqH,GAAGpG,KAAKqH,EAAEtI,EAAEiB,KAAKd,EAAEkH,EAAEpG,KAAKjB,KAjBnS,GAAIwR,IAAEnI,KAAKsK,KAAK,WAAW,OAAO,GAAItK,OAAuEsF,KAAKpN,OAAO0Q,QAInE3C,GAAE5L,UAAU4E,EAAE,SAAStI,GAAG,IAAI,GAAIqH,MAAKiB,EAAE,EAAEA,EAAE3G,UAAUlB,OAAO6H,IAAIjB,EAAEuD,KAAKjJ,UAAU2G,GAAG0F,QAAQ,UAAU,IAAIiC,cAAe,OAAO5I,GAAE0G,KAAK9M,KAAKjB,IACqhB6Q,EAAEnN,UAAU0O,MAAM,WAAW,GAAIpS,GAAEiB,KAAKqH,EAAEK,EAAEvF,SAASiE,EAAEpG,KAAKqH,EAAEkJ,KAAIjJ,EAAE,GAAIqL,SAAQ,SAASrL,EAAE9I,GAAG,QAAS8H,KAAIiK,KAAIlJ,GAAGjB,EAAElH,EAAEV,IAAIO,EAAE6T,MAAMtB,KAAK7C,EAAGrI,EAAErH,GAAGqH,EAAE2B,GAAG8K,KAAK,SAAS9T,GAAG,GAAGA,EAAES,OAAO8H,IAAIlE,WAAWkD,EAAE,KAAK,WAAW9H,MAAM8H,MAAM9H,EAAE,GAAImU,SAAQ,SAAS5T,EAAEuI,GAAGlE,WAAWkE,EAAElB,EAAElH,IAAKyT,SAAQG,MAAMtU,EAAE8I,IAAIuL,KAAK,WAAWzM,EAAEwB,EAAExB,EAAErH,IAAI,WAAWqH,EAAEG,EAAEH,EAAErH,KACphD,IAAIqR,KAAGlC,EAAE,QAAQD,EAAE,cAAc8B,GAAE,IAAoMF,GAAEpN,UAAU0O,MAAM,WAAWnR,KAAKd,EAAEoR,MAAMtQ,KAAKuG,EAAExH,EAAEkJ,YAAYjI,KAAKd,EAAE,cAAcc,KAAKnB,EAAEE,EAAEkJ,YAAYjI,KAAKsN,EAAEiD,KAAIF,EAAGrQ,MACgJ,IAAI+Q,IAAE,IAAKL,GAAEjO,UAAUmF,EAAE,SAAS7I,GAAG,GAAIqH,GAAEpG,KAAKjB,CAAEqH,GAAEwB,GAAGgF,EAAExG,EAAElH,GAAGkH,EAAErH,EAAEsI,EAAE,KAAKtI,EAAEsI,EAAEwH,EAAE9P,GAAGuN,WAAW,YAAYlG,EAAErH,EAAEsI,EAAE,KAAKtI,EAAEsI,EAAEwH,EAAE9P,GAAGuN,WAAW,WAAWlG,EAAErH,EAAEsI,EAAE,KAAKtI,EAAEsI,EAAEwH,EAAE9P,GAAGuN,WAAW,cAAc8C,EAAEhJ,EAAE,aAAarH,GAAGiB,KAAKnB,GAAE,EAAG8R,EAAG3Q,OACrxB0Q,EAAEjO,UAAUsF,EAAE,SAAShJ,GAAG,GAAIqH,GAAEpG,KAAKjB,CAAE,IAAGqH,EAAEwB,EAAE,CAAC,GAAIP,GAAE2F,EAAE5G,EAAElH,EAAEkH,EAAErH,EAAEsI,EAAE,KAAKtI,EAAEsI,EAAEwH,EAAE9P,GAAGuN,WAAW,WAAWhF,KAAK9I,GAAG4H,EAAErH,EAAEsI,EAAE,KAAKtI,EAAEsI,EAAEwH,EAAE9P,GAAGuN,WAAW,WAAYjF,IAAGC,EAAEqC,KAAKvD,EAAErH,EAAEsI,EAAE,KAAKtI,EAAEsI,EAAEwH,EAAE9P,GAAGuN,WAAW,aAAaM,EAAExG,EAAElH,EAAEoI,EAAE9I,GAAG4Q,EAAEhJ,EAAE,eAAerH,GAAG4R,EAAG3Q,OAA2N4Q,EAAGnO,UAAU6O,KAAK,SAASvS,GAAGiB,KAAKqH,EAAE,GAAImF,GAAGxM,KAAKuG,EAAExH,EAAEgU,SAAS/S,KAAKuG,GAAGvG,KAAK4H,GAAE,IAAK7I,EAAEmQ,OAAOlP,KAAKd,GAAE,IAAKH,EAAEuC,QAAQ8P,EAAGpR,KAAK,GAAIiP,GAAGjP,KAAKqH,EAAEtI,GAAGA,IAGvlBwS,EAAG9O,UAAU6O,KAAK,SAASvS,GAAG,QAASqH,KAAI,GAAGlH,EAAE,eAAeoI,GAAG,CAAC,GAAiCS,GAA7BV,EAAEnI,EAAE,eAAeoI,KAAK9I,IAAO,IAAG6I,EAAE,IAAI,GAAIK,GAAE,EAAEA,EAAEL,EAAE7H,OAAOkI,IAAI,CAAC,GAAIrI,GAAEgI,EAAEK,GAAGsL,UAAW,SAAQ3L,EAAEK,GAAGuL,WAAW,QAAQ5L,EAAEK,GAAGwL,YAAYnL,EAAEV,EAAEK,GAAGuL,UAAU5L,EAAEK,GAAGwL,WAAW1U,EAAEmL,KAAK,GAAI2E,GAAEjP,EAAE0I,KAAKvJ,EAAEmL,KAAK,GAAI2E,GAAEjP,IAAIN,EAAEP,OAAQ4E,YAAW,WAAWgD,KAAK,IAAI,GAAIiB,GAAErH,KAAKsH,EAAED,EAAEtI,EAAEoU,UAAU3U,EAAE6I,EAAEtI,EAAEqU,OAAQ,IAAG9L,EAAE,CAAC,GAAIpI,GAAEmI,EAAEA,EAAEK,CAAEmG,GAAE7N,KAAKqH,EAAEmK,EAAGnK,EAAEC,EAAE9I,GAAG,SAASA,GAAGA,EAAEO,OAAOG,EAAE,4BAA4BoI,GAAG,WAAW,MAAOD,GAAEtI,GAAGqH,OAAOiN,GAAG,wBACle/L,MAAOvI,QAA0C2S,EAAGjP,UAAU6O,KAAK,SAASvS,GAAG,GAAIqH,GAAEiB,EAAEC,EAAEtH,KAAKjB,EAAEuU,SAAS9U,EAAEwB,KAAKjB,EAAEwU,aAAarU,EAAEc,KAAKjB,EAAEyU,gBAAgB5L,EAAE,GAAIqG,EAAM,KAAJ7H,EAAE,EAAMiB,EAAEC,EAAE9H,OAAO4G,EAAEiB,EAAEjB,IAAIkH,EAAEtN,KAAKqH,EAAEC,EAAElB,GAAG8H,EAAEtG,GAAI,IAAItB,KAAS,KAAJF,EAAE,EAAMiB,EAAE7I,EAAEgB,OAAO4G,EAAEiB,EAAEjB,IAAI,GAAGkB,EAAE9I,EAAE4H,GAAGyG,MAAM,KAAKvF,EAAE,GAAG,IAAI,GAAIS,GAAET,EAAE,GAAGuF,MAAM,KAAKnF,EAAE,EAAEA,EAAEK,EAAEvI,OAAOkI,GAAG,EAAEpB,EAAEqD,KAAK,GAAI2E,GAAEhH,EAAE,GAAGS,EAAEL,SAAUpB,GAAEqD,KAAK,GAAI2E,GAAEhH,EAAE,IAAK8G,GAAExG,EAAE,WAAW7I,EAAEuH,EAAEpH,KAAiF,IAAI0S,IAAG,6BAEpdU,IAAImB,MAAM,UAAUC,YAAY,QAAiCC,SAAS,MAAqBC,MAAM,MAAqBC,MAAM,MAAqBC,QAAQ,OAAsB1B,IAAI2B,KAAK,IAAIC,WAAW,IAAIC,cAAc,IAAIC,WAAW,IAAIC,cAAc,IAAIC,MAAM,IAAIC,QAAQ,IAAIC,KAAK,IAAIC,OAAO,IAAIC,YAAY,IAAIC,SAAS,IAAIC,YAAY,IAAIC,SAAS,IAAIC,KAAK,IAAIC,aAAa,IAAIC,UAAU,IAAIC,aAAa,IAAIC,UAAU,IAAIC,MAAM,IAAIC,MAAM,IAAI7V,EAAE,IAAIV,EAAE,IAAIyH,EAAE,KAAK+L,IAAIlT,EAAE,IAAIkW,OAAO,IAAIzW,EAAE,IAAI0W,OAAO,KAC1flD,GAAG,+IAE4JmD,IAAIC,OAAM,EAAGC,SAAQ,EAAGC,OAAM,EAAIjD,IAAG9P,UAAU6O,KAAK,SAASvS,GAAG,GAAIqH,GAAE,GAAI6H,GAAE5G,EAAErH,KAAKqH,EAAEC,EAAE,GAAIqK,GAAG3R,KAAKjB,EAAE0S,IAAIxE,EAAE5F,GAAGrH,KAAKjB,EAAE0W,MAAMjX,EAAEwB,KAAKjB,EAAEwU,QAAS1B,GAAGvK,EAAE9I,EAAG,IAAIU,GAAE,GAAI8S,GAAGxT,EAAGyT,GAAG/S,GAAGoO,EAAEjG,EAAEyK,EAAGxK,GAAG4G,EAAE9H,IAAIgI,EAAEhI,EAAE,WAAWrH,EAAEG,EAAEH,EAAEG,EAAEmI,EAAEgO,OAA0C7C,GAAG/P,UAAU6O,KAAK,SAASvS,GAAG,GAAIqH,GAAEpG,KAAKjB,EAAEsU,GAAGhM,EAAErH,KAAKqH,EAAEK,CAAEtB,GAAEyH,EAAE7N,KAAKqH,GAAGrH,KAAKjB,EAAE0S,KAAK,2BAA2B,IAAIrL,EAAE,MAAM,SAASA,GAAG,GAAGA,EAAErH,UAAW,IAAGsI,EAAEqO,SAASrO,EAAEqO,QAAQC,QAAQtO,EAAEqO,QAAQC,OAAOC,GAAG,CAACxP,EAAEiB,EAAEqO,QAAQC,OAAOC,EAAG,KAAI,GAAIpX,MAAKU,EAAE,EAAEA,EAAEkH,EAAE5G,OAAON,GAAG,EAAE,IAAI,GAAI0I,GAAExB,EAAElH,GAAGoH,EAAEF,EAAElH,EAAE,GAAG6I,EAAE,EAAEA,EAAEzB,EAAE9G,OAAOuI,IAAIvJ,EAAEmL,KAAK,GAAI2E,GAAE1G,EAAEtB,EAAEyB,IAAK,KAAIV,EAAEqO,QAAQpE,MAAMpC,QAAO,EAAG5N,SAAQ,EAAGuU,OAAM,IAAK,MAAMnO,IAAI3I,EAAEP,KAAK,KAAKO,OAAoD0T,GAAGhQ,UAAU6O,KAAK,SAASvS,GAAG,GAAIqH,GAAEpG,KAAKd,EAAEmU,GAAGhM,EAAErH,KAAKqH,EAAEK,EAAEJ,EAAEtH,IAAKoG,IAAGiB,EAAEyO,4BAA4BzO,EAAEyO,8BAA8BzO,EAAEyO,0BAA0B1P,GAAG,SAASA,EAAEiB,GAAG,IAAI,GAAIO,GAAE,EAAEtB,EAAEe,EAAEuL,MAAMpT,OAAOoI,EAAEtB,IAAIsB,EAAE,CAAC,GAAIG,GAAEV,EAAEuL,MAAMhL,EAAGN,GAAEvI,EAAE4K,KAAK,GAAI2E,GAAEvG,EAAEgO,KAAKjH,EAAG,eAAe/G,EAAEiO,OAAO,eAAejO,EAAEe,SAAS/J,EAAEuI,EAAEvI,IAAI8O,EAAE7N,KAAKqH,EAAE4F,EAAEjN,KAAKqH,IAAIrH,KAAKd,EAAEuS,KAAK,8BAA8BrE,EAAGpN,KAAKqH,GAAG,IAAIjB,EAAE,MAAM,SAASA,GAAGA,GAAGrH,SAASA,MAAO,IAAIkX,IAAE,GAAIrF,GAAGtQ,OAAQ2V,IAAElX,EAAEsI,EAAE6O,OAAO,SAASnX,EAAEqH,GAAG,MAAO,IAAIsL,GAAGtL,EAAErH,IAAIkX,GAAElX,EAAEsI,EAAE8O,SAAS,SAASpX,EAAEqH,GAAG,MAAO,IAAIqM,IAAGrM,EAAErH,IAAIkX,GAAElX,EAAEsI,EAAE+O,SAAS,SAASrX,EAAEqH,GAAG,MAAO,IAAImL,GAAGnL,EAAErH,IAAIkX,GAAElX,EAAEsI,EAAEgP,QAAQ,SAAStX,EAAEqH,GAAG,MAAO,IAAIoM,IAAGpM,EAAErH,IAAIkX,GAAElX,EAAEsI,EAAEiP,OAAO,SAASvX,EAAEqH,GAAG,MAAO,IAAImM,IAAGnM,EAAErH,GAAI,IAAIwX,KAAGjF,KAAKlF,EAAE6J,GAAE3E,KAAK2E,IAAI,mBAAoBpW,SAAQA,OAAOC,IAAID,OAAO,WAAW,MAAO0W,MAAI,mBAAqB7W,IAAQA,EAAOJ,QAAQI,EAAOJ,QAAQiX,IAAGjW,OAAOkW,QAAQD,GAAEjW,OAAOmW,eAAeR,GAAE3E,KAAKhR,OAAOmW,wBAEvtDC,GAAG,SAAS1X,EAAQU,EAAOJ,IAuChC,SAAUK,EAAMC,GACM,kBAAXC,SAAyBA,OAAOC,IAC1CD,UAAWD,KACiB,gBAAXF,IAAuBA,EAAOJ,QAC/CI,EAAOJ,QAAUM,IAEjBD,EAAKgX,UAAY/W,KAEjBI,KAAM,WACP,YAGA,IAAI4W,GAAgC,SAAU1V,GAC7C,MAAQ,oBAAsBZ,SACwB,WAArDA,OAAOsL,iBAAiB1K,GAAM,mBAIhC,IAAsB,mBAAXZ,WAA4B,YAAcA,SACpD,QAGD,IAAIuW,GAAiB,SAAUC,EAAiBC,EAAiBC,GAEhED,EAAkBA,GAAmB,IAChCC,GAA6B,IAAfA,IAElBA,EAAa,EAGd,IAAIC,GACAC,EAAqB,SAAUC,GAClCF,EAAkBE,GAEfC,EAAUjV,SAASC,gBAEnBiV,EAAe,WAClB,MAAIP,GACIA,EAAgBxS,UAEhBhE,OAAOgX,SAAWF,EAAQ9S,WAI/BiT,EAAgB,WACnB,MAAIT,GACIhS,KAAK0S,IAAIV,EAAgB9R,aAAc1E,OAAOoE,aAE9CpE,OAAOoE,aAAe0S,EAAQzS,cAInC8S,EAAmB,SAAUvW,GAChC,MAAI4V,GACI5V,EAAKwW,UAELxW,EAAKuG,wBAAwB/D,IAAM2T,IAAiBD,EAAQM,WAOjEC,EAAa,WAChBxN,aAAa8M,GACbC,EAAmB,IAYhBU,EAAY,SAAUC,EAAMC,EAAUC,GAEzC,GADAJ,IACIf,EAA8BE,EAAkBA,EAAkB3U,SAASoC,OAC7EuS,GAAmBxW,QAAQ0X,SAAS,EAAGH,GACpCE,GACHA,QAEK,CACN,GAAIE,GAASZ,IACTa,EAAWpT,KAAKC,IAAI8S,EAAK,GAAKI,CAClCH,GAAWA,GAAYhT,KAAK0S,IAAI1S,KAAKc,IAAIsS,GAAWnB,EACpD,IAAIoB,IAAY,GAAI/P,OAAOC,WAC3B,QAAU+P,KACTlB,EAAmB9T,WAAW,WAC7B,GAAIgJ,GAAItH,KAAK0S,MAAK,GAAIpP,OAAOC,UAAY8P,GAAaL,EAAU,GAC5D9K,EAAIlI,KAAKC,IAAID,KAAKuT,MAAMJ,EAASC,GAAU9L,EAAI,GAAM,EAAEA,EAAEA,EAAIA,GAAG,EAAM,EAAFA,GAAK,IAAK,EAC9E0K,GACHA,EAAgBxS,UAAY0I,EAE5B1M,OAAO0X,SAAS,EAAGhL,GAEhBZ,EAAI,GAAMmL,IAAkBvK,GAAM8J,GAAmBM,GAASjS,aACjEiT,KAEAhV,WAAWuU,EAAY,IACnBI,GACHA,MAGA,SAcFO,EAAe,SAAUpX,EAAM4W,EAAUC,GAC5C,GAAIF,GAAOJ,EAAiBvW,GAAQ8V,CAEpC,OADAY,GAAUC,EAAMC,EAAUC,GACnBF,GAWJU,EAAiB,SAAUrX,EAAM4W,EAAUC,GAC9C,GAAIS,GAAatX,EAAKuG,wBAAwB4D,OAC1CoN,EAAUhB,EAAiBvW,GAC3BwX,EAAaD,EAAUD,EACvBG,EAAkBpB,IAClBqB,EAAevB,IACfwB,EAAkBD,EAAeD,CAChCF,GAAUzB,EAAc4B,GAAiBJ,EAAaxB,EAAc2B,EAExEL,EAAapX,EAAM4W,EAAUC,GAClBW,EAAa1B,EAAc6B,EAEtCjB,EAAUc,EAAaC,EAAkB3B,EAAYc,EAAUC,GACrDA,GACVA,KAaEe,EAAmB,SAAU5X,EAAM4W,EAAUvW,EAAQwW,GACxDH,EACC9S,KAAKC,IACJ0S,EAAiBvW,GAAQqW,IAAgB,GAAKhW,GAAUL,EAAKuG,wBAAwB4D,OAAO,GAC5F,GAEDyM,EACAC,IAWEgB,EAAQ,SAAUC,EAAoBC,GACrCD,IACHjC,EAAkBiC,IAEG,IAAlBC,GAAuBA,KAC1BjC,EAAaiC,GAIf,QACCF,MAAOA,EACPG,GAAIZ,EACJa,IAAKvB,EACLwB,SAAUb,EACVc,OAAQP,EACRQ,KAAM3B,EACN4B,OAAQ,WAAc,QAAStC,GAC/BuC,KAAMnC,IAMJoC,EAAkB5C,GAGtB,IAAI,oBAAsBvW,UAAYsW,EAA8BzU,SAASoC,QAASjE,OAAOoZ,YAAc,CACtG,qBAAuBC,WAC1BA,QAAQC,kBAAoB,SAC5BtZ,OAAOwD,iBAAiB,WAAY,SAAU+V,GACzCA,EAAMC,OAAS,WAAaD,GAAMC,OACrCL,EAAgBN,IAAIU,EAAMC,MAAMxC,WAE/B,GAEJ,IAAIyC,GAAa,SAAUC,EAAMC,GAChC,IACCN,QAAQO,cAAc5C,QAAQmC,EAAgBD,QAAS,IACvDG,QAAQQ,WAAW7C,QAAQ2C,GAAO,GAAI3Z,OAAO4M,SAASM,KAAKX,MAAM,KAAK,GAAKmN,GAC1E,MAAOxb,KAIV8B,QAAOwD,iBAAiB,QAAS,SAAU+V,GAE1C,IADA,GAAIO,GAASP,EAAM9O,OACZqP,GAA6B,MAAnBA,EAAO1R,SACvB0R,EAASA,EAAO5V,UAGjB,OAAK4V,GAA0B,IAAhBP,EAAMQ,OAAeR,EAAMS,UAAYT,EAAMU,SAAWV,EAAMW,SAAWX,EAAMY,QAA9F,CAGA,GAAIjN,GAAO4M,EAAOxR,aAAa,SAAW,EAC1C,IAA0B,IAAtB4E,EAAKjB,QAAQ,KAChB,GAAa,MAATiB,EACHqM,EAAMa,iBACNjB,EAAgBN,IAAI,GACpBY,EAAW,GAAI,OACT,CACN,GAAIY,GAAWP,EAAOJ,KAAKY,UAAU,GACjCC,EAAa1Y,SAAS2Y,eAAeH,EACrCE,KACHhB,EAAMa,iBACNX,EAAW,IAAMY,EAAUlB,EAAgBP,GAAG2B,SAI/C,GAGJ,OAEChE,eAAgBA,EAEhBkC,MAAOU,EAAgBV,MACvBG,GAAIO,EAAgBP,GACpBC,IAAKM,EAAgBN,IACrBC,SAAUK,EAAgBL,SAC1BC,OAAQI,EAAgBJ,OACxBC,KAAMG,EAAgBH,KACtBC,OAAQE,EAAgBF,eAKpBwB,GAAG,SAAS/b,EAAQU,EAAOJ,GACjC,YAoBA,SAAS0b,GAAuB3a,GAAO,MAAOA,IAAOA,EAAI4a,WAAa5a,GAAQ6a,QAAS7a,GAlBvF,GAAI8a,GAAmBnc,EAAQ,oBAE3Boc,EAAoBJ,EAAuBG,GAE3CE,EAAYrc,EAAQ,eAEpBsc,EAAaN,EAAuBK,GAEpCE,EAAiBvc,EAAQ,iBAEzBwc,EAAkBR,EAAuBO,EAE7Cvc,GAAQ,oBAERA,EAAQ,aAERA,EAAQ,aAIRwc,EAAgBN,QAAQ5J,MACpBgF,QACI/C,UAAW,4BAIJ,IAAI+H,GAAWJ,QAAQ/Y,SAASsZ,cAAc,WAAW1Y,OACzD,GAAIqY,GAAkBF,SACjCxU,UAAW,KAGfvE,UAASsZ,cAAc,cAAcC,UAAY,qBAAsB,GAAItT,OAAOuT,gBAE/EC,YAAY,EAAEC,cAAc,EAAEC,mBAAmB,EAAEC,mBAAmB,EAAEC,cAAgB,EAAErF,UAAY,IAAIsF,GAAG,SAASjd,EAAQU,EAAOJ,GACxI,YAEA,IAAI4c,GAAS/Z,SAASiI,iBAAiB,iBACnC+R,EAAW,KAEXC,EAAgB,SAAuBvC,GACzC,GAAIwC,GAAkBxC,EAAMyC,aAExBH,KAAaE,GACfA,EAAgBna,UAAUqB,OAAO,UACjC4Y,EAAW,OAEPA,GACFA,EAASja,UAAUqB,OAAO,UAE5B8Y,EAAgBna,UAAUgB,IAAI,UAC9BiZ,EAAWE,IAIXE,EAAe,SAAsBC,GACf,IAApBA,EAAShd,QACXgd,EAASC,QAAQ,SAAUC,GACzBA,EAAQ5Y,iBAAiB,QAASsY,GAAe,KAKvDG,GAAaL,aAEF","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*!\n * headroom.js v0.9.3 - Give your page some headroom. Hide your header until you need it\n * Copyright (c) 2016 Nick Williams - http://wicky.nillia.ms/headroom.js\n * License: MIT\n */\n\n(function(root, factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  }\n  else if (typeof exports === 'object') {\n    // COMMONJS\n    module.exports = factory();\n  }\n  else {\n    // BROWSER\n    root.Headroom = factory();\n  }\n}(this, function() {\n  'use strict';\n\n  /* exported features */\n  \n  var features = {\n    bind : !!(function(){}.bind),\n    classList : 'classList' in document.documentElement,\n    rAF : !!(window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame)\n  };\n  window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n  \n  /**\n   * Handles debouncing of events via requestAnimationFrame\n   * @see http://www.html5rocks.com/en/tutorials/speed/animations/\n   * @param {Function} callback The callback to handle whichever event\n   */\n  function Debouncer (callback) {\n    this.callback = callback;\n    this.ticking = false;\n  }\n  Debouncer.prototype = {\n    constructor : Debouncer,\n  \n    /**\n     * dispatches the event to the supplied callback\n     * @private\n     */\n    update : function() {\n      this.callback && this.callback();\n      this.ticking = false;\n    },\n  \n    /**\n     * ensures events don't get stacked\n     * @private\n     */\n    requestTick : function() {\n      if(!this.ticking) {\n        requestAnimationFrame(this.rafCallback || (this.rafCallback = this.update.bind(this)));\n        this.ticking = true;\n      }\n    },\n  \n    /**\n     * Attach this as the event listeners\n     */\n    handleEvent : function() {\n      this.requestTick();\n    }\n  };\n  /**\n   * Check if object is part of the DOM\n   * @constructor\n   * @param {Object} obj element to check\n   */\n  function isDOMElement(obj) {\n    return obj && typeof window !== 'undefined' && (obj === window || obj.nodeType);\n  }\n  \n  /**\n   * Helper function for extending objects\n   */\n  function extend (object /*, objectN ... */) {\n    if(arguments.length <= 0) {\n      throw new Error('Missing arguments in extend function');\n    }\n  \n    var result = object || {},\n        key,\n        i;\n  \n    for (i = 1; i < arguments.length; i++) {\n      var replacement = arguments[i] || {};\n  \n      for (key in replacement) {\n        // Recurse into object except if the object is a DOM element\n        if(typeof result[key] === 'object' && ! isDOMElement(result[key])) {\n          result[key] = extend(result[key], replacement[key]);\n        }\n        else {\n          result[key] = result[key] || replacement[key];\n        }\n      }\n    }\n  \n    return result;\n  }\n  \n  /**\n   * Helper function for normalizing tolerance option to object format\n   */\n  function normalizeTolerance (t) {\n    return t === Object(t) ? t : { down : t, up : t };\n  }\n  \n  /**\n   * UI enhancement for fixed headers.\n   * Hides header when scrolling down\n   * Shows header when scrolling up\n   * @constructor\n   * @param {DOMElement} elem the header element\n   * @param {Object} options options for the widget\n   */\n  function Headroom (elem, options) {\n    options = extend(options, Headroom.options);\n  \n    this.lastKnownScrollY = 0;\n    this.elem             = elem;\n    this.tolerance        = normalizeTolerance(options.tolerance);\n    this.classes          = options.classes;\n    this.offset           = options.offset;\n    this.scroller         = options.scroller;\n    this.initialised      = false;\n    this.onPin            = options.onPin;\n    this.onUnpin          = options.onUnpin;\n    this.onTop            = options.onTop;\n    this.onNotTop         = options.onNotTop;\n    this.onBottom         = options.onBottom;\n    this.onNotBottom      = options.onNotBottom;\n  }\n  Headroom.prototype = {\n    constructor : Headroom,\n  \n    /**\n     * Initialises the widget\n     */\n    init : function() {\n      if(!Headroom.cutsTheMustard) {\n        return;\n      }\n  \n      this.debouncer = new Debouncer(this.update.bind(this));\n      this.elem.classList.add(this.classes.initial);\n  \n      // defer event registration to handle browser \n      // potentially restoring previous scroll position\n      setTimeout(this.attachEvent.bind(this), 100);\n  \n      return this;\n    },\n  \n    /**\n     * Unattaches events and removes any classes that were added\n     */\n    destroy : function() {\n      var classes = this.classes;\n  \n      this.initialised = false;\n      this.elem.classList.remove(classes.unpinned, classes.pinned, classes.top, classes.notTop, classes.initial);\n      this.scroller.removeEventListener('scroll', this.debouncer, false);\n    },\n  \n    /**\n     * Attaches the scroll event\n     * @private\n     */\n    attachEvent : function() {\n      if(!this.initialised){\n        this.lastKnownScrollY = this.getScrollY();\n        this.initialised = true;\n        this.scroller.addEventListener('scroll', this.debouncer, false);\n  \n        this.debouncer.handleEvent();\n      }\n    },\n    \n    /**\n     * Unpins the header if it's currently pinned\n     */\n    unpin : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n      \n      if(classList.contains(classes.pinned) || !classList.contains(classes.unpinned)) {\n        classList.add(classes.unpinned);\n        classList.remove(classes.pinned);\n        this.onUnpin && this.onUnpin.call(this);\n      }\n    },\n  \n    /**\n     * Pins the header if it's currently unpinned\n     */\n    pin : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n      \n      if(classList.contains(classes.unpinned)) {\n        classList.remove(classes.unpinned);\n        classList.add(classes.pinned);\n        this.onPin && this.onPin.call(this);\n      }\n    },\n  \n    /**\n     * Handles the top states\n     */\n    top : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n      \n      if(!classList.contains(classes.top)) {\n        classList.add(classes.top);\n        classList.remove(classes.notTop);\n        this.onTop && this.onTop.call(this);\n      }\n    },\n  \n    /**\n     * Handles the not top state\n     */\n    notTop : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n      \n      if(!classList.contains(classes.notTop)) {\n        classList.add(classes.notTop);\n        classList.remove(classes.top);\n        this.onNotTop && this.onNotTop.call(this);\n      }\n    },\n  \n    bottom : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n      \n      if(!classList.contains(classes.bottom)) {\n        classList.add(classes.bottom);\n        classList.remove(classes.notBottom);\n        this.onBottom && this.onBottom.call(this);\n      }\n    },\n  \n    /**\n     * Handles the not top state\n     */\n    notBottom : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n      \n      if(!classList.contains(classes.notBottom)) {\n        classList.add(classes.notBottom);\n        classList.remove(classes.bottom);\n        this.onNotBottom && this.onNotBottom.call(this);\n      }\n    },\n  \n    /**\n     * Gets the Y scroll position\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Window.scrollY\n     * @return {Number} pixels the page has scrolled along the Y-axis\n     */\n    getScrollY : function() {\n      return (this.scroller.pageYOffset !== undefined)\n        ? this.scroller.pageYOffset\n        : (this.scroller.scrollTop !== undefined)\n          ? this.scroller.scrollTop\n          : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n    },\n  \n    /**\n     * Gets the height of the viewport\n     * @see http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript\n     * @return {int} the height of the viewport in pixels\n     */\n    getViewportHeight : function () {\n      return window.innerHeight\n        || document.documentElement.clientHeight\n        || document.body.clientHeight;\n    },\n  \n    /**\n     * Gets the physical height of the DOM element\n     * @param  {Object}  elm the element to calculate the physical height of which\n     * @return {int}     the physical height of the element in pixels\n     */\n    getElementPhysicalHeight : function (elm) {\n      return Math.max(\n        elm.offsetHeight,\n        elm.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the physical height of the scroller element\n     * @return {int} the physical height of the scroller element in pixels\n     */\n    getScrollerPhysicalHeight : function () {\n      return (this.scroller === window || this.scroller === document.body)\n        ? this.getViewportHeight()\n        : this.getElementPhysicalHeight(this.scroller);\n    },\n  \n    /**\n     * Gets the height of the document\n     * @see http://james.padolsey.com/javascript/get-document-height-cross-browser/\n     * @return {int} the height of the document in pixels\n     */\n    getDocumentHeight : function () {\n      var body = document.body,\n        documentElement = document.documentElement;\n    \n      return Math.max(\n        body.scrollHeight, documentElement.scrollHeight,\n        body.offsetHeight, documentElement.offsetHeight,\n        body.clientHeight, documentElement.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the height of the DOM element\n     * @param  {Object}  elm the element to calculate the height of which\n     * @return {int}     the height of the element in pixels\n     */\n    getElementHeight : function (elm) {\n      return Math.max(\n        elm.scrollHeight,\n        elm.offsetHeight,\n        elm.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the height of the scroller element\n     * @return {int} the height of the scroller element in pixels\n     */\n    getScrollerHeight : function () {\n      return (this.scroller === window || this.scroller === document.body)\n        ? this.getDocumentHeight()\n        : this.getElementHeight(this.scroller);\n    },\n  \n    /**\n     * determines if the scroll position is outside of document boundaries\n     * @param  {int}  currentScrollY the current y scroll position\n     * @return {bool} true if out of bounds, false otherwise\n     */\n    isOutOfBounds : function (currentScrollY) {\n      var pastTop  = currentScrollY < 0,\n        pastBottom = currentScrollY + this.getScrollerPhysicalHeight() > this.getScrollerHeight();\n      \n      return pastTop || pastBottom;\n    },\n  \n    /**\n     * determines if the tolerance has been exceeded\n     * @param  {int} currentScrollY the current scroll y position\n     * @return {bool} true if tolerance exceeded, false otherwise\n     */\n    toleranceExceeded : function (currentScrollY, direction) {\n      return Math.abs(currentScrollY-this.lastKnownScrollY) >= this.tolerance[direction];\n    },\n  \n    /**\n     * determine if it is appropriate to unpin\n     * @param  {int} currentScrollY the current y scroll position\n     * @param  {bool} toleranceExceeded has the tolerance been exceeded?\n     * @return {bool} true if should unpin, false otherwise\n     */\n    shouldUnpin : function (currentScrollY, toleranceExceeded) {\n      var scrollingDown = currentScrollY > this.lastKnownScrollY,\n        pastOffset = currentScrollY >= this.offset;\n  \n      return scrollingDown && pastOffset && toleranceExceeded;\n    },\n  \n    /**\n     * determine if it is appropriate to pin\n     * @param  {int} currentScrollY the current y scroll position\n     * @param  {bool} toleranceExceeded has the tolerance been exceeded?\n     * @return {bool} true if should pin, false otherwise\n     */\n    shouldPin : function (currentScrollY, toleranceExceeded) {\n      var scrollingUp  = currentScrollY < this.lastKnownScrollY,\n        pastOffset = currentScrollY <= this.offset;\n  \n      return (scrollingUp && toleranceExceeded) || pastOffset;\n    },\n  \n    /**\n     * Handles updating the state of the widget\n     */\n    update : function() {\n      var currentScrollY  = this.getScrollY(),\n        scrollDirection = currentScrollY > this.lastKnownScrollY ? 'down' : 'up',\n        toleranceExceeded = this.toleranceExceeded(currentScrollY, scrollDirection);\n  \n      if(this.isOutOfBounds(currentScrollY)) { // Ignore bouncy scrolling in OSX\n        return;\n      }\n  \n      if (currentScrollY <= this.offset ) {\n        this.top();\n      } else {\n        this.notTop();\n      }\n  \n      if(currentScrollY + this.getViewportHeight() >= this.getScrollerHeight()) {\n        this.bottom();\n      }\n      else {\n        this.notBottom();\n      }\n  \n      if(this.shouldUnpin(currentScrollY, toleranceExceeded)) {\n        this.unpin();\n      }\n      else if(this.shouldPin(currentScrollY, toleranceExceeded)) {\n        this.pin();\n      }\n  \n      this.lastKnownScrollY = currentScrollY;\n    }\n  };\n  /**\n   * Default options\n   * @type {Object}\n   */\n  Headroom.options = {\n    tolerance : {\n      up : 0,\n      down : 0\n    },\n    offset : 0,\n    scroller: window,\n    classes : {\n      pinned : 'headroom--pinned',\n      unpinned : 'headroom--unpinned',\n      top : 'headroom--top',\n      notTop : 'headroom--not-top',\n      bottom : 'headroom--bottom',\n      notBottom : 'headroom--not-bottom',\n      initial : 'headroom'\n    }\n  };\n  Headroom.cutsTheMustard = typeof features !== 'undefined' && features.rAF && features.bind && features.classList;\n\n  return Headroom;\n}));\n},{}],2:[function(require,module,exports){\n!function(a,b){\"function\"==typeof define&&define.amd?define([],b):\"object\"==typeof exports?module.exports=b():a.LazyLoad=b()}(this,function(){function a(){k||(j={elements_selector:\"img\",container:window,threshold:300,throttle:150,data_src:\"original\",data_srcset:\"original-set\",class_loading:\"loading\",class_loaded:\"loaded\",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_processed:null},k=!0)}function b(a,b,c){function d(){return window.innerWidth||l.documentElement.clientWidth||document.body.clientWidth}function e(){return window.innerHeight||l.documentElement.clientHeight||document.body.clientHeight}function f(a){return a.getBoundingClientRect().top+m-l.documentElement.clientTop}function g(a){return a.getBoundingClientRect().left+n-l.documentElement.clientLeft}function h(){var d;return d=b===window?e()+m:f(b)+b.offsetHeight,d<=f(a)-c}function i(){var e;return e=b===window?d()+window.pageXOffset:g(b)+d(),e<=g(a)-c}function j(){var d;return d=b===window?m:f(b),d>=f(a)+c+a.offsetHeight}function k(){var d;return d=b===window?n:g(b),d>=g(a)+c+a.offsetWidth}var l,m,n;return l=a.ownerDocument,m=window.pageYOffset||l.body.scrollTop,n=window.pageXOffset||l.body.scrollLeft,!(h()||j()||i()||k())}function c(){var a=new Date;return a.getTime()}function d(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d}function e(a){return Array.prototype.slice.call(a)}function f(a,b){var c=a.parentElement;if(\"PICTURE\"===c.tagName)for(var d=0;d<c.children.length;d++){var e=c.children[d];if(\"SOURCE\"===e.tagName){var f=e.getAttribute(\"data-\"+b);f&&e.setAttribute(\"srcset\",f)}}}function g(a,b,c){var d=a.tagName,e=a.getAttribute(\"data-\"+c);if(\"IMG\"===d){f(a,b);var g=a.getAttribute(\"data-\"+b);return g&&a.setAttribute(\"srcset\",g),void(e&&a.setAttribute(\"src\",e))}return\"IFRAME\"===d?void(e&&a.setAttribute(\"src\",e)):void(e&&(a.style.backgroundImage=\"url(\"+e+\")\"))}function h(a,b){return function(){return a.apply(b,arguments)}}function i(b){a(),this._settings=d(j,b),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._handleScrollFn=h(this.handleScroll,this),window.addEventListener(\"resize\",this._handleScrollFn),this.update()}var j,k=!1;return i.prototype._showOnAppear=function(a){function b(){a.removeEventListener(\"load\",c),a.classList.remove(d.class_loading),d.callback_error&&d.callback_error(a)}function c(){null!==d&&(d.callback_load&&d.callback_load(a),a.classList.remove(d.class_loading),a.classList.add(d.class_loaded),a.removeEventListener(\"load\",c),a.removeEventListener(\"error\",b))}var d=this._settings;\"IMG\"!==a.tagName&&\"IFRAME\"!==a.tagName||(a.addEventListener(\"load\",c),a.addEventListener(\"error\",b),a.classList.add(d.class_loading)),g(a,d.data_srcset,d.data_src),d.callback_set&&d.callback_set(a)},i.prototype._loopThroughElements=function(){var a,c,d=this._settings,e=this._elements,f=e?e.length:0,g=[];for(a=0;a<f;a++)c=e[a],d.skip_invisible&&null===c.offsetParent||b(c,d.container,d.threshold)&&(this._showOnAppear(c),g.push(a),c.wasProcessed=!0);for(;g.length>0;)e.splice(g.pop(),1),d.callback_processed&&d.callback_processed(e.length);0===f&&this._stopScrollHandler()},i.prototype._purgeElements=function(){var a,b,c=this._elements,d=c.length,e=[];for(a=0;a<d;a++)b=c[a],b.wasProcessed&&e.push(a);for(;e.length>0;)c.splice(e.pop(),1)},i.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener(\"scroll\",this._handleScrollFn))},i.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener(\"scroll\",this._handleScrollFn))},i.prototype.handleScroll=function(){var a,b,d;this._settings&&(b=c(),d=this._settings.throttle,0!==d?(a=d-(b-this._previousLoopTime),a<=0||a>d?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=b,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(h(function(){this._previousLoopTime=c(),this._loopTimeout=null,this._loopThroughElements()},this),a))):this._loopThroughElements())},i.prototype.update=function(){this._elements=e(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},i.prototype.destroy=function(){window.removeEventListener(\"resize\",this._handleScrollFn),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},i});\n\n},{}],3:[function(require,module,exports){\nwindow.addEventListener(\"load\",function(){function n(a){var b=document.createElement(\"style\");b.type=\"text/css\";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));document.head.insertBefore(b,document.head.firstChild)}function g(a,b){var e=b.target,g=e.classList;if(!g.contains(\"rippleJS\"))return!1;var f=e.getAttribute(\"data-event\");if(f&&f!=a)return!1;e.setAttribute(\"data-event\",a);var c=e.getBoundingClientRect(),f=b.offsetX,h;void 0!==f?h=b.offsetY:(f=b.clientX-c.left,\nh=b.clientY-c.top);var d=document.createElement(\"div\"),c=c.width==c.height?1.412*c.width:Math.sqrt(c.width*c.width+c.height*c.height),k=2*c+\"px\";d.style.width=k;d.style.height=k;d.style.marginLeft=-c+f+\"px\";d.style.marginTop=-c+h+\"px\";d.className=\"ripple\";e.appendChild(d);window.setTimeout(function(){d.classList.add(\"held\")},0);var l=\"mousedown\"==a?\"mouseup\":\"touchend\",m=function(a){document.removeEventListener(l,m);d.classList.add(\"done\");window.setTimeout(function(){e.removeChild(d);e.children.length||\n(g.remove(\"active\"),e.removeAttribute(\"data-event\"))},650)};document.addEventListener(l,m)}(function(){var a=document.createElement(\"div\");a.className=\"rippleJS\";document.body.appendChild(a);var b=\"absolute\"==window.getComputedStyle(a).position;document.body.removeChild(a);return b})()||n('/*rippleJS*/.rippleJS,.rippleJS.fill::after{position:absolute;top:0;left:0;right:0;bottom:0}.rippleJS{display:block;overflow:hidden;border-radius:inherit;-webkit-mask-image:-webkit-radial-gradient(circle,#fff,#000)}.rippleJS.fill::after{content:\"\"}.rippleJS.fill{border-radius:1000000px}.rippleJS .ripple{position:absolute;border-radius:100%;background:currentColor;opacity:.2;width:0;height:0;-webkit-transition:-webkit-transform .4s ease-out,opacity .4s ease-out;transition:transform .4s ease-out,opacity .4s ease-out;-webkit-transform:scale(0);transform:scale(0);pointer-events:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rippleJS .ripple.held{opacity:.4;-webkit-transform:scale(1);transform:scale(1)}.rippleJS .ripple.done{opacity:0}');\ndocument.addEventListener(\"mousedown\",function(a){0==a.button&&g(a.type,a)});document.addEventListener(\"touchstart\",function(a){for(var b=0;b<a.changedTouches.length;++b)g(a.type,a.changedTouches[b])})});\n\n},{}],4:[function(require,module,exports){\n/* Web Font Loader v1.6.27 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.m=b||a;this.c=this.m.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction z(a){if(\"string\"===typeof a.f)return a.f;var b=a.m.location.protocol;\"about:\"==b&&(b=a.a.location.protocol);return\"https:\"==b?\"https:\":\"http:\"}function ea(a){return a.m.location.hostname||a.a.location.hostname}\nfunction A(a,b,c){function d(){k&&e&&f&&(k(g),k=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,k=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction B(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function C(){this.a=0;this.c=null}function D(a){a.a++;return function(){a.a--;E(a)}}function F(a,b){a.c=b;E(a)}function E(a){0==a.a&&a.c&&(a.c(),a.c=null)};function G(a){this.a=a||\"-\"}G.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function H(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return I(a)+\" \"+(a.f+\"00\")+\" 300px \"+J(a.c)}function J(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function K(a){return a.a+a.f}function I(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.m.document.documentElement;this.h=b;this.a=new G(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);L(a,\"loading\")}function M(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}L(a,\"inactive\")}function L(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,K(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function N(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function O(a){u(a.c,\"body\",a.a)}function P(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+J(a.c)+\";\"+(\"font-style:\"+I(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function Q(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}Q.prototype.start=function(){var a=this.c.m.document,b=this,c=q(),d=new Promise(function(d,e){function k(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(k,25)},function(){e()})}k()}),e=new Promise(function(a,d){setTimeout(d,b.f)});Promise.race([e,d]).then(function(){b.g(b.a)},function(){b.j(b.a)})};function R(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.o=this.j=this.h=this.g=null;this.g=new N(this.c,this.s);this.h=new N(this.c,this.s);this.j=new N(this.c,this.s);this.o=new N(this.c,this.s);a=new H(this.a.c+\",serif\",K(this.a));a=P(a);this.g.a.style.cssText=a;a=new H(this.a.c+\",sans-serif\",K(this.a));a=P(a);this.h.a.style.cssText=a;a=new H(\"serif\",K(this.a));a=P(a);this.j.a.style.cssText=a;a=new H(\"sans-serif\",K(this.a));a=\nP(a);this.o.a.style.cssText=a;O(this.g);O(this.h);O(this.j);O(this.o)}var S={D:\"serif\",C:\"sans-serif\"},T=null;function U(){if(null===T){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);T=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return T}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.o.a.offsetWidth;this.A=q();la(this)};\nfunction ma(a,b,c){for(var d in S)if(S.hasOwnProperty(d)&&b===a.f[S[d]]&&c===a.f[S[d]])return!0;return!1}function la(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=U()&&ma(a,b,c));d?q()-a.A>=a.w?U()&&ma(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):na(a):V(a,a.v)}function na(a){setTimeout(p(function(){la(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.o.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.o=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,K(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,K(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,K(a).toString(),\"inactive\")]);L(b,\"fontactive\",a);this.o=!0;oa(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,K(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,K(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,K(a).toString(),\"inactive\"));w(b.f,d,e)}L(b,\"fontinactive\",a);oa(this)};function oa(a){0==--a.f&&a.j&&(a.o?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),L(a,\"active\")):M(a.a))};function pa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}pa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;qa(this,new ha(this.c,a),a)};\nfunction ra(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,k=d||null||{};if(0===c.length&&f)M(b.a);else{b.f+=c.length;f&&(b.j=f);var h,m=[];for(h=0;h<c.length;h++){var l=c[h],n=k[l.c],r=b.a,x=l;r.g&&w(r.f,[r.a.c(\"wf\",x.c,K(x).toString(),\"loading\")]);L(r,\"fontloading\",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent),ya=/OS X.*Version\\/10\\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);\nX=x?42<parseInt(x[1],10):ya?!1:!0}else X=!1;X?r=new Q(p(b.g,b),p(b.h,b),b.c,l,b.s,n):r=new R(p(b.g,b),p(b.h,b),b.c,l,b.s,a,n);m.push(r)}for(h=0;h<m.length;h++)m[h].start()}},0)}function qa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){ra(a,f,b,d,c)})};function sa(a,b){this.c=a;this.a=b}function ta(a,b,c){var d=z(a.c);a=(a.a.api||\"fast.fonts.net/jsapi\").replace(/^.*http(s?):(\\/\\/)?/,\"\");return d+\"//\"+a+\"/\"+b+\".js\"+(c?\"?v=\"+c:\"\")}\nsa.prototype.load=function(a){function b(){if(f[\"__mti_fntLst\"+d]){var c=f[\"__mti_fntLst\"+d](),e=[],h;if(c)for(var m=0;m<c.length;m++){var l=c[m].fontfamily;void 0!=c[m].fontStyle&&void 0!=c[m].fontWeight?(h=c[m].fontStyle+c[m].fontWeight,e.push(new H(l,h))):e.push(new H(l))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.m;B(this.c,ta(c,d,e),function(e){e?a([]):(f[\"__MonotypeConfiguration__\"+d]=function(){return c.a},b())}).id=\"__MonotypeAPIScript__\"+\nd}else a([])};function ua(a,b){this.c=a;this.a=b}ua.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new C;b=0;for(c=d.length;b<c;b++)A(this.c,d[b],D(g));var k=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),m=0;m<h.length;m+=1)k.push(new H(d[0],h[m]));else k.push(new H(d[0]));F(g,function(){a(k,f)})};function va(a,b,c){a?this.c=a:this.c=b+wa;this.a=[];this.f=[];this.g=c||\"\"}var wa=\"//fonts.googleapis.com/css\";function xa(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction za(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function Aa(a){this.f=a;this.a=[];this.c={}}\nvar Ba={latin:\"BESbswy\",\"latin-ext\":\"\\u00e7\\u00f6\\u00fc\\u011f\\u015f\",cyrillic:\"\\u0439\\u044f\\u0416\",greek:\"\\u03b1\\u03b2\\u03a3\",khmer:\"\\u1780\\u1781\\u1782\",Hanuman:\"\\u1780\\u1781\\u1782\"},Ca={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Da={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},\nEa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Fa(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var k=d[1];g=[];if(k)for(var k=k.split(\",\"),h=k.length,m=0;m<h;m++){var l;l=k[m];if(l.match(/^[\\w-]+$/)){var n=Ea.exec(l.toLowerCase());if(null==n)l=\"\";else{l=n[2];l=null==l||\"\"==l?\"n\":Da[l];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Ca[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);l=[l,n].join(\"\")}}else l=\"\";l&&g.push(l)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=Ba[d[0]])&&(a.c[e]=d))}a.c[e]||(d=Ba[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new H(e,f[d]))}};function Ga(a,b){this.c=a;this.a=b}var Ha={Arimo:!0,Cousine:!0,Tinos:!0};Ga.prototype.load=function(a){var b=new C,c=this.c,d=new va(this.a.api,z(c),this.a.text),e=this.a.families;xa(d,e);var f=new Aa(e);Fa(f);A(c,za(d),D(b));F(b,function(){a(f.a,f.c,Ha)})};function Ia(a,b){this.c=a;this.a=b}Ia.prototype.load=function(a){var b=this.a.id,c=this.c.m;b?B(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],k=b[f+1],h=0;h<k.length;h++)e.push(new H(g,k[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(m){}a(e)}},2E3):a([])};function Ja(a,b){this.c=a;this.f=b;this.a=[]}Ja.prototype.load=function(a){var b=this.f.id,c=this.c.m,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,k=c.fonts.length;g<k;++g){var h=c.fonts[g];d.a.push(new H(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},B(this.c,z(this.c)+(this.f.api||\"//f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new pa(window);Y.a.c.custom=function(a,b){return new ua(b,a)};Y.a.c.fontdeck=function(a,b){return new Ja(b,a)};Y.a.c.monotype=function(a,b){return new sa(b,a)};Y.a.c.typekit=function(a,b){return new Ia(b,a)};Y.a.c.google=function(a,b){return new Ga(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n\n},{}],5:[function(require,module,exports){\n/**\n * Zenscroll 3.3.0\n * https://github.com/zengabor/zenscroll/\n *\n * Copyright 2015–2016 Gabor Lenard\n *\n * This is free and unencumbered software released into the public domain.\n * \n * Anyone is free to copy, modify, publish, use, compile, sell, or\n * distribute this software, either in source code form or as a compiled\n * binary, for any purpose, commercial or non-commercial, and by any\n * means.\n * \n * In jurisdictions that recognize copyright laws, the author or authors\n * of this software dedicate any and all copyright interest in the\n * software to the public domain. We make this dedication for the benefit\n * of the public at large and to the detriment of our heirs and\n * successors. We intend this dedication to be an overt act of\n * relinquishment in perpetuity of all present and future rights to this\n * software under copyright law.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n * IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n * \n * For more information, please refer to <http://unlicense.org>\n *\n */\n\n/*jshint devel:true, asi:true */\n\n/*global define, module */\n\n\n(function (root, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine([], factory())\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory()\n\t} else {\n\t\troot.zenscroll = factory()\n\t}\n}(this, function () {\n\t\"use strict\"\n\t\n\t// Detect if the browser already supports native smooth scrolling (e.g., Firefox 36+ and Chrome 49+) and it is enabled:\n\tvar isNativeSmoothScrollEnabledOn = function (elem) {\n\t\treturn (\"getComputedStyle\" in window) &&\n\t\t\twindow.getComputedStyle(elem)[\"scroll-behavior\"] === \"smooth\"\n\t}\n\n\t// Exit if it’s not a browser environment:\n\tif (typeof window === \"undefined\" || !(\"document\" in window)) {\n\t\treturn {}\n\t}\n\n\tvar createScroller = function (scrollContainer, defaultDuration, edgeOffset) {\n\n\t\tdefaultDuration = defaultDuration || 999 //ms\n\t\tif (!edgeOffset && edgeOffset !== 0) {\n\t\t\t// When scrolling, this amount of distance is kept from the edges of the scrollContainer:\n\t\t\tedgeOffset = 9 //px\n\t\t}\n\n\t\tvar scrollTimeoutId\n\t\tvar setScrollTimeoutId = function (newValue) {\n\t\t\tscrollTimeoutId = newValue\n\t\t}\n\t\tvar docElem = document.documentElement\n\t\t\n\t\tvar getScrollTop = function () {\n\t\t\tif (scrollContainer) {\n\t\t\t\treturn scrollContainer.scrollTop\n\t\t\t} else {\n\t\t\t\treturn window.scrollY || docElem.scrollTop\n\t\t\t}\n\t\t}\n\n\t\tvar getViewHeight = function () {\n\t\t\tif (scrollContainer) {\n\t\t\t\treturn Math.min(scrollContainer.offsetHeight, window.innerHeight)\n\t\t\t} else {\n\t\t\t\treturn window.innerHeight || docElem.clientHeight\n\t\t\t}\n\t\t}\n\n\t\tvar getRelativeTopOf = function (elem) {\n\t\t\tif (scrollContainer) {\n\t\t\t\treturn elem.offsetTop\n\t\t\t} else {\n\t\t\t\treturn elem.getBoundingClientRect().top + getScrollTop() - docElem.offsetTop\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Immediately stops the current smooth scroll operation\n\t\t */\n\t\tvar stopScroll = function () {\n\t\t\tclearTimeout(scrollTimeoutId)\n\t\t\tsetScrollTimeoutId(0)\n\t\t}\n\n\t\t/**\n\t\t * Scrolls to a specific vertical position in the document.\n\t\t *\n\t\t * @param {endY} The vertical position within the document.\n\t\t * @param {duration} Optionally the duration of the scroll operation.\n\t\t *        If 0 or not provided it is automatically calculated based on the \n\t\t *        distance and the default duration.\n\t\t * @param {onDone} Callback function to be invoken once the scroll finishes.\n\t\t */\n\t\tvar scrollToY = function (endY, duration, onDone) {\n\t\t\tstopScroll()\n\t\t\tif (isNativeSmoothScrollEnabledOn(scrollContainer ? scrollContainer : document.body)) {\n\t\t\t\t(scrollContainer || window).scrollTo(0, endY)\n\t\t\t\tif (onDone) {\n\t\t\t\t\tonDone()\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar startY = getScrollTop()\n\t\t\t\tvar distance = Math.max(endY,0) - startY\n\t\t\t\tduration = duration || Math.min(Math.abs(distance), defaultDuration)\n\t\t\t\tvar startTime = new Date().getTime();\n\t\t\t\t(function loopScroll() {\n\t\t\t\t\tsetScrollTimeoutId(setTimeout(function () {\n\t\t\t\t\t\tvar p = Math.min((new Date().getTime() - startTime) / duration, 1) // percentage\n\t\t\t\t\t\tvar y = Math.max(Math.floor(startY + distance*(p < 0.5 ? 2*p*p : p*(4 - p*2)-1)), 0)\n\t\t\t\t\t\tif (scrollContainer) {\n\t\t\t\t\t\t\tscrollContainer.scrollTop = y\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.scrollTo(0, y)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p < 1 && (getViewHeight() + y) < (scrollContainer || docElem).scrollHeight) {\n\t\t\t\t\t\t\tloopScroll()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(stopScroll, 99) // with cooldown time\n\t\t\t\t\t\t\tif (onDone) {\n\t\t\t\t\t\t\t\tonDone()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9))\n\t\t\t\t})()\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Scrolls to the top of a specific element.\n\t\t *\n\t\t * @param {elem} The element.\n\t\t * @param {duration} Optionally the duration of the scroll operation.\n\t\t *        A value of 0 is ignored.\n\t\t * @param {onDone} Callback function to be invoken once the scroll finishes.\n\t\t * @returns {endY} The new vertical scoll position that will be valid once the scroll finishes.\n\t\t */\n\t\tvar scrollToElem = function (elem, duration, onDone) {\n\t\t\tvar endY = getRelativeTopOf(elem) - edgeOffset\n\t\t\tscrollToY(endY, duration, onDone)\n\t\t\treturn endY\n\t\t}\n\n\t\t/**\n\t\t * Scrolls an element into view if necessary.\n\t\t *\n\t\t * @param {elem} The element.\n\t\t * @param {duration} Optionally the duration of the scroll operation.\n\t\t *        A value of 0 is ignored.\n\t\t * @param {onDone} Callback function to be invoken once the scroll finishes.\n\t\t */\n\t\tvar scrollIntoView = function (elem, duration, onDone) {\n\t\t\tvar elemHeight = elem.getBoundingClientRect().height\n\t\t\tvar elemTop = getRelativeTopOf(elem)\n\t\t\tvar elemBottom = elemTop + elemHeight\n\t\t\tvar containerHeight = getViewHeight()\n\t\t\tvar containerTop = getScrollTop()\n\t\t\tvar containerBottom = containerTop + containerHeight\n\t\t\tif ((elemTop - edgeOffset) < containerTop || (elemHeight + edgeOffset) > containerHeight) {\n\t\t\t\t// Element is clipped at top or is higher than screen.\n\t\t\t\tscrollToElem(elem, duration, onDone)\n\t\t\t} else if ((elemBottom + edgeOffset) > containerBottom) {\n\t\t\t\t// Element is clipped at the bottom.\n\t\t\t\tscrollToY(elemBottom - containerHeight + edgeOffset, duration, onDone)\n\t\t\t} else if (onDone) {\n\t\t\t\tonDone()\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Scrolls to the center of an element.\n\t\t *\n\t\t * @param {elem} The element.\n\t\t * @param {duration} Optionally the duration of the scroll operation.\n\t\t * @param {offset} Optionally the offset of the top of the element from the center of the screen.\n\t\t *        A value of 0 is ignored.\n\t\t * @param {onDone} Callback function to be invoken once the scroll finishes.\n\t\t */\n\t\tvar scrollToCenterOf = function (elem, duration, offset, onDone) {\n\t\t\tscrollToY(\n\t\t\t\tMath.max(\n\t\t\t\t\tgetRelativeTopOf(elem) - getViewHeight()/2 + (offset || elem.getBoundingClientRect().height/2), \n\t\t\t\t\t0\n\t\t\t\t), \n\t\t\t\tduration,\n\t\t\t\tonDone\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * Changes default settings for this scroller.\n\t\t *\n\t\t * @param {newDefaultDuration} New value for default duration, used for each scroll method by default.\n\t\t *        Ignored if 0 or falsy.\n\t\t * @param {newEdgeOffset} New value for the edge offset, used by each scroll method by default.\n\t\t */\n\t\tvar setup = function (newDefaultDuration, newEdgeOffset) {\n\t\t\tif (newDefaultDuration) {\n\t\t\t\tdefaultDuration = newDefaultDuration\n\t\t\t}\n\t\t\tif (newEdgeOffset === 0 || newEdgeOffset) {\n\t\t\t\tedgeOffset = newEdgeOffset\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tsetup: setup,\n\t\t\tto: scrollToElem,\n\t\t\ttoY: scrollToY,\n\t\t\tintoView: scrollIntoView,\n\t\t\tcenter: scrollToCenterOf,\n\t\t\tstop: stopScroll,\n\t\t\tmoving: function () { return !!scrollTimeoutId },\n\t\t\tgetY: getScrollTop\n\t\t}\n\n\t}\n\n\t// Create a scroller for the browser window, omitting parameters:\n\tvar defaultScroller = createScroller()\n\n\t// Create listeners for the documentElement only & exclude IE8-\n\tif (\"addEventListener\" in window && !(isNativeSmoothScrollEnabledOn(document.body) || window.noZensmooth)) {\n\t\tif (\"scrollRestoration\" in history) {\n\t\t\thistory.scrollRestoration = \"manual\"\n\t\t\twindow.addEventListener(\"popstate\", function (event) {\n\t\t\t\tif (event.state && \"scrollY\" in event.state) {\n\t\t\t\t\tdefaultScroller.toY(event.state.scrollY)\n\t\t\t\t}\n\t\t\t}, false)\n\t\t}\n\t\tvar replaceUrl = function (hash, newY) {\n\t\t\ttry {\n\t\t\t\thistory.replaceState({scrollY:defaultScroller.getY()}, \"\") // remember the scroll position before scrolling\n\t\t\t\thistory.pushState({scrollY:newY}, \"\", window.location.href.split(\"#\")[0] + hash) // remember the new scroll position (which will be after scrolling)\n\t\t\t} catch (e) {\n\t\t\t\t// To avoid the Security exception in Chrome when the page was opened via the file protocol, e.g., file://index.html\n\t\t\t}\n\t\t}\n\t\twindow.addEventListener(\"click\", function (event) {\n\t\t\tvar anchor = event.target\n\t\t\twhile (anchor && anchor.tagName !== \"A\") {\n\t\t\t\tanchor = anchor.parentNode\n\t\t\t}\n\t\t\t// Only handle links that were clicked with the primary button, without modifier keys:\n\t\t\tif (!anchor || event.which !== 1 || event.shiftKey || event.metaKey || event.ctrlKey || event.altKey) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tvar href = anchor.getAttribute(\"href\") || \"\"\n\t\t\tif (href.indexOf(\"#\") === 0) {\n\t\t\t\tif (href === \"#\") {\n\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\tdefaultScroller.toY(0)\n\t\t\t\t\treplaceUrl(\"\", 0)\n\t\t\t\t} else {\n\t\t\t\t\tvar targetId = anchor.hash.substring(1)\n\t\t\t\t\tvar targetElem = document.getElementById(targetId)\n\t\t\t\t\tif (targetElem) {\n\t\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\t\treplaceUrl(\"#\" + targetId, defaultScroller.to(targetElem))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, false)\n\t}\n\n\treturn {\n\t\t// Expose the \"constructor\" that can create a new scroller:\n\t\tcreateScroller: createScroller,\n\t\t// Surface the methods of the default scroller:\n\t\tsetup: defaultScroller.setup,\n\t\tto: defaultScroller.to,\n\t\ttoY: defaultScroller.toY,\n\t\tintoView: defaultScroller.intoView,\n\t\tcenter: defaultScroller.center,\n\t\tstop: defaultScroller.stop,\n\t\tmoving: defaultScroller.moving\n\t}\n\n}));\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nvar _vanillaLazyload = require('vanilla-lazyload');\n\nvar _vanillaLazyload2 = _interopRequireDefault(_vanillaLazyload);\n\nvar _headroom = require('headroom.js');\n\nvar _headroom2 = _interopRequireDefault(_headroom);\n\nvar _webfontloader = require('webfontloader');\n\nvar _webfontloader2 = _interopRequireDefault(_webfontloader);\n\nrequire('vanilla-ripplejs');\n\nrequire('zenscroll');\n\nrequire('./work.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_webfontloader2.default.load({\n    google: {\n        families: ['Roboto:100,300,400,700']\n    }\n});\n\nvar headroom = new _headroom2.default(document.querySelector('header')).init();\nvar lazyLoad = new _vanillaLazyload2.default({\n    threshold: 1000\n});\n\ndocument.querySelector('.copyright').innerHTML = \"&copy; Jim Saari \" + new Date().getFullYear();\n\n},{\"./work.js\":7,\"headroom.js\":1,\"vanilla-lazyload\":2,\"vanilla-ripplejs\":3,\"webfontloader\":4,\"zenscroll\":5}],7:[function(require,module,exports){\n'use strict';\n\nvar bodies = document.querySelectorAll('.article-body');\nvar expanded = null;\n\nvar EventFunction = function EventFunction(event) {\n  var originalElement = event.currentTarget;\n\n  if (expanded === originalElement) {\n    originalElement.classList.remove('expand');\n    expanded = null;\n  } else {\n    if (expanded) {\n      expanded.classList.remove('expand');\n    }\n    originalElement.classList.add('expand');\n    expanded = originalElement;\n  }\n};\n\nvar AddListeners = function AddListeners(elements) {\n  if (elements.length !== 0) {\n    elements.forEach(function (element) {\n      element.addEventListener('click', EventFunction, false);\n    });\n  }\n};\n\nAddListeners(bodies);\n\n},{}]},{},[6])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvaGVhZHJvb20uanMvZGlzdC9oZWFkcm9vbS5qcyIsIm5vZGVfbW9kdWxlcy92YW5pbGxhLWxhenlsb2FkL2Rpc3QvbGF6eWxvYWQubWluLmpzIiwibm9kZV9tb2R1bGVzL3ZhbmlsbGEtcmlwcGxlanMvcmlwcGxlLm1pbi5qcyIsIm5vZGVfbW9kdWxlcy93ZWJmb250bG9hZGVyL3dlYmZvbnRsb2FkZXIuanMiLCJub2RlX21vZHVsZXMvemVuc2Nyb2xsL3plbnNjcm9sbC5qcyIsInNyYy9qcy9tYWluLmpzIiwic3JjL2pzL3dvcmsuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVjQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUM3U0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSx3QkFBUSxJQUFSLENBQWE7QUFDVCxZQUFRO0FBQ0osa0JBQVUsQ0FBQyx3QkFBRDtBQUROO0FBREMsQ0FBYjs7QUFNQSxJQUFNLFdBQVcsdUJBQWEsU0FBUyxhQUFULENBQXVCLFFBQXZCLENBQWIsRUFBK0MsSUFBL0MsRUFBakI7QUFDQSxJQUFNLFdBQVcsOEJBQWE7QUFDMUIsZUFBVztBQURlLENBQWIsQ0FBakI7O0FBSUEsU0FBUyxhQUFULENBQXVCLFlBQXZCLEVBQXFDLFNBQXJDLEdBQWlELHNCQUFzQixJQUFJLElBQUosR0FBVyxXQUFYLEVBQXZFOzs7OztBQ2xCQSxJQUFNLFNBQVMsU0FBUyxnQkFBVCxDQUEwQixlQUExQixDQUFmO0FBQ0EsSUFBSSxXQUFXLElBQWY7O0FBRUEsSUFBTSxnQkFBZ0IsU0FBaEIsYUFBZ0IsQ0FBQyxLQUFELEVBQVc7QUFDL0IsTUFBTSxrQkFBa0IsTUFBTSxhQUE5Qjs7QUFFQSxNQUFJLGFBQWEsZUFBakIsRUFBa0M7QUFDaEMsb0JBQWdCLFNBQWhCLENBQTBCLE1BQTFCLENBQWlDLFFBQWpDO0FBQ0EsZUFBVyxJQUFYO0FBQ0QsR0FIRCxNQUdPO0FBQ0wsUUFBSSxRQUFKLEVBQWM7QUFDWixlQUFTLFNBQVQsQ0FBbUIsTUFBbkIsQ0FBMEIsUUFBMUI7QUFDRDtBQUNELG9CQUFnQixTQUFoQixDQUEwQixHQUExQixDQUE4QixRQUE5QjtBQUNBLGVBQVcsZUFBWDtBQUNEO0FBQ0YsQ0FiRDs7QUFlQSxJQUFNLGVBQWUsU0FBZixZQUFlLENBQUMsUUFBRCxFQUFjO0FBQ2pDLE1BQUksU0FBUyxNQUFULEtBQW9CLENBQXhCLEVBQTJCO0FBQ3pCLGFBQVMsT0FBVCxDQUFpQixVQUFDLE9BQUQsRUFBYTtBQUM1QixjQUFRLGdCQUFSLENBQXlCLE9BQXpCLEVBQWtDLGFBQWxDLEVBQWlELEtBQWpEO0FBQ0QsS0FGRDtBQUdEO0FBQ0YsQ0FORDs7QUFRQSxhQUFhLE1BQWIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyohXG4gKiBoZWFkcm9vbS5qcyB2MC45LjMgLSBHaXZlIHlvdXIgcGFnZSBzb21lIGhlYWRyb29tLiBIaWRlIHlvdXIgaGVhZGVyIHVudGlsIHlvdSBuZWVkIGl0XG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgTmljayBXaWxsaWFtcyAtIGh0dHA6Ly93aWNreS5uaWxsaWEubXMvaGVhZHJvb20uanNcbiAqIExpY2Vuc2U6IE1JVFxuICovXG5cbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gQ09NTU9OSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBCUk9XU0VSXG4gICAgcm9vdC5IZWFkcm9vbSA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qIGV4cG9ydGVkIGZlYXR1cmVzICovXG4gIFxuICB2YXIgZmVhdHVyZXMgPSB7XG4gICAgYmluZCA6ICEhKGZ1bmN0aW9uKCl7fS5iaW5kKSxcbiAgICBjbGFzc0xpc3QgOiAnY2xhc3NMaXN0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgckFGIDogISEod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gIH07XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgXG4gIC8qKlxuICAgKiBIYW5kbGVzIGRlYm91bmNpbmcgb2YgZXZlbnRzIHZpYSByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICogQHNlZSBodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9zcGVlZC9hbmltYXRpb25zL1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gaGFuZGxlIHdoaWNoZXZlciBldmVudFxuICAgKi9cbiAgZnVuY3Rpb24gRGVib3VuY2VyIChjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgfVxuICBEZWJvdW5jZXIucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yIDogRGVib3VuY2VyLFxuICBcbiAgICAvKipcbiAgICAgKiBkaXNwYXRjaGVzIHRoZSBldmVudCB0byB0aGUgc3VwcGxpZWQgY2FsbGJhY2tcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZSA6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBlbnN1cmVzIGV2ZW50cyBkb24ndCBnZXQgc3RhY2tlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcmVxdWVzdFRpY2sgOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmKCF0aGlzLnRpY2tpbmcpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmQ2FsbGJhY2sgfHwgKHRoaXMucmFmQ2FsbGJhY2sgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKSk7XG4gICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoaXMgYXMgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50IDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnJlcXVlc3RUaWNrKCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgb2JqZWN0IGlzIHBhcnQgb2YgdGhlIERPTVxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBlbGVtZW50IHRvIGNoZWNrXG4gICAqL1xuICBmdW5jdGlvbiBpc0RPTUVsZW1lbnQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAob2JqID09PSB3aW5kb3cgfHwgb2JqLm5vZGVUeXBlKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgZXh0ZW5kaW5nIG9iamVjdHNcbiAgICovXG4gIGZ1bmN0aW9uIGV4dGVuZCAob2JqZWN0IC8qLCBvYmplY3ROIC4uLiAqLykge1xuICAgIGlmKGFyZ3VtZW50cy5sZW5ndGggPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIGFyZ3VtZW50cyBpbiBleHRlbmQgZnVuY3Rpb24nKTtcbiAgICB9XG4gIFxuICAgIHZhciByZXN1bHQgPSBvYmplY3QgfHwge30sXG4gICAgICAgIGtleSxcbiAgICAgICAgaTtcbiAgXG4gICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJlcGxhY2VtZW50ID0gYXJndW1lbnRzW2ldIHx8IHt9O1xuICBcbiAgICAgIGZvciAoa2V5IGluIHJlcGxhY2VtZW50KSB7XG4gICAgICAgIC8vIFJlY3Vyc2UgaW50byBvYmplY3QgZXhjZXB0IGlmIHRoZSBvYmplY3QgaXMgYSBET00gZWxlbWVudFxuICAgICAgICBpZih0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmICEgaXNET01FbGVtZW50KHJlc3VsdFtrZXldKSkge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gZXh0ZW5kKHJlc3VsdFtrZXldLCByZXBsYWNlbWVudFtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHJlc3VsdFtrZXldIHx8IHJlcGxhY2VtZW50W2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIG5vcm1hbGl6aW5nIHRvbGVyYW5jZSBvcHRpb24gdG8gb2JqZWN0IGZvcm1hdFxuICAgKi9cbiAgZnVuY3Rpb24gbm9ybWFsaXplVG9sZXJhbmNlICh0KSB7XG4gICAgcmV0dXJuIHQgPT09IE9iamVjdCh0KSA/IHQgOiB7IGRvd24gOiB0LCB1cCA6IHQgfTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIFVJIGVuaGFuY2VtZW50IGZvciBmaXhlZCBoZWFkZXJzLlxuICAgKiBIaWRlcyBoZWFkZXIgd2hlbiBzY3JvbGxpbmcgZG93blxuICAgKiBTaG93cyBoZWFkZXIgd2hlbiBzY3JvbGxpbmcgdXBcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbSB0aGUgaGVhZGVyIGVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgb3B0aW9ucyBmb3IgdGhlIHdpZGdldFxuICAgKi9cbiAgZnVuY3Rpb24gSGVhZHJvb20gKGVsZW0sIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gZXh0ZW5kKG9wdGlvbnMsIEhlYWRyb29tLm9wdGlvbnMpO1xuICBcbiAgICB0aGlzLmxhc3RLbm93blNjcm9sbFkgPSAwO1xuICAgIHRoaXMuZWxlbSAgICAgICAgICAgICA9IGVsZW07XG4gICAgdGhpcy50b2xlcmFuY2UgICAgICAgID0gbm9ybWFsaXplVG9sZXJhbmNlKG9wdGlvbnMudG9sZXJhbmNlKTtcbiAgICB0aGlzLmNsYXNzZXMgICAgICAgICAgPSBvcHRpb25zLmNsYXNzZXM7XG4gICAgdGhpcy5vZmZzZXQgICAgICAgICAgID0gb3B0aW9ucy5vZmZzZXQ7XG4gICAgdGhpcy5zY3JvbGxlciAgICAgICAgID0gb3B0aW9ucy5zY3JvbGxlcjtcbiAgICB0aGlzLmluaXRpYWxpc2VkICAgICAgPSBmYWxzZTtcbiAgICB0aGlzLm9uUGluICAgICAgICAgICAgPSBvcHRpb25zLm9uUGluO1xuICAgIHRoaXMub25VbnBpbiAgICAgICAgICA9IG9wdGlvbnMub25VbnBpbjtcbiAgICB0aGlzLm9uVG9wICAgICAgICAgICAgPSBvcHRpb25zLm9uVG9wO1xuICAgIHRoaXMub25Ob3RUb3AgICAgICAgICA9IG9wdGlvbnMub25Ob3RUb3A7XG4gICAgdGhpcy5vbkJvdHRvbSAgICAgICAgID0gb3B0aW9ucy5vbkJvdHRvbTtcbiAgICB0aGlzLm9uTm90Qm90dG9tICAgICAgPSBvcHRpb25zLm9uTm90Qm90dG9tO1xuICB9XG4gIEhlYWRyb29tLnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvciA6IEhlYWRyb29tLFxuICBcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXNlcyB0aGUgd2lkZ2V0XG4gICAgICovXG4gICAgaW5pdCA6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoIUhlYWRyb29tLmN1dHNUaGVNdXN0YXJkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICB0aGlzLmRlYm91bmNlciA9IG5ldyBEZWJvdW5jZXIodGhpcy51cGRhdGUuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzZXMuaW5pdGlhbCk7XG4gIFxuICAgICAgLy8gZGVmZXIgZXZlbnQgcmVnaXN0cmF0aW9uIHRvIGhhbmRsZSBicm93c2VyIFxuICAgICAgLy8gcG90ZW50aWFsbHkgcmVzdG9yaW5nIHByZXZpb3VzIHNjcm9sbCBwb3NpdGlvblxuICAgICAgc2V0VGltZW91dCh0aGlzLmF0dGFjaEV2ZW50LmJpbmQodGhpcyksIDEwMCk7XG4gIFxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogVW5hdHRhY2hlcyBldmVudHMgYW5kIHJlbW92ZXMgYW55IGNsYXNzZXMgdGhhdCB3ZXJlIGFkZGVkXG4gICAgICovXG4gICAgZGVzdHJveSA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gIFxuICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5lbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy51bnBpbm5lZCwgY2xhc3Nlcy5waW5uZWQsIGNsYXNzZXMudG9wLCBjbGFzc2VzLm5vdFRvcCwgY2xhc3Nlcy5pbml0aWFsKTtcbiAgICAgIHRoaXMuc2Nyb2xsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZWJvdW5jZXIsIGZhbHNlKTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyB0aGUgc2Nyb2xsIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhdHRhY2hFdmVudCA6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoIXRoaXMuaW5pdGlhbGlzZWQpe1xuICAgICAgICB0aGlzLmxhc3RLbm93blNjcm9sbFkgPSB0aGlzLmdldFNjcm9sbFkoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZWJvdW5jZXIsIGZhbHNlKTtcbiAgXG4gICAgICAgIHRoaXMuZGVib3VuY2VyLmhhbmRsZUV2ZW50KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBVbnBpbnMgdGhlIGhlYWRlciBpZiBpdCdzIGN1cnJlbnRseSBwaW5uZWRcbiAgICAgKi9cbiAgICB1bnBpbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKGNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLnBpbm5lZCkgfHwgIWNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLnVucGlubmVkKSkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKGNsYXNzZXMudW5waW5uZWQpO1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMucGlubmVkKTtcbiAgICAgICAgdGhpcy5vblVucGluICYmIHRoaXMub25VbnBpbi5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIFBpbnMgdGhlIGhlYWRlciBpZiBpdCdzIGN1cnJlbnRseSB1bnBpbm5lZFxuICAgICAqL1xuICAgIHBpbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKGNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLnVucGlubmVkKSkge1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMudW5waW5uZWQpO1xuICAgICAgICBjbGFzc0xpc3QuYWRkKGNsYXNzZXMucGlubmVkKTtcbiAgICAgICAgdGhpcy5vblBpbiAmJiB0aGlzLm9uUGluLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgdG9wIHN0YXRlc1xuICAgICAqL1xuICAgIHRvcCA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKCFjbGFzc0xpc3QuY29udGFpbnMoY2xhc3Nlcy50b3ApKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoY2xhc3Nlcy50b3ApO1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMubm90VG9wKTtcbiAgICAgICAgdGhpcy5vblRvcCAmJiB0aGlzLm9uVG9wLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgbm90IHRvcCBzdGF0ZVxuICAgICAqL1xuICAgIG5vdFRvcCA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IHRoaXMuZWxlbS5jbGFzc0xpc3QsXG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmNsYXNzZXM7XG4gICAgICBcbiAgICAgIGlmKCFjbGFzc0xpc3QuY29udGFpbnMoY2xhc3Nlcy5ub3RUb3ApKSB7XG4gICAgICAgIGNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5ub3RUb3ApO1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMudG9wKTtcbiAgICAgICAgdGhpcy5vbk5vdFRvcCAmJiB0aGlzLm9uTm90VG9wLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgYm90dG9tIDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2xhc3NMaXN0ID0gdGhpcy5lbGVtLmNsYXNzTGlzdCxcbiAgICAgICAgY2xhc3NlcyA9IHRoaXMuY2xhc3NlcztcbiAgICAgIFxuICAgICAgaWYoIWNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLmJvdHRvbSkpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZChjbGFzc2VzLmJvdHRvbSk7XG4gICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy5ub3RCb3R0b20pO1xuICAgICAgICB0aGlzLm9uQm90dG9tICYmIHRoaXMub25Cb3R0b20uY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBub3QgdG9wIHN0YXRlXG4gICAgICovXG4gICAgbm90Qm90dG9tIDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2xhc3NMaXN0ID0gdGhpcy5lbGVtLmNsYXNzTGlzdCxcbiAgICAgICAgY2xhc3NlcyA9IHRoaXMuY2xhc3NlcztcbiAgICAgIFxuICAgICAgaWYoIWNsYXNzTGlzdC5jb250YWlucyhjbGFzc2VzLm5vdEJvdHRvbSkpIHtcbiAgICAgICAgY2xhc3NMaXN0LmFkZChjbGFzc2VzLm5vdEJvdHRvbSk7XG4gICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy5ib3R0b20pO1xuICAgICAgICB0aGlzLm9uTm90Qm90dG9tICYmIHRoaXMub25Ob3RCb3R0b20uY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBZIHNjcm9sbCBwb3NpdGlvblxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy5zY3JvbGxZXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBwaXhlbHMgdGhlIHBhZ2UgaGFzIHNjcm9sbGVkIGFsb25nIHRoZSBZLWF4aXNcbiAgICAgKi9cbiAgICBnZXRTY3JvbGxZIDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKHRoaXMuc2Nyb2xsZXIucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgPyB0aGlzLnNjcm9sbGVyLnBhZ2VZT2Zmc2V0XG4gICAgICAgIDogKHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG9wICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgPyB0aGlzLnNjcm9sbGVyLnNjcm9sbFRvcFxuICAgICAgICAgIDogKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUgfHwgZG9jdW1lbnQuYm9keSkuc2Nyb2xsVG9wO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhlaWdodCBvZiB0aGUgdmlld3BvcnRcbiAgICAgKiBAc2VlIGh0dHA6Ly9hbmR5bGFuZ3Rvbi5jby51ay9ibG9nL2RldmVsb3BtZW50L2dldC12aWV3cG9ydC1zaXplLXdpZHRoLWFuZC1oZWlnaHQtamF2YXNjcmlwdFxuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIGhlaWdodCBvZiB0aGUgdmlld3BvcnQgaW4gcGl4ZWxzXG4gICAgICovXG4gICAgZ2V0Vmlld3BvcnRIZWlnaHQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGh5c2ljYWwgaGVpZ2h0IG9mIHRoZSBET00gZWxlbWVudFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIGVsbSB0aGUgZWxlbWVudCB0byBjYWxjdWxhdGUgdGhlIHBoeXNpY2FsIGhlaWdodCBvZiB3aGljaFxuICAgICAqIEByZXR1cm4ge2ludH0gICAgIHRoZSBwaHlzaWNhbCBoZWlnaHQgb2YgdGhlIGVsZW1lbnQgaW4gcGl4ZWxzXG4gICAgICovXG4gICAgZ2V0RWxlbWVudFBoeXNpY2FsSGVpZ2h0IDogZnVuY3Rpb24gKGVsbSkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICBlbG0ub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBlbG0uY2xpZW50SGVpZ2h0XG4gICAgICApO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBoeXNpY2FsIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIHBoeXNpY2FsIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudCBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBnZXRTY3JvbGxlclBoeXNpY2FsSGVpZ2h0IDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICh0aGlzLnNjcm9sbGVyID09PSB3aW5kb3cgfHwgdGhpcy5zY3JvbGxlciA9PT0gZG9jdW1lbnQuYm9keSlcbiAgICAgICAgPyB0aGlzLmdldFZpZXdwb3J0SGVpZ2h0KClcbiAgICAgICAgOiB0aGlzLmdldEVsZW1lbnRQaHlzaWNhbEhlaWdodCh0aGlzLnNjcm9sbGVyKTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoZWlnaHQgb2YgdGhlIGRvY3VtZW50XG4gICAgICogQHNlZSBodHRwOi8vamFtZXMucGFkb2xzZXkuY29tL2phdmFzY3JpcHQvZ2V0LWRvY3VtZW50LWhlaWdodC1jcm9zcy1icm93c2VyL1xuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIGhlaWdodCBvZiB0aGUgZG9jdW1lbnQgaW4gcGl4ZWxzXG4gICAgICovXG4gICAgZ2V0RG9jdW1lbnRIZWlnaHQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHksXG4gICAgICAgIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBcbiAgICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgICAgYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gICAgICAgIGJvZHkub2Zmc2V0SGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBib2R5LmNsaWVudEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgKTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoZWlnaHQgb2YgdGhlIERPTSBlbGVtZW50XG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgZWxtIHRoZSBlbGVtZW50IHRvIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mIHdoaWNoXG4gICAgICogQHJldHVybiB7aW50fSAgICAgdGhlIGhlaWdodCBvZiB0aGUgZWxlbWVudCBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50SGVpZ2h0IDogZnVuY3Rpb24gKGVsbSkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICBlbG0uc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBlbG0ub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBlbG0uY2xpZW50SGVpZ2h0XG4gICAgICApO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge2ludH0gdGhlIGhlaWdodCBvZiB0aGUgc2Nyb2xsZXIgZWxlbWVudCBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBnZXRTY3JvbGxlckhlaWdodCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAodGhpcy5zY3JvbGxlciA9PT0gd2luZG93IHx8IHRoaXMuc2Nyb2xsZXIgPT09IGRvY3VtZW50LmJvZHkpXG4gICAgICAgID8gdGhpcy5nZXREb2N1bWVudEhlaWdodCgpXG4gICAgICAgIDogdGhpcy5nZXRFbGVtZW50SGVpZ2h0KHRoaXMuc2Nyb2xsZXIpO1xuICAgIH0sXG4gIFxuICAgIC8qKlxuICAgICAqIGRldGVybWluZXMgaWYgdGhlIHNjcm9sbCBwb3NpdGlvbiBpcyBvdXRzaWRlIG9mIGRvY3VtZW50IGJvdW5kYXJpZXNcbiAgICAgKiBAcGFyYW0gIHtpbnR9ICBjdXJyZW50U2Nyb2xsWSB0aGUgY3VycmVudCB5IHNjcm9sbCBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge2Jvb2x9IHRydWUgaWYgb3V0IG9mIGJvdW5kcywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNPdXRPZkJvdW5kcyA6IGZ1bmN0aW9uIChjdXJyZW50U2Nyb2xsWSkge1xuICAgICAgdmFyIHBhc3RUb3AgID0gY3VycmVudFNjcm9sbFkgPCAwLFxuICAgICAgICBwYXN0Qm90dG9tID0gY3VycmVudFNjcm9sbFkgKyB0aGlzLmdldFNjcm9sbGVyUGh5c2ljYWxIZWlnaHQoKSA+IHRoaXMuZ2V0U2Nyb2xsZXJIZWlnaHQoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHBhc3RUb3AgfHwgcGFzdEJvdHRvbTtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBkZXRlcm1pbmVzIGlmIHRoZSB0b2xlcmFuY2UgaGFzIGJlZW4gZXhjZWVkZWRcbiAgICAgKiBAcGFyYW0gIHtpbnR9IGN1cnJlbnRTY3JvbGxZIHRoZSBjdXJyZW50IHNjcm9sbCB5IHBvc2l0aW9uXG4gICAgICogQHJldHVybiB7Ym9vbH0gdHJ1ZSBpZiB0b2xlcmFuY2UgZXhjZWVkZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIHRvbGVyYW5jZUV4Y2VlZGVkIDogZnVuY3Rpb24gKGN1cnJlbnRTY3JvbGxZLCBkaXJlY3Rpb24pIHtcbiAgICAgIHJldHVybiBNYXRoLmFicyhjdXJyZW50U2Nyb2xsWS10aGlzLmxhc3RLbm93blNjcm9sbFkpID49IHRoaXMudG9sZXJhbmNlW2RpcmVjdGlvbl07XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogZGV0ZXJtaW5lIGlmIGl0IGlzIGFwcHJvcHJpYXRlIHRvIHVucGluXG4gICAgICogQHBhcmFtICB7aW50fSBjdXJyZW50U2Nyb2xsWSB0aGUgY3VycmVudCB5IHNjcm9sbCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSAge2Jvb2x9IHRvbGVyYW5jZUV4Y2VlZGVkIGhhcyB0aGUgdG9sZXJhbmNlIGJlZW4gZXhjZWVkZWQ/XG4gICAgICogQHJldHVybiB7Ym9vbH0gdHJ1ZSBpZiBzaG91bGQgdW5waW4sIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIHNob3VsZFVucGluIDogZnVuY3Rpb24gKGN1cnJlbnRTY3JvbGxZLCB0b2xlcmFuY2VFeGNlZWRlZCkge1xuICAgICAgdmFyIHNjcm9sbGluZ0Rvd24gPSBjdXJyZW50U2Nyb2xsWSA+IHRoaXMubGFzdEtub3duU2Nyb2xsWSxcbiAgICAgICAgcGFzdE9mZnNldCA9IGN1cnJlbnRTY3JvbGxZID49IHRoaXMub2Zmc2V0O1xuICBcbiAgICAgIHJldHVybiBzY3JvbGxpbmdEb3duICYmIHBhc3RPZmZzZXQgJiYgdG9sZXJhbmNlRXhjZWVkZWQ7XG4gICAgfSxcbiAgXG4gICAgLyoqXG4gICAgICogZGV0ZXJtaW5lIGlmIGl0IGlzIGFwcHJvcHJpYXRlIHRvIHBpblxuICAgICAqIEBwYXJhbSAge2ludH0gY3VycmVudFNjcm9sbFkgdGhlIGN1cnJlbnQgeSBzY3JvbGwgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gIHtib29sfSB0b2xlcmFuY2VFeGNlZWRlZCBoYXMgdGhlIHRvbGVyYW5jZSBiZWVuIGV4Y2VlZGVkP1xuICAgICAqIEByZXR1cm4ge2Jvb2x9IHRydWUgaWYgc2hvdWxkIHBpbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgc2hvdWxkUGluIDogZnVuY3Rpb24gKGN1cnJlbnRTY3JvbGxZLCB0b2xlcmFuY2VFeGNlZWRlZCkge1xuICAgICAgdmFyIHNjcm9sbGluZ1VwICA9IGN1cnJlbnRTY3JvbGxZIDwgdGhpcy5sYXN0S25vd25TY3JvbGxZLFxuICAgICAgICBwYXN0T2Zmc2V0ID0gY3VycmVudFNjcm9sbFkgPD0gdGhpcy5vZmZzZXQ7XG4gIFxuICAgICAgcmV0dXJuIChzY3JvbGxpbmdVcCAmJiB0b2xlcmFuY2VFeGNlZWRlZCkgfHwgcGFzdE9mZnNldDtcbiAgICB9LFxuICBcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHVwZGF0aW5nIHRoZSBzdGF0ZSBvZiB0aGUgd2lkZ2V0XG4gICAgICovXG4gICAgdXBkYXRlIDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3VycmVudFNjcm9sbFkgID0gdGhpcy5nZXRTY3JvbGxZKCksXG4gICAgICAgIHNjcm9sbERpcmVjdGlvbiA9IGN1cnJlbnRTY3JvbGxZID4gdGhpcy5sYXN0S25vd25TY3JvbGxZID8gJ2Rvd24nIDogJ3VwJyxcbiAgICAgICAgdG9sZXJhbmNlRXhjZWVkZWQgPSB0aGlzLnRvbGVyYW5jZUV4Y2VlZGVkKGN1cnJlbnRTY3JvbGxZLCBzY3JvbGxEaXJlY3Rpb24pO1xuICBcbiAgICAgIGlmKHRoaXMuaXNPdXRPZkJvdW5kcyhjdXJyZW50U2Nyb2xsWSkpIHsgLy8gSWdub3JlIGJvdW5jeSBzY3JvbGxpbmcgaW4gT1NYXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoY3VycmVudFNjcm9sbFkgPD0gdGhpcy5vZmZzZXQgKSB7XG4gICAgICAgIHRoaXMudG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5vdFRvcCgpO1xuICAgICAgfVxuICBcbiAgICAgIGlmKGN1cnJlbnRTY3JvbGxZICsgdGhpcy5nZXRWaWV3cG9ydEhlaWdodCgpID49IHRoaXMuZ2V0U2Nyb2xsZXJIZWlnaHQoKSkge1xuICAgICAgICB0aGlzLmJvdHRvbSgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMubm90Qm90dG9tKCk7XG4gICAgICB9XG4gIFxuICAgICAgaWYodGhpcy5zaG91bGRVbnBpbihjdXJyZW50U2Nyb2xsWSwgdG9sZXJhbmNlRXhjZWVkZWQpKSB7XG4gICAgICAgIHRoaXMudW5waW4oKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYodGhpcy5zaG91bGRQaW4oY3VycmVudFNjcm9sbFksIHRvbGVyYW5jZUV4Y2VlZGVkKSkge1xuICAgICAgICB0aGlzLnBpbigpO1xuICAgICAgfVxuICBcbiAgICAgIHRoaXMubGFzdEtub3duU2Nyb2xsWSA9IGN1cnJlbnRTY3JvbGxZO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIERlZmF1bHQgb3B0aW9uc1xuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgSGVhZHJvb20ub3B0aW9ucyA9IHtcbiAgICB0b2xlcmFuY2UgOiB7XG4gICAgICB1cCA6IDAsXG4gICAgICBkb3duIDogMFxuICAgIH0sXG4gICAgb2Zmc2V0IDogMCxcbiAgICBzY3JvbGxlcjogd2luZG93LFxuICAgIGNsYXNzZXMgOiB7XG4gICAgICBwaW5uZWQgOiAnaGVhZHJvb20tLXBpbm5lZCcsXG4gICAgICB1bnBpbm5lZCA6ICdoZWFkcm9vbS0tdW5waW5uZWQnLFxuICAgICAgdG9wIDogJ2hlYWRyb29tLS10b3AnLFxuICAgICAgbm90VG9wIDogJ2hlYWRyb29tLS1ub3QtdG9wJyxcbiAgICAgIGJvdHRvbSA6ICdoZWFkcm9vbS0tYm90dG9tJyxcbiAgICAgIG5vdEJvdHRvbSA6ICdoZWFkcm9vbS0tbm90LWJvdHRvbScsXG4gICAgICBpbml0aWFsIDogJ2hlYWRyb29tJ1xuICAgIH1cbiAgfTtcbiAgSGVhZHJvb20uY3V0c1RoZU11c3RhcmQgPSB0eXBlb2YgZmVhdHVyZXMgIT09ICd1bmRlZmluZWQnICYmIGZlYXR1cmVzLnJBRiAmJiBmZWF0dXJlcy5iaW5kICYmIGZlYXR1cmVzLmNsYXNzTGlzdDtcblxuICByZXR1cm4gSGVhZHJvb207XG59KSk7IiwiIWZ1bmN0aW9uKGEsYil7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxiKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iKCk6YS5MYXp5TG9hZD1iKCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7a3x8KGo9e2VsZW1lbnRzX3NlbGVjdG9yOlwiaW1nXCIsY29udGFpbmVyOndpbmRvdyx0aHJlc2hvbGQ6MzAwLHRocm90dGxlOjE1MCxkYXRhX3NyYzpcIm9yaWdpbmFsXCIsZGF0YV9zcmNzZXQ6XCJvcmlnaW5hbC1zZXRcIixjbGFzc19sb2FkaW5nOlwibG9hZGluZ1wiLGNsYXNzX2xvYWRlZDpcImxvYWRlZFwiLHNraXBfaW52aXNpYmxlOiEwLGNhbGxiYWNrX2xvYWQ6bnVsbCxjYWxsYmFja19lcnJvcjpudWxsLGNhbGxiYWNrX3NldDpudWxsLGNhbGxiYWNrX3Byb2Nlc3NlZDpudWxsfSxrPSEwKX1mdW5jdGlvbiBiKGEsYixjKXtmdW5jdGlvbiBkKCl7cmV0dXJuIHdpbmRvdy5pbm5lcldpZHRofHxsLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aH1mdW5jdGlvbiBlKCl7cmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodHx8bC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fHxkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodH1mdW5jdGlvbiBmKGEpe3JldHVybiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCttLWwuZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcH1mdW5jdGlvbiBnKGEpe3JldHVybiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQrbi1sLmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0fWZ1bmN0aW9uIGgoKXt2YXIgZDtyZXR1cm4gZD1iPT09d2luZG93P2UoKSttOmYoYikrYi5vZmZzZXRIZWlnaHQsZDw9ZihhKS1jfWZ1bmN0aW9uIGkoKXt2YXIgZTtyZXR1cm4gZT1iPT09d2luZG93P2QoKSt3aW5kb3cucGFnZVhPZmZzZXQ6ZyhiKStkKCksZTw9ZyhhKS1jfWZ1bmN0aW9uIGooKXt2YXIgZDtyZXR1cm4gZD1iPT09d2luZG93P206ZihiKSxkPj1mKGEpK2MrYS5vZmZzZXRIZWlnaHR9ZnVuY3Rpb24gaygpe3ZhciBkO3JldHVybiBkPWI9PT13aW5kb3c/bjpnKGIpLGQ+PWcoYSkrYythLm9mZnNldFdpZHRofXZhciBsLG0sbjtyZXR1cm4gbD1hLm93bmVyRG9jdW1lbnQsbT13aW5kb3cucGFnZVlPZmZzZXR8fGwuYm9keS5zY3JvbGxUb3Asbj13aW5kb3cucGFnZVhPZmZzZXR8fGwuYm9keS5zY3JvbGxMZWZ0LCEoaCgpfHxqKCl8fGkoKXx8aygpKX1mdW5jdGlvbiBjKCl7dmFyIGE9bmV3IERhdGU7cmV0dXJuIGEuZ2V0VGltZSgpfWZ1bmN0aW9uIGQoYSxiKXt2YXIgYyxkPXt9O2ZvcihjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmKGRbY109YVtjXSk7Zm9yKGMgaW4gYiliLmhhc093blByb3BlcnR5KGMpJiYoZFtjXT1iW2NdKTtyZXR1cm4gZH1mdW5jdGlvbiBlKGEpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhKX1mdW5jdGlvbiBmKGEsYil7dmFyIGM9YS5wYXJlbnRFbGVtZW50O2lmKFwiUElDVFVSRVwiPT09Yy50YWdOYW1lKWZvcih2YXIgZD0wO2Q8Yy5jaGlsZHJlbi5sZW5ndGg7ZCsrKXt2YXIgZT1jLmNoaWxkcmVuW2RdO2lmKFwiU09VUkNFXCI9PT1lLnRhZ05hbWUpe3ZhciBmPWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1cIitiKTtmJiZlLnNldEF0dHJpYnV0ZShcInNyY3NldFwiLGYpfX19ZnVuY3Rpb24gZyhhLGIsYyl7dmFyIGQ9YS50YWdOYW1lLGU9YS5nZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2MpO2lmKFwiSU1HXCI9PT1kKXtmKGEsYik7dmFyIGc9YS5nZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2IpO3JldHVybiBnJiZhLnNldEF0dHJpYnV0ZShcInNyY3NldFwiLGcpLHZvaWQoZSYmYS5zZXRBdHRyaWJ1dGUoXCJzcmNcIixlKSl9cmV0dXJuXCJJRlJBTUVcIj09PWQ/dm9pZChlJiZhLnNldEF0dHJpYnV0ZShcInNyY1wiLGUpKTp2b2lkKGUmJihhLnN0eWxlLmJhY2tncm91bmRJbWFnZT1cInVybChcIitlK1wiKVwiKSl9ZnVuY3Rpb24gaChhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gaShiKXthKCksdGhpcy5fc2V0dGluZ3M9ZChqLGIpLHRoaXMuX3F1ZXJ5T3JpZ2luTm9kZT10aGlzLl9zZXR0aW5ncy5jb250YWluZXI9PT13aW5kb3c/ZG9jdW1lbnQ6dGhpcy5fc2V0dGluZ3MuY29udGFpbmVyLHRoaXMuX3ByZXZpb3VzTG9vcFRpbWU9MCx0aGlzLl9sb29wVGltZW91dD1udWxsLHRoaXMuX2hhbmRsZVNjcm9sbEZuPWgodGhpcy5oYW5kbGVTY3JvbGwsdGhpcyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9oYW5kbGVTY3JvbGxGbiksdGhpcy51cGRhdGUoKX12YXIgaixrPSExO3JldHVybiBpLnByb3RvdHlwZS5fc2hvd09uQXBwZWFyPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsYyksYS5jbGFzc0xpc3QucmVtb3ZlKGQuY2xhc3NfbG9hZGluZyksZC5jYWxsYmFja19lcnJvciYmZC5jYWxsYmFja19lcnJvcihhKX1mdW5jdGlvbiBjKCl7bnVsbCE9PWQmJihkLmNhbGxiYWNrX2xvYWQmJmQuY2FsbGJhY2tfbG9hZChhKSxhLmNsYXNzTGlzdC5yZW1vdmUoZC5jbGFzc19sb2FkaW5nKSxhLmNsYXNzTGlzdC5hZGQoZC5jbGFzc19sb2FkZWQpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixjKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGIpKX12YXIgZD10aGlzLl9zZXR0aW5ncztcIklNR1wiIT09YS50YWdOYW1lJiZcIklGUkFNRVwiIT09YS50YWdOYW1lfHwoYS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGMpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYiksYS5jbGFzc0xpc3QuYWRkKGQuY2xhc3NfbG9hZGluZykpLGcoYSxkLmRhdGFfc3Jjc2V0LGQuZGF0YV9zcmMpLGQuY2FsbGJhY2tfc2V0JiZkLmNhbGxiYWNrX3NldChhKX0saS5wcm90b3R5cGUuX2xvb3BUaHJvdWdoRWxlbWVudHM9ZnVuY3Rpb24oKXt2YXIgYSxjLGQ9dGhpcy5fc2V0dGluZ3MsZT10aGlzLl9lbGVtZW50cyxmPWU/ZS5sZW5ndGg6MCxnPVtdO2ZvcihhPTA7YTxmO2ErKyljPWVbYV0sZC5za2lwX2ludmlzaWJsZSYmbnVsbD09PWMub2Zmc2V0UGFyZW50fHxiKGMsZC5jb250YWluZXIsZC50aHJlc2hvbGQpJiYodGhpcy5fc2hvd09uQXBwZWFyKGMpLGcucHVzaChhKSxjLndhc1Byb2Nlc3NlZD0hMCk7Zm9yKDtnLmxlbmd0aD4wOyllLnNwbGljZShnLnBvcCgpLDEpLGQuY2FsbGJhY2tfcHJvY2Vzc2VkJiZkLmNhbGxiYWNrX3Byb2Nlc3NlZChlLmxlbmd0aCk7MD09PWYmJnRoaXMuX3N0b3BTY3JvbGxIYW5kbGVyKCl9LGkucHJvdG90eXBlLl9wdXJnZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXMuX2VsZW1lbnRzLGQ9Yy5sZW5ndGgsZT1bXTtmb3IoYT0wO2E8ZDthKyspYj1jW2FdLGIud2FzUHJvY2Vzc2VkJiZlLnB1c2goYSk7Zm9yKDtlLmxlbmd0aD4wOyljLnNwbGljZShlLnBvcCgpLDEpfSxpLnByb3RvdHlwZS5fc3RhcnRTY3JvbGxIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5faXNIYW5kbGluZ1Njcm9sbHx8KHRoaXMuX2lzSGFuZGxpbmdTY3JvbGw9ITAsdGhpcy5fc2V0dGluZ3MuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9oYW5kbGVTY3JvbGxGbikpfSxpLnByb3RvdHlwZS5fc3RvcFNjcm9sbEhhbmRsZXI9ZnVuY3Rpb24oKXt0aGlzLl9pc0hhbmRsaW5nU2Nyb2xsJiYodGhpcy5faXNIYW5kbGluZ1Njcm9sbD0hMSx0aGlzLl9zZXR0aW5ncy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX2hhbmRsZVNjcm9sbEZuKSl9LGkucHJvdG90eXBlLmhhbmRsZVNjcm9sbD1mdW5jdGlvbigpe3ZhciBhLGIsZDt0aGlzLl9zZXR0aW5ncyYmKGI9YygpLGQ9dGhpcy5fc2V0dGluZ3MudGhyb3R0bGUsMCE9PWQ/KGE9ZC0oYi10aGlzLl9wcmV2aW91c0xvb3BUaW1lKSxhPD0wfHxhPmQ/KHRoaXMuX2xvb3BUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX2xvb3BUaW1lb3V0KSx0aGlzLl9sb29wVGltZW91dD1udWxsKSx0aGlzLl9wcmV2aW91c0xvb3BUaW1lPWIsdGhpcy5fbG9vcFRocm91Z2hFbGVtZW50cygpKTp0aGlzLl9sb29wVGltZW91dHx8KHRoaXMuX2xvb3BUaW1lb3V0PXNldFRpbWVvdXQoaChmdW5jdGlvbigpe3RoaXMuX3ByZXZpb3VzTG9vcFRpbWU9YygpLHRoaXMuX2xvb3BUaW1lb3V0PW51bGwsdGhpcy5fbG9vcFRocm91Z2hFbGVtZW50cygpfSx0aGlzKSxhKSkpOnRoaXMuX2xvb3BUaHJvdWdoRWxlbWVudHMoKSl9LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX2VsZW1lbnRzPWUodGhpcy5fcXVlcnlPcmlnaW5Ob2RlLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuZWxlbWVudHNfc2VsZWN0b3IpKSx0aGlzLl9wdXJnZUVsZW1lbnRzKCksdGhpcy5fbG9vcFRocm91Z2hFbGVtZW50cygpLHRoaXMuX3N0YXJ0U2Nyb2xsSGFuZGxlcigpfSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9oYW5kbGVTY3JvbGxGbiksdGhpcy5fbG9vcFRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5fbG9vcFRpbWVvdXQpLHRoaXMuX2xvb3BUaW1lb3V0PW51bGwpLHRoaXMuX3N0b3BTY3JvbGxIYW5kbGVyKCksdGhpcy5fZWxlbWVudHM9bnVsbCx0aGlzLl9xdWVyeU9yaWdpbk5vZGU9bnVsbCx0aGlzLl9zZXR0aW5ncz1udWxsfSxpfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYXp5bG9hZC5taW4uanMubWFwIiwid2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBuKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtiLnR5cGU9XCJ0ZXh0L2Nzc1wiO2Iuc3R5bGVTaGVldD9iLnN0eWxlU2hlZXQuY3NzVGV4dD1hOmIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpO2RvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKGIsZG9jdW1lbnQuaGVhZC5maXJzdENoaWxkKX1mdW5jdGlvbiBnKGEsYil7dmFyIGU9Yi50YXJnZXQsZz1lLmNsYXNzTGlzdDtpZighZy5jb250YWlucyhcInJpcHBsZUpTXCIpKXJldHVybiExO3ZhciBmPWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudFwiKTtpZihmJiZmIT1hKXJldHVybiExO2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudFwiLGEpO3ZhciBjPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZj1iLm9mZnNldFgsaDt2b2lkIDAhPT1mP2g9Yi5vZmZzZXRZOihmPWIuY2xpZW50WC1jLmxlZnQsXG5oPWIuY2xpZW50WS1jLnRvcCk7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjPWMud2lkdGg9PWMuaGVpZ2h0PzEuNDEyKmMud2lkdGg6TWF0aC5zcXJ0KGMud2lkdGgqYy53aWR0aCtjLmhlaWdodCpjLmhlaWdodCksaz0yKmMrXCJweFwiO2Quc3R5bGUud2lkdGg9aztkLnN0eWxlLmhlaWdodD1rO2Quc3R5bGUubWFyZ2luTGVmdD0tYytmK1wicHhcIjtkLnN0eWxlLm1hcmdpblRvcD0tYytoK1wicHhcIjtkLmNsYXNzTmFtZT1cInJpcHBsZVwiO2UuYXBwZW5kQ2hpbGQoZCk7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmNsYXNzTGlzdC5hZGQoXCJoZWxkXCIpfSwwKTt2YXIgbD1cIm1vdXNlZG93blwiPT1hP1wibW91c2V1cFwiOlwidG91Y2hlbmRcIixtPWZ1bmN0aW9uKGEpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobCxtKTtkLmNsYXNzTGlzdC5hZGQoXCJkb25lXCIpO3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5yZW1vdmVDaGlsZChkKTtlLmNoaWxkcmVuLmxlbmd0aHx8XG4oZy5yZW1vdmUoXCJhY3RpdmVcIiksZS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWV2ZW50XCIpKX0sNjUwKX07ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihsLG0pfShmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5jbGFzc05hbWU9XCJyaXBwbGVKU1wiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7dmFyIGI9XCJhYnNvbHV0ZVwiPT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhKS5wb3NpdGlvbjtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO3JldHVybiBifSkoKXx8bignLypyaXBwbGVKUyovLnJpcHBsZUpTLC5yaXBwbGVKUy5maWxsOjphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0ucmlwcGxlSlN7ZGlzcGxheTpibG9jaztvdmVyZmxvdzpoaWRkZW47Ym9yZGVyLXJhZGl1czppbmhlcml0Oy13ZWJraXQtbWFzay1pbWFnZTotd2Via2l0LXJhZGlhbC1ncmFkaWVudChjaXJjbGUsI2ZmZiwjMDAwKX0ucmlwcGxlSlMuZmlsbDo6YWZ0ZXJ7Y29udGVudDpcIlwifS5yaXBwbGVKUy5maWxse2JvcmRlci1yYWRpdXM6MTAwMDAwMHB4fS5yaXBwbGVKUyAucmlwcGxle3Bvc2l0aW9uOmFic29sdXRlO2JvcmRlci1yYWRpdXM6MTAwJTtiYWNrZ3JvdW5kOmN1cnJlbnRDb2xvcjtvcGFjaXR5Oi4yO3dpZHRoOjA7aGVpZ2h0OjA7LXdlYmtpdC10cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIC40cyBlYXNlLW91dCxvcGFjaXR5IC40cyBlYXNlLW91dDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuNHMgZWFzZS1vdXQsb3BhY2l0eSAuNHMgZWFzZS1vdXQ7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMCk7dHJhbnNmb3JtOnNjYWxlKDApO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1raHRtbC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5yaXBwbGVKUyAucmlwcGxlLmhlbGR7b3BhY2l0eTouNDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9LnJpcHBsZUpTIC5yaXBwbGUuZG9uZXtvcGFjaXR5OjB9Jyk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7MD09YS5idXR0b24mJmcoYS50eXBlLGEpfSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOysrYilnKGEudHlwZSxhLmNoYW5nZWRUb3VjaGVzW2JdKX0pfSk7XG4iLCIvKiBXZWIgRm9udCBMb2FkZXIgdjEuNi4yNyAtIChjKSBBZG9iZSBTeXN0ZW1zLCBHb29nbGUuIExpY2Vuc2U6IEFwYWNoZSAyLjAgKi8oZnVuY3Rpb24oKXtmdW5jdGlvbiBhYShhLGIsYyl7cmV0dXJuIGEuY2FsbC5hcHBseShhLmJpbmQsYXJndW1lbnRzKX1mdW5jdGlvbiBiYShhLGIsYyl7aWYoIWEpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGMsZCk7cmV0dXJuIGEuYXBwbHkoYixjKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX1mdW5jdGlvbiBwKGEsYixjKXtwPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiYtMSE9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKFwibmF0aXZlIGNvZGVcIik/YWE6YmE7cmV0dXJuIHAuYXBwbHkobnVsbCxhcmd1bWVudHMpfXZhciBxPURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX07ZnVuY3Rpb24gY2EoYSxiKXt0aGlzLmE9YTt0aGlzLm09Ynx8YTt0aGlzLmM9dGhpcy5tLmRvY3VtZW50fXZhciBkYT0hIXdpbmRvdy5Gb250RmFjZTtmdW5jdGlvbiB0KGEsYixjLGQpe2I9YS5jLmNyZWF0ZUVsZW1lbnQoYik7aWYoYylmb3IodmFyIGUgaW4gYyljLmhhc093blByb3BlcnR5KGUpJiYoXCJzdHlsZVwiPT1lP2Iuc3R5bGUuY3NzVGV4dD1jW2VdOmIuc2V0QXR0cmlidXRlKGUsY1tlXSkpO2QmJmIuYXBwZW5kQ2hpbGQoYS5jLmNyZWF0ZVRleHROb2RlKGQpKTtyZXR1cm4gYn1mdW5jdGlvbiB1KGEsYixjKXthPWEuYy5nZXRFbGVtZW50c0J5VGFnTmFtZShiKVswXTthfHwoYT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO2EuaW5zZXJ0QmVmb3JlKGMsYS5sYXN0Q2hpbGQpfWZ1bmN0aW9uIHYoYSl7YS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9XG5mdW5jdGlvbiB3KGEsYixjKXtiPWJ8fFtdO2M9Y3x8W107Zm9yKHZhciBkPWEuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLyksZT0wO2U8Yi5sZW5ndGg7ZSs9MSl7Zm9yKHZhciBmPSExLGc9MDtnPGQubGVuZ3RoO2crPTEpaWYoYltlXT09PWRbZ10pe2Y9ITA7YnJlYWt9Znx8ZC5wdXNoKGJbZV0pfWI9W107Zm9yKGU9MDtlPGQubGVuZ3RoO2UrPTEpe2Y9ITE7Zm9yKGc9MDtnPGMubGVuZ3RoO2crPTEpaWYoZFtlXT09PWNbZ10pe2Y9ITA7YnJlYWt9Znx8Yi5wdXNoKGRbZV0pfWEuY2xhc3NOYW1lPWIuam9pbihcIiBcIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC8sXCJcIil9ZnVuY3Rpb24geShhLGIpe2Zvcih2YXIgYz1hLmNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pLGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspaWYoY1tkXT09YilyZXR1cm4hMDtyZXR1cm4hMX1cbmZ1bmN0aW9uIHooYSl7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhLmYpcmV0dXJuIGEuZjt2YXIgYj1hLm0ubG9jYXRpb24ucHJvdG9jb2w7XCJhYm91dDpcIj09YiYmKGI9YS5hLmxvY2F0aW9uLnByb3RvY29sKTtyZXR1cm5cImh0dHBzOlwiPT1iP1wiaHR0cHM6XCI6XCJodHRwOlwifWZ1bmN0aW9uIGVhKGEpe3JldHVybiBhLm0ubG9jYXRpb24uaG9zdG5hbWV8fGEuYS5sb2NhdGlvbi5ob3N0bmFtZX1cbmZ1bmN0aW9uIEEoYSxiLGMpe2Z1bmN0aW9uIGQoKXtrJiZlJiZmJiYoayhnKSxrPW51bGwpfWI9dChhLFwibGlua1wiLHtyZWw6XCJzdHlsZXNoZWV0XCIsaHJlZjpiLG1lZGlhOlwiYWxsXCJ9KTt2YXIgZT0hMSxmPSEwLGc9bnVsbCxrPWN8fG51bGw7ZGE/KGIub25sb2FkPWZ1bmN0aW9uKCl7ZT0hMDtkKCl9LGIub25lcnJvcj1mdW5jdGlvbigpe2U9ITA7Zz1FcnJvcihcIlN0eWxlc2hlZXQgZmFpbGVkIHRvIGxvYWRcIik7ZCgpfSk6c2V0VGltZW91dChmdW5jdGlvbigpe2U9ITA7ZCgpfSwwKTt1KGEsXCJoZWFkXCIsYil9XG5mdW5jdGlvbiBCKGEsYixjLGQpe3ZhciBlPWEuYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07aWYoZSl7dmFyIGY9dChhLFwic2NyaXB0XCIse3NyYzpifSksZz0hMTtmLm9ubG9hZD1mLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2d8fHRoaXMucmVhZHlTdGF0ZSYmXCJsb2FkZWRcIiE9dGhpcy5yZWFkeVN0YXRlJiZcImNvbXBsZXRlXCIhPXRoaXMucmVhZHlTdGF0ZXx8KGc9ITAsYyYmYyhudWxsKSxmLm9ubG9hZD1mLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLFwiSEVBRFwiPT1mLnBhcmVudE5vZGUudGFnTmFtZSYmZS5yZW1vdmVDaGlsZChmKSl9O2UuYXBwZW5kQ2hpbGQoZik7c2V0VGltZW91dChmdW5jdGlvbigpe2d8fChnPSEwLGMmJmMoRXJyb3IoXCJTY3JpcHQgbG9hZCB0aW1lb3V0XCIpKSl9LGR8fDVFMyk7cmV0dXJuIGZ9cmV0dXJuIG51bGx9O2Z1bmN0aW9uIEMoKXt0aGlzLmE9MDt0aGlzLmM9bnVsbH1mdW5jdGlvbiBEKGEpe2EuYSsrO3JldHVybiBmdW5jdGlvbigpe2EuYS0tO0UoYSl9fWZ1bmN0aW9uIEYoYSxiKXthLmM9YjtFKGEpfWZ1bmN0aW9uIEUoYSl7MD09YS5hJiZhLmMmJihhLmMoKSxhLmM9bnVsbCl9O2Z1bmN0aW9uIEcoYSl7dGhpcy5hPWF8fFwiLVwifUcucHJvdG90eXBlLmM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWIucHVzaChhcmd1bWVudHNbY10ucmVwbGFjZSgvW1xcV19dKy9nLFwiXCIpLnRvTG93ZXJDYXNlKCkpO3JldHVybiBiLmpvaW4odGhpcy5hKX07ZnVuY3Rpb24gSChhLGIpe3RoaXMuYz1hO3RoaXMuZj00O3RoaXMuYT1cIm5cIjt2YXIgYz0oYnx8XCJuNFwiKS5tYXRjaCgvXihbbmlvXSkoWzEtOV0pJC9pKTtjJiYodGhpcy5hPWNbMV0sdGhpcy5mPXBhcnNlSW50KGNbMl0sMTApKX1mdW5jdGlvbiBmYShhKXtyZXR1cm4gSShhKStcIiBcIisoYS5mK1wiMDBcIikrXCIgMzAwcHggXCIrSihhLmMpfWZ1bmN0aW9uIEooYSl7dmFyIGI9W107YT1hLnNwbGl0KC8sXFxzKi8pO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLnJlcGxhY2UoL1snXCJdL2csXCJcIik7LTEhPWQuaW5kZXhPZihcIiBcIil8fC9eXFxkLy50ZXN0KGQpP2IucHVzaChcIidcIitkK1wiJ1wiKTpiLnB1c2goZCl9cmV0dXJuIGIuam9pbihcIixcIil9ZnVuY3Rpb24gSyhhKXtyZXR1cm4gYS5hK2EuZn1mdW5jdGlvbiBJKGEpe3ZhciBiPVwibm9ybWFsXCI7XCJvXCI9PT1hLmE/Yj1cIm9ibGlxdWVcIjpcImlcIj09PWEuYSYmKGI9XCJpdGFsaWNcIik7cmV0dXJuIGJ9XG5mdW5jdGlvbiBnYShhKXt2YXIgYj00LGM9XCJuXCIsZD1udWxsO2EmJigoZD1hLm1hdGNoKC8obm9ybWFsfG9ibGlxdWV8aXRhbGljKS9pKSkmJmRbMV0mJihjPWRbMV0uc3Vic3RyKDAsMSkudG9Mb3dlckNhc2UoKSksKGQ9YS5tYXRjaCgvKFsxLTldMDB8bm9ybWFsfGJvbGQpL2kpKSYmZFsxXSYmKC9ib2xkL2kudGVzdChkWzFdKT9iPTc6L1sxLTldMDAvLnRlc3QoZFsxXSkmJihiPXBhcnNlSW50KGRbMV0uc3Vic3RyKDAsMSksMTApKSkpO3JldHVybiBjK2J9O2Z1bmN0aW9uIGhhKGEsYil7dGhpcy5jPWE7dGhpcy5mPWEubS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dGhpcy5oPWI7dGhpcy5hPW5ldyBHKFwiLVwiKTt0aGlzLmo9ITEhPT1iLmV2ZW50czt0aGlzLmc9ITEhPT1iLmNsYXNzZXN9ZnVuY3Rpb24gaWEoYSl7YS5nJiZ3KGEuZixbYS5hLmMoXCJ3ZlwiLFwibG9hZGluZ1wiKV0pO0woYSxcImxvYWRpbmdcIil9ZnVuY3Rpb24gTShhKXtpZihhLmcpe3ZhciBiPXkoYS5mLGEuYS5jKFwid2ZcIixcImFjdGl2ZVwiKSksYz1bXSxkPVthLmEuYyhcIndmXCIsXCJsb2FkaW5nXCIpXTtifHxjLnB1c2goYS5hLmMoXCJ3ZlwiLFwiaW5hY3RpdmVcIikpO3coYS5mLGMsZCl9TChhLFwiaW5hY3RpdmVcIil9ZnVuY3Rpb24gTChhLGIsYyl7aWYoYS5qJiZhLmhbYl0paWYoYylhLmhbYl0oYy5jLEsoYykpO2Vsc2UgYS5oW2JdKCl9O2Z1bmN0aW9uIGphKCl7dGhpcy5jPXt9fWZ1bmN0aW9uIGthKGEsYixjKXt2YXIgZD1bXSxlO2ZvcihlIGluIGIpaWYoYi5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGY9YS5jW2VdO2YmJmQucHVzaChmKGJbZV0sYykpfXJldHVybiBkfTtmdW5jdGlvbiBOKGEsYil7dGhpcy5jPWE7dGhpcy5mPWI7dGhpcy5hPXQodGhpcy5jLFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9LHRoaXMuZil9ZnVuY3Rpb24gTyhhKXt1KGEuYyxcImJvZHlcIixhLmEpfWZ1bmN0aW9uIFAoYSl7cmV0dXJuXCJkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotOTk5OXB4O2xlZnQ6LTk5OTlweDtmb250LXNpemU6MzAwcHg7d2lkdGg6YXV0bztoZWlnaHQ6YXV0bztsaW5lLWhlaWdodDpub3JtYWw7bWFyZ2luOjA7cGFkZGluZzowO2ZvbnQtdmFyaWFudDpub3JtYWw7d2hpdGUtc3BhY2U6bm93cmFwO2ZvbnQtZmFtaWx5OlwiK0ooYS5jKStcIjtcIisoXCJmb250LXN0eWxlOlwiK0koYSkrXCI7Zm9udC13ZWlnaHQ6XCIrKGEuZitcIjAwXCIpK1wiO1wiKX07ZnVuY3Rpb24gUShhLGIsYyxkLGUsZil7dGhpcy5nPWE7dGhpcy5qPWI7dGhpcy5hPWQ7dGhpcy5jPWM7dGhpcy5mPWV8fDNFMzt0aGlzLmg9Znx8dm9pZCAwfVEucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLm0uZG9jdW1lbnQsYj10aGlzLGM9cSgpLGQ9bmV3IFByb21pc2UoZnVuY3Rpb24oZCxlKXtmdW5jdGlvbiBrKCl7cSgpLWM+PWIuZj9lKCk6YS5mb250cy5sb2FkKGZhKGIuYSksYi5oKS50aGVuKGZ1bmN0aW9uKGEpezE8PWEubGVuZ3RoP2QoKTpzZXRUaW1lb3V0KGssMjUpfSxmdW5jdGlvbigpe2UoKX0pfWsoKX0pLGU9bmV3IFByb21pc2UoZnVuY3Rpb24oYSxkKXtzZXRUaW1lb3V0KGQsYi5mKX0pO1Byb21pc2UucmFjZShbZSxkXSkudGhlbihmdW5jdGlvbigpe2IuZyhiLmEpfSxmdW5jdGlvbigpe2IuaihiLmEpfSl9O2Z1bmN0aW9uIFIoYSxiLGMsZCxlLGYsZyl7dGhpcy52PWE7dGhpcy5CPWI7dGhpcy5jPWM7dGhpcy5hPWQ7dGhpcy5zPWd8fFwiQkVTYnN3eVwiO3RoaXMuZj17fTt0aGlzLnc9ZXx8M0UzO3RoaXMudT1mfHxudWxsO3RoaXMubz10aGlzLmo9dGhpcy5oPXRoaXMuZz1udWxsO3RoaXMuZz1uZXcgTih0aGlzLmMsdGhpcy5zKTt0aGlzLmg9bmV3IE4odGhpcy5jLHRoaXMucyk7dGhpcy5qPW5ldyBOKHRoaXMuYyx0aGlzLnMpO3RoaXMubz1uZXcgTih0aGlzLmMsdGhpcy5zKTthPW5ldyBIKHRoaXMuYS5jK1wiLHNlcmlmXCIsSyh0aGlzLmEpKTthPVAoYSk7dGhpcy5nLmEuc3R5bGUuY3NzVGV4dD1hO2E9bmV3IEgodGhpcy5hLmMrXCIsc2Fucy1zZXJpZlwiLEsodGhpcy5hKSk7YT1QKGEpO3RoaXMuaC5hLnN0eWxlLmNzc1RleHQ9YTthPW5ldyBIKFwic2VyaWZcIixLKHRoaXMuYSkpO2E9UChhKTt0aGlzLmouYS5zdHlsZS5jc3NUZXh0PWE7YT1uZXcgSChcInNhbnMtc2VyaWZcIixLKHRoaXMuYSkpO2E9XG5QKGEpO3RoaXMuby5hLnN0eWxlLmNzc1RleHQ9YTtPKHRoaXMuZyk7Tyh0aGlzLmgpO08odGhpcy5qKTtPKHRoaXMubyl9dmFyIFM9e0Q6XCJzZXJpZlwiLEM6XCJzYW5zLXNlcmlmXCJ9LFQ9bnVsbDtmdW5jdGlvbiBVKCl7aWYobnVsbD09PVQpe3ZhciBhPS9BcHBsZVdlYktpdFxcLyhbMC05XSspKD86XFwuKFswLTldKykpLy5leGVjKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtUPSEhYSYmKDUzNj5wYXJzZUludChhWzFdLDEwKXx8NTM2PT09cGFyc2VJbnQoYVsxXSwxMCkmJjExPj1wYXJzZUludChhWzJdLDEwKSl9cmV0dXJuIFR9Ui5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmYuc2VyaWY9dGhpcy5qLmEub2Zmc2V0V2lkdGg7dGhpcy5mW1wic2Fucy1zZXJpZlwiXT10aGlzLm8uYS5vZmZzZXRXaWR0aDt0aGlzLkE9cSgpO2xhKHRoaXMpfTtcbmZ1bmN0aW9uIG1hKGEsYixjKXtmb3IodmFyIGQgaW4gUylpZihTLmhhc093blByb3BlcnR5KGQpJiZiPT09YS5mW1NbZF1dJiZjPT09YS5mW1NbZF1dKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGxhKGEpe3ZhciBiPWEuZy5hLm9mZnNldFdpZHRoLGM9YS5oLmEub2Zmc2V0V2lkdGgsZDsoZD1iPT09YS5mLnNlcmlmJiZjPT09YS5mW1wic2Fucy1zZXJpZlwiXSl8fChkPVUoKSYmbWEoYSxiLGMpKTtkP3EoKS1hLkE+PWEudz9VKCkmJm1hKGEsYixjKSYmKG51bGw9PT1hLnV8fGEudS5oYXNPd25Qcm9wZXJ0eShhLmEuYykpP1YoYSxhLnYpOlYoYSxhLkIpOm5hKGEpOlYoYSxhLnYpfWZ1bmN0aW9uIG5hKGEpe3NldFRpbWVvdXQocChmdW5jdGlvbigpe2xhKHRoaXMpfSxhKSw1MCl9ZnVuY3Rpb24gVihhLGIpe3NldFRpbWVvdXQocChmdW5jdGlvbigpe3YodGhpcy5nLmEpO3YodGhpcy5oLmEpO3YodGhpcy5qLmEpO3YodGhpcy5vLmEpO2IodGhpcy5hKX0sYSksMCl9O2Z1bmN0aW9uIFcoYSxiLGMpe3RoaXMuYz1hO3RoaXMuYT1iO3RoaXMuZj0wO3RoaXMubz10aGlzLmo9ITE7dGhpcy5zPWN9dmFyIFg9bnVsbDtXLnByb3RvdHlwZS5nPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYTtiLmcmJncoYi5mLFtiLmEuYyhcIndmXCIsYS5jLEsoYSkudG9TdHJpbmcoKSxcImFjdGl2ZVwiKV0sW2IuYS5jKFwid2ZcIixhLmMsSyhhKS50b1N0cmluZygpLFwibG9hZGluZ1wiKSxiLmEuYyhcIndmXCIsYS5jLEsoYSkudG9TdHJpbmcoKSxcImluYWN0aXZlXCIpXSk7TChiLFwiZm9udGFjdGl2ZVwiLGEpO3RoaXMubz0hMDtvYSh0aGlzKX07XG5XLnByb3RvdHlwZS5oPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYTtpZihiLmcpe3ZhciBjPXkoYi5mLGIuYS5jKFwid2ZcIixhLmMsSyhhKS50b1N0cmluZygpLFwiYWN0aXZlXCIpKSxkPVtdLGU9W2IuYS5jKFwid2ZcIixhLmMsSyhhKS50b1N0cmluZygpLFwibG9hZGluZ1wiKV07Y3x8ZC5wdXNoKGIuYS5jKFwid2ZcIixhLmMsSyhhKS50b1N0cmluZygpLFwiaW5hY3RpdmVcIikpO3coYi5mLGQsZSl9TChiLFwiZm9udGluYWN0aXZlXCIsYSk7b2EodGhpcyl9O2Z1bmN0aW9uIG9hKGEpezA9PS0tYS5mJiZhLmomJihhLm8/KGE9YS5hLGEuZyYmdyhhLmYsW2EuYS5jKFwid2ZcIixcImFjdGl2ZVwiKV0sW2EuYS5jKFwid2ZcIixcImxvYWRpbmdcIiksYS5hLmMoXCJ3ZlwiLFwiaW5hY3RpdmVcIildKSxMKGEsXCJhY3RpdmVcIikpOk0oYS5hKSl9O2Z1bmN0aW9uIHBhKGEpe3RoaXMuaj1hO3RoaXMuYT1uZXcgamE7dGhpcy5oPTA7dGhpcy5mPXRoaXMuZz0hMH1wYS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihhKXt0aGlzLmM9bmV3IGNhKHRoaXMuaixhLmNvbnRleHR8fHRoaXMuaik7dGhpcy5nPSExIT09YS5ldmVudHM7dGhpcy5mPSExIT09YS5jbGFzc2VzO3FhKHRoaXMsbmV3IGhhKHRoaXMuYyxhKSxhKX07XG5mdW5jdGlvbiByYShhLGIsYyxkLGUpe3ZhciBmPTA9PS0tYS5oOyhhLmZ8fGEuZykmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYT1lfHxudWxsLGs9ZHx8bnVsbHx8e307aWYoMD09PWMubGVuZ3RoJiZmKU0oYi5hKTtlbHNle2IuZis9Yy5sZW5ndGg7ZiYmKGIuaj1mKTt2YXIgaCxtPVtdO2ZvcihoPTA7aDxjLmxlbmd0aDtoKyspe3ZhciBsPWNbaF0sbj1rW2wuY10scj1iLmEseD1sO3IuZyYmdyhyLmYsW3IuYS5jKFwid2ZcIix4LmMsSyh4KS50b1N0cmluZygpLFwibG9hZGluZ1wiKV0pO0wocixcImZvbnRsb2FkaW5nXCIseCk7cj1udWxsO2lmKG51bGw9PT1YKWlmKHdpbmRvdy5Gb250RmFjZSl7dmFyIHg9L0dlY2tvLipGaXJlZm94XFwvKFxcZCspLy5leGVjKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSx5YT0vT1MgWC4qVmVyc2lvblxcLzEwXFwuLipTYWZhcmkvLmV4ZWMod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpJiYvQXBwbGUvLmV4ZWMod2luZG93Lm5hdmlnYXRvci52ZW5kb3IpO1xuWD14PzQyPHBhcnNlSW50KHhbMV0sMTApOnlhPyExOiEwfWVsc2UgWD0hMTtYP3I9bmV3IFEocChiLmcsYikscChiLmgsYiksYi5jLGwsYi5zLG4pOnI9bmV3IFIocChiLmcsYikscChiLmgsYiksYi5jLGwsYi5zLGEsbik7bS5wdXNoKHIpfWZvcihoPTA7aDxtLmxlbmd0aDtoKyspbVtoXS5zdGFydCgpfX0sMCl9ZnVuY3Rpb24gcWEoYSxiLGMpe3ZhciBkPVtdLGU9Yy50aW1lb3V0O2lhKGIpO3ZhciBkPWthKGEuYSxjLGEuYyksZj1uZXcgVyhhLmMsYixlKTthLmg9ZC5sZW5ndGg7Yj0wO2ZvcihjPWQubGVuZ3RoO2I8YztiKyspZFtiXS5sb2FkKGZ1bmN0aW9uKGIsZCxjKXtyYShhLGYsYixkLGMpfSl9O2Z1bmN0aW9uIHNhKGEsYil7dGhpcy5jPWE7dGhpcy5hPWJ9ZnVuY3Rpb24gdGEoYSxiLGMpe3ZhciBkPXooYS5jKTthPShhLmEuYXBpfHxcImZhc3QuZm9udHMubmV0L2pzYXBpXCIpLnJlcGxhY2UoL14uKmh0dHAocz8pOihcXC9cXC8pPy8sXCJcIik7cmV0dXJuIGQrXCIvL1wiK2ErXCIvXCIrYitcIi5qc1wiKyhjP1wiP3Y9XCIrYzpcIlwiKX1cbnNhLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtpZihmW1wiX19tdGlfZm50THN0XCIrZF0pe3ZhciBjPWZbXCJfX210aV9mbnRMc3RcIitkXSgpLGU9W10saDtpZihjKWZvcih2YXIgbT0wO208Yy5sZW5ndGg7bSsrKXt2YXIgbD1jW21dLmZvbnRmYW1pbHk7dm9pZCAwIT1jW21dLmZvbnRTdHlsZSYmdm9pZCAwIT1jW21dLmZvbnRXZWlnaHQ/KGg9Y1ttXS5mb250U3R5bGUrY1ttXS5mb250V2VpZ2h0LGUucHVzaChuZXcgSChsLGgpKSk6ZS5wdXNoKG5ldyBIKGwpKX1hKGUpfWVsc2Ugc2V0VGltZW91dChmdW5jdGlvbigpe2IoKX0sNTApfXZhciBjPXRoaXMsZD1jLmEucHJvamVjdElkLGU9Yy5hLnZlcnNpb247aWYoZCl7dmFyIGY9Yy5jLm07Qih0aGlzLmMsdGEoYyxkLGUpLGZ1bmN0aW9uKGUpe2U/YShbXSk6KGZbXCJfX01vbm90eXBlQ29uZmlndXJhdGlvbl9fXCIrZF09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hfSxiKCkpfSkuaWQ9XCJfX01vbm90eXBlQVBJU2NyaXB0X19cIitcbmR9ZWxzZSBhKFtdKX07ZnVuY3Rpb24gdWEoYSxiKXt0aGlzLmM9YTt0aGlzLmE9Yn11YS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcy5hLnVybHN8fFtdLGU9dGhpcy5hLmZhbWlsaWVzfHxbXSxmPXRoaXMuYS50ZXN0U3RyaW5nc3x8e30sZz1uZXcgQztiPTA7Zm9yKGM9ZC5sZW5ndGg7YjxjO2IrKylBKHRoaXMuYyxkW2JdLEQoZykpO3ZhciBrPVtdO2I9MDtmb3IoYz1lLmxlbmd0aDtiPGM7YisrKWlmKGQ9ZVtiXS5zcGxpdChcIjpcIiksZFsxXSlmb3IodmFyIGg9ZFsxXS5zcGxpdChcIixcIiksbT0wO208aC5sZW5ndGg7bSs9MSlrLnB1c2gobmV3IEgoZFswXSxoW21dKSk7ZWxzZSBrLnB1c2gobmV3IEgoZFswXSkpO0YoZyxmdW5jdGlvbigpe2EoayxmKX0pfTtmdW5jdGlvbiB2YShhLGIsYyl7YT90aGlzLmM9YTp0aGlzLmM9Yit3YTt0aGlzLmE9W107dGhpcy5mPVtdO3RoaXMuZz1jfHxcIlwifXZhciB3YT1cIi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzXCI7ZnVuY3Rpb24geGEoYSxiKXtmb3IodmFyIGM9Yi5sZW5ndGgsZD0wO2Q8YztkKyspe3ZhciBlPWJbZF0uc3BsaXQoXCI6XCIpOzM9PWUubGVuZ3RoJiZhLmYucHVzaChlLnBvcCgpKTt2YXIgZj1cIlwiOzI9PWUubGVuZ3RoJiZcIlwiIT1lWzFdJiYoZj1cIjpcIik7YS5hLnB1c2goZS5qb2luKGYpKX19XG5mdW5jdGlvbiB6YShhKXtpZigwPT1hLmEubGVuZ3RoKXRocm93IEVycm9yKFwiTm8gZm9udHMgdG8gbG9hZCFcIik7aWYoLTEhPWEuYy5pbmRleE9mKFwia2l0PVwiKSlyZXR1cm4gYS5jO2Zvcih2YXIgYj1hLmEubGVuZ3RoLGM9W10sZD0wO2Q8YjtkKyspYy5wdXNoKGEuYVtkXS5yZXBsYWNlKC8gL2csXCIrXCIpKTtiPWEuYytcIj9mYW1pbHk9XCIrYy5qb2luKFwiJTdDXCIpOzA8YS5mLmxlbmd0aCYmKGIrPVwiJnN1YnNldD1cIithLmYuam9pbihcIixcIikpOzA8YS5nLmxlbmd0aCYmKGIrPVwiJnRleHQ9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGEuZykpO3JldHVybiBifTtmdW5jdGlvbiBBYShhKXt0aGlzLmY9YTt0aGlzLmE9W107dGhpcy5jPXt9fVxudmFyIEJhPXtsYXRpbjpcIkJFU2Jzd3lcIixcImxhdGluLWV4dFwiOlwiXFx1MDBlN1xcdTAwZjZcXHUwMGZjXFx1MDExZlxcdTAxNWZcIixjeXJpbGxpYzpcIlxcdTA0MzlcXHUwNDRmXFx1MDQxNlwiLGdyZWVrOlwiXFx1MDNiMVxcdTAzYjJcXHUwM2EzXCIsa2htZXI6XCJcXHUxNzgwXFx1MTc4MVxcdTE3ODJcIixIYW51bWFuOlwiXFx1MTc4MFxcdTE3ODFcXHUxNzgyXCJ9LENhPXt0aGluOlwiMVwiLGV4dHJhbGlnaHQ6XCIyXCIsXCJleHRyYS1saWdodFwiOlwiMlwiLHVsdHJhbGlnaHQ6XCIyXCIsXCJ1bHRyYS1saWdodFwiOlwiMlwiLGxpZ2h0OlwiM1wiLHJlZ3VsYXI6XCI0XCIsYm9vazpcIjRcIixtZWRpdW06XCI1XCIsXCJzZW1pLWJvbGRcIjpcIjZcIixzZW1pYm9sZDpcIjZcIixcImRlbWktYm9sZFwiOlwiNlwiLGRlbWlib2xkOlwiNlwiLGJvbGQ6XCI3XCIsXCJleHRyYS1ib2xkXCI6XCI4XCIsZXh0cmFib2xkOlwiOFwiLFwidWx0cmEtYm9sZFwiOlwiOFwiLHVsdHJhYm9sZDpcIjhcIixibGFjazpcIjlcIixoZWF2eTpcIjlcIixsOlwiM1wiLHI6XCI0XCIsYjpcIjdcIn0sRGE9e2k6XCJpXCIsaXRhbGljOlwiaVwiLG46XCJuXCIsbm9ybWFsOlwiblwifSxcbkVhPS9eKHRoaW58KD86KD86ZXh0cmF8dWx0cmEpLT8pP2xpZ2h0fHJlZ3VsYXJ8Ym9va3xtZWRpdW18KD86KD86c2VtaXxkZW1pfGV4dHJhfHVsdHJhKS0/KT9ib2xkfGJsYWNrfGhlYXZ5fGx8cnxifFsxLTldMDApPyhufGl8bm9ybWFsfGl0YWxpYyk/JC87XG5mdW5jdGlvbiBGYShhKXtmb3IodmFyIGI9YS5mLmxlbmd0aCxjPTA7YzxiO2MrKyl7dmFyIGQ9YS5mW2NdLnNwbGl0KFwiOlwiKSxlPWRbMF0ucmVwbGFjZSgvXFwrL2csXCIgXCIpLGY9W1wibjRcIl07aWYoMjw9ZC5sZW5ndGgpe3ZhciBnO3ZhciBrPWRbMV07Zz1bXTtpZihrKWZvcih2YXIgaz1rLnNwbGl0KFwiLFwiKSxoPWsubGVuZ3RoLG09MDttPGg7bSsrKXt2YXIgbDtsPWtbbV07aWYobC5tYXRjaCgvXltcXHctXSskLykpe3ZhciBuPUVhLmV4ZWMobC50b0xvd2VyQ2FzZSgpKTtpZihudWxsPT1uKWw9XCJcIjtlbHNle2w9blsyXTtsPW51bGw9PWx8fFwiXCI9PWw/XCJuXCI6RGFbbF07bj1uWzFdO2lmKG51bGw9PW58fFwiXCI9PW4pbj1cIjRcIjtlbHNlIHZhciByPUNhW25dLG49cj9yOmlzTmFOKG4pP1wiNFwiOm4uc3Vic3RyKDAsMSk7bD1bbCxuXS5qb2luKFwiXCIpfX1lbHNlIGw9XCJcIjtsJiZnLnB1c2gobCl9MDxnLmxlbmd0aCYmKGY9Zyk7Mz09ZC5sZW5ndGgmJihkPWRbMl0sZz1bXSxkPWQ/ZC5zcGxpdChcIixcIik6XG5nLDA8ZC5sZW5ndGgmJihkPUJhW2RbMF1dKSYmKGEuY1tlXT1kKSl9YS5jW2VdfHwoZD1CYVtlXSkmJihhLmNbZV09ZCk7Zm9yKGQ9MDtkPGYubGVuZ3RoO2QrPTEpYS5hLnB1c2gobmV3IEgoZSxmW2RdKSl9fTtmdW5jdGlvbiBHYShhLGIpe3RoaXMuYz1hO3RoaXMuYT1ifXZhciBIYT17QXJpbW86ITAsQ291c2luZTohMCxUaW5vczohMH07R2EucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IEMsYz10aGlzLmMsZD1uZXcgdmEodGhpcy5hLmFwaSx6KGMpLHRoaXMuYS50ZXh0KSxlPXRoaXMuYS5mYW1pbGllczt4YShkLGUpO3ZhciBmPW5ldyBBYShlKTtGYShmKTtBKGMsemEoZCksRChiKSk7RihiLGZ1bmN0aW9uKCl7YShmLmEsZi5jLEhhKX0pfTtmdW5jdGlvbiBJYShhLGIpe3RoaXMuYz1hO3RoaXMuYT1ifUlhLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5pZCxjPXRoaXMuYy5tO2I/Qih0aGlzLmMsKHRoaXMuYS5hcGl8fFwiaHR0cHM6Ly91c2UudHlwZWtpdC5uZXRcIikrXCIvXCIrYitcIi5qc1wiLGZ1bmN0aW9uKGIpe2lmKGIpYShbXSk7ZWxzZSBpZihjLlR5cGVraXQmJmMuVHlwZWtpdC5jb25maWcmJmMuVHlwZWtpdC5jb25maWcuZm4pe2I9Yy5UeXBla2l0LmNvbmZpZy5mbjtmb3IodmFyIGU9W10sZj0wO2Y8Yi5sZW5ndGg7Zis9Milmb3IodmFyIGc9YltmXSxrPWJbZisxXSxoPTA7aDxrLmxlbmd0aDtoKyspZS5wdXNoKG5ldyBIKGcsa1toXSkpO3RyeXtjLlR5cGVraXQubG9hZCh7ZXZlbnRzOiExLGNsYXNzZXM6ITEsYXN5bmM6ITB9KX1jYXRjaChtKXt9YShlKX19LDJFMyk6YShbXSl9O2Z1bmN0aW9uIEphKGEsYil7dGhpcy5jPWE7dGhpcy5mPWI7dGhpcy5hPVtdfUphLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZi5pZCxjPXRoaXMuYy5tLGQ9dGhpcztiPyhjLl9fd2ViZm9udGZvbnRkZWNrbW9kdWxlX198fChjLl9fd2ViZm9udGZvbnRkZWNrbW9kdWxlX189e30pLGMuX193ZWJmb250Zm9udGRlY2ttb2R1bGVfX1tiXT1mdW5jdGlvbihiLGMpe2Zvcih2YXIgZz0wLGs9Yy5mb250cy5sZW5ndGg7ZzxrOysrZyl7dmFyIGg9Yy5mb250c1tnXTtkLmEucHVzaChuZXcgSChoLm5hbWUsZ2EoXCJmb250LXdlaWdodDpcIitoLndlaWdodCtcIjtmb250LXN0eWxlOlwiK2guc3R5bGUpKSl9YShkLmEpfSxCKHRoaXMuYyx6KHRoaXMuYykrKHRoaXMuZi5hcGl8fFwiLy9mLmZvbnRkZWNrLmNvbS9zL2Nzcy9qcy9cIikrZWEodGhpcy5jKStcIi9cIitiK1wiLmpzXCIsZnVuY3Rpb24oYil7YiYmYShbXSl9KSk6YShbXSl9O3ZhciBZPW5ldyBwYSh3aW5kb3cpO1kuYS5jLmN1c3RvbT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgdWEoYixhKX07WS5hLmMuZm9udGRlY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEphKGIsYSl9O1kuYS5jLm1vbm90eXBlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBzYShiLGEpfTtZLmEuYy50eXBla2l0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBJYShiLGEpfTtZLmEuYy5nb29nbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEdhKGIsYSl9O3ZhciBaPXtsb2FkOnAoWS5sb2FkLFkpfTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiBafSk6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPVo6KHdpbmRvdy5XZWJGb250PVosd2luZG93LldlYkZvbnRDb25maWcmJlkubG9hZCh3aW5kb3cuV2ViRm9udENvbmZpZykpO30oKSk7XG4iLCIvKipcbiAqIFplbnNjcm9sbCAzLjMuMFxuICogaHR0cHM6Ly9naXRodWIuY29tL3plbmdhYm9yL3plbnNjcm9sbC9cbiAqXG4gKiBDb3B5cmlnaHQgMjAxNeKAkzIwMTYgR2Fib3IgTGVuYXJkXG4gKlxuICogVGhpcyBpcyBmcmVlIGFuZCB1bmVuY3VtYmVyZWQgc29mdHdhcmUgcmVsZWFzZWQgaW50byB0aGUgcHVibGljIGRvbWFpbi5cbiAqIFxuICogQW55b25lIGlzIGZyZWUgdG8gY29weSwgbW9kaWZ5LCBwdWJsaXNoLCB1c2UsIGNvbXBpbGUsIHNlbGwsIG9yXG4gKiBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUsIGVpdGhlciBpbiBzb3VyY2UgY29kZSBmb3JtIG9yIGFzIGEgY29tcGlsZWRcbiAqIGJpbmFyeSwgZm9yIGFueSBwdXJwb3NlLCBjb21tZXJjaWFsIG9yIG5vbi1jb21tZXJjaWFsLCBhbmQgYnkgYW55XG4gKiBtZWFucy5cbiAqIFxuICogSW4ganVyaXNkaWN0aW9ucyB0aGF0IHJlY29nbml6ZSBjb3B5cmlnaHQgbGF3cywgdGhlIGF1dGhvciBvciBhdXRob3JzXG4gKiBvZiB0aGlzIHNvZnR3YXJlIGRlZGljYXRlIGFueSBhbmQgYWxsIGNvcHlyaWdodCBpbnRlcmVzdCBpbiB0aGVcbiAqIHNvZnR3YXJlIHRvIHRoZSBwdWJsaWMgZG9tYWluLiBXZSBtYWtlIHRoaXMgZGVkaWNhdGlvbiBmb3IgdGhlIGJlbmVmaXRcbiAqIG9mIHRoZSBwdWJsaWMgYXQgbGFyZ2UgYW5kIHRvIHRoZSBkZXRyaW1lbnQgb2Ygb3VyIGhlaXJzIGFuZFxuICogc3VjY2Vzc29ycy4gV2UgaW50ZW5kIHRoaXMgZGVkaWNhdGlvbiB0byBiZSBhbiBvdmVydCBhY3Qgb2ZcbiAqIHJlbGlucXVpc2htZW50IGluIHBlcnBldHVpdHkgb2YgYWxsIHByZXNlbnQgYW5kIGZ1dHVyZSByaWdodHMgdG8gdGhpc1xuICogc29mdHdhcmUgdW5kZXIgY29weXJpZ2h0IGxhdy5cbiAqIFxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAqIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULlxuICogSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1JcbiAqIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLFxuICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SXG4gKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKiBcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgcmVmZXIgdG8gPGh0dHA6Ly91bmxpY2Vuc2Uub3JnPlxuICpcbiAqL1xuXG4vKmpzaGludCBkZXZlbDp0cnVlLCBhc2k6dHJ1ZSAqL1xuXG4vKmdsb2JhbCBkZWZpbmUsIG1vZHVsZSAqL1xuXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkoKSlcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KClcblx0fSBlbHNlIHtcblx0XHRyb290LnplbnNjcm9sbCA9IGZhY3RvcnkoKVxuXHR9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCJcblx0XG5cdC8vIERldGVjdCBpZiB0aGUgYnJvd3NlciBhbHJlYWR5IHN1cHBvcnRzIG5hdGl2ZSBzbW9vdGggc2Nyb2xsaW5nIChlLmcuLCBGaXJlZm94IDM2KyBhbmQgQ2hyb21lIDQ5KykgYW5kIGl0IGlzIGVuYWJsZWQ6XG5cdHZhciBpc05hdGl2ZVNtb290aFNjcm9sbEVuYWJsZWRPbiA9IGZ1bmN0aW9uIChlbGVtKSB7XG5cdFx0cmV0dXJuIChcImdldENvbXB1dGVkU3R5bGVcIiBpbiB3aW5kb3cpICYmXG5cdFx0XHR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKVtcInNjcm9sbC1iZWhhdmlvclwiXSA9PT0gXCJzbW9vdGhcIlxuXHR9XG5cblx0Ly8gRXhpdCBpZiBpdOKAmXMgbm90IGEgYnJvd3NlciBlbnZpcm9ubWVudDpcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgIShcImRvY3VtZW50XCIgaW4gd2luZG93KSkge1xuXHRcdHJldHVybiB7fVxuXHR9XG5cblx0dmFyIGNyZWF0ZVNjcm9sbGVyID0gZnVuY3Rpb24gKHNjcm9sbENvbnRhaW5lciwgZGVmYXVsdER1cmF0aW9uLCBlZGdlT2Zmc2V0KSB7XG5cblx0XHRkZWZhdWx0RHVyYXRpb24gPSBkZWZhdWx0RHVyYXRpb24gfHwgOTk5IC8vbXNcblx0XHRpZiAoIWVkZ2VPZmZzZXQgJiYgZWRnZU9mZnNldCAhPT0gMCkge1xuXHRcdFx0Ly8gV2hlbiBzY3JvbGxpbmcsIHRoaXMgYW1vdW50IG9mIGRpc3RhbmNlIGlzIGtlcHQgZnJvbSB0aGUgZWRnZXMgb2YgdGhlIHNjcm9sbENvbnRhaW5lcjpcblx0XHRcdGVkZ2VPZmZzZXQgPSA5IC8vcHhcblx0XHR9XG5cblx0XHR2YXIgc2Nyb2xsVGltZW91dElkXG5cdFx0dmFyIHNldFNjcm9sbFRpbWVvdXRJZCA9IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuXHRcdFx0c2Nyb2xsVGltZW91dElkID0gbmV3VmFsdWVcblx0XHR9XG5cdFx0dmFyIGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcblx0XHRcblx0XHR2YXIgZ2V0U2Nyb2xsVG9wID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKHNjcm9sbENvbnRhaW5lcikge1xuXHRcdFx0XHRyZXR1cm4gc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcFxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHdpbmRvdy5zY3JvbGxZIHx8IGRvY0VsZW0uc2Nyb2xsVG9wXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGdldFZpZXdIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoc2Nyb2xsQ29udGFpbmVyKSB7XG5cdFx0XHRcdHJldHVybiBNYXRoLm1pbihzY3JvbGxDb250YWluZXIub2Zmc2V0SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY0VsZW0uY2xpZW50SGVpZ2h0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGdldFJlbGF0aXZlVG9wT2YgPSBmdW5jdGlvbiAoZWxlbSkge1xuXHRcdFx0aWYgKHNjcm9sbENvbnRhaW5lcikge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5vZmZzZXRUb3Bcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIGdldFNjcm9sbFRvcCgpIC0gZG9jRWxlbS5vZmZzZXRUb3Bcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBJbW1lZGlhdGVseSBzdG9wcyB0aGUgY3VycmVudCBzbW9vdGggc2Nyb2xsIG9wZXJhdGlvblxuXHRcdCAqL1xuXHRcdHZhciBzdG9wU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHNjcm9sbFRpbWVvdXRJZClcblx0XHRcdHNldFNjcm9sbFRpbWVvdXRJZCgwKVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFNjcm9sbHMgdG8gYSBzcGVjaWZpYyB2ZXJ0aWNhbCBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge2VuZFl9IFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB3aXRoaW4gdGhlIGRvY3VtZW50LlxuXHRcdCAqIEBwYXJhbSB7ZHVyYXRpb259IE9wdGlvbmFsbHkgdGhlIGR1cmF0aW9uIG9mIHRoZSBzY3JvbGwgb3BlcmF0aW9uLlxuXHRcdCAqICAgICAgICBJZiAwIG9yIG5vdCBwcm92aWRlZCBpdCBpcyBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIFxuXHRcdCAqICAgICAgICBkaXN0YW5jZSBhbmQgdGhlIGRlZmF1bHQgZHVyYXRpb24uXG5cdFx0ICogQHBhcmFtIHtvbkRvbmV9IENhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZW4gb25jZSB0aGUgc2Nyb2xsIGZpbmlzaGVzLlxuXHRcdCAqL1xuXHRcdHZhciBzY3JvbGxUb1kgPSBmdW5jdGlvbiAoZW5kWSwgZHVyYXRpb24sIG9uRG9uZSkge1xuXHRcdFx0c3RvcFNjcm9sbCgpXG5cdFx0XHRpZiAoaXNOYXRpdmVTbW9vdGhTY3JvbGxFbmFibGVkT24oc2Nyb2xsQ29udGFpbmVyID8gc2Nyb2xsQ29udGFpbmVyIDogZG9jdW1lbnQuYm9keSkpIHtcblx0XHRcdFx0KHNjcm9sbENvbnRhaW5lciB8fCB3aW5kb3cpLnNjcm9sbFRvKDAsIGVuZFkpXG5cdFx0XHRcdGlmIChvbkRvbmUpIHtcblx0XHRcdFx0XHRvbkRvbmUoKVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgc3RhcnRZID0gZ2V0U2Nyb2xsVG9wKClcblx0XHRcdFx0dmFyIGRpc3RhbmNlID0gTWF0aC5tYXgoZW5kWSwwKSAtIHN0YXJ0WVxuXHRcdFx0XHRkdXJhdGlvbiA9IGR1cmF0aW9uIHx8IE1hdGgubWluKE1hdGguYWJzKGRpc3RhbmNlKSwgZGVmYXVsdER1cmF0aW9uKVxuXHRcdFx0XHR2YXIgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdFx0XHRcdChmdW5jdGlvbiBsb29wU2Nyb2xsKCkge1xuXHRcdFx0XHRcdHNldFNjcm9sbFRpbWVvdXRJZChzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHZhciBwID0gTWF0aC5taW4oKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRUaW1lKSAvIGR1cmF0aW9uLCAxKSAvLyBwZXJjZW50YWdlXG5cdFx0XHRcdFx0XHR2YXIgeSA9IE1hdGgubWF4KE1hdGguZmxvb3Ioc3RhcnRZICsgZGlzdGFuY2UqKHAgPCAwLjUgPyAyKnAqcCA6IHAqKDQgLSBwKjIpLTEpKSwgMClcblx0XHRcdFx0XHRcdGlmIChzY3JvbGxDb250YWluZXIpIHtcblx0XHRcdFx0XHRcdFx0c2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCA9IHlcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5zY3JvbGxUbygwLCB5KVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKHAgPCAxICYmIChnZXRWaWV3SGVpZ2h0KCkgKyB5KSA8IChzY3JvbGxDb250YWluZXIgfHwgZG9jRWxlbSkuc2Nyb2xsSGVpZ2h0KSB7XG5cdFx0XHRcdFx0XHRcdGxvb3BTY3JvbGwoKVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0c2V0VGltZW91dChzdG9wU2Nyb2xsLCA5OSkgLy8gd2l0aCBjb29sZG93biB0aW1lXG5cdFx0XHRcdFx0XHRcdGlmIChvbkRvbmUpIHtcblx0XHRcdFx0XHRcdFx0XHRvbkRvbmUoKVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgOSkpXG5cdFx0XHRcdH0pKClcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBTY3JvbGxzIHRvIHRoZSB0b3Agb2YgYSBzcGVjaWZpYyBlbGVtZW50LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtlbGVtfSBUaGUgZWxlbWVudC5cblx0XHQgKiBAcGFyYW0ge2R1cmF0aW9ufSBPcHRpb25hbGx5IHRoZSBkdXJhdGlvbiBvZiB0aGUgc2Nyb2xsIG9wZXJhdGlvbi5cblx0XHQgKiAgICAgICAgQSB2YWx1ZSBvZiAwIGlzIGlnbm9yZWQuXG5cdFx0ICogQHBhcmFtIHtvbkRvbmV9IENhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZW4gb25jZSB0aGUgc2Nyb2xsIGZpbmlzaGVzLlxuXHRcdCAqIEByZXR1cm5zIHtlbmRZfSBUaGUgbmV3IHZlcnRpY2FsIHNjb2xsIHBvc2l0aW9uIHRoYXQgd2lsbCBiZSB2YWxpZCBvbmNlIHRoZSBzY3JvbGwgZmluaXNoZXMuXG5cdFx0ICovXG5cdFx0dmFyIHNjcm9sbFRvRWxlbSA9IGZ1bmN0aW9uIChlbGVtLCBkdXJhdGlvbiwgb25Eb25lKSB7XG5cdFx0XHR2YXIgZW5kWSA9IGdldFJlbGF0aXZlVG9wT2YoZWxlbSkgLSBlZGdlT2Zmc2V0XG5cdFx0XHRzY3JvbGxUb1koZW5kWSwgZHVyYXRpb24sIG9uRG9uZSlcblx0XHRcdHJldHVybiBlbmRZXG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogU2Nyb2xscyBhbiBlbGVtZW50IGludG8gdmlldyBpZiBuZWNlc3NhcnkuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge2VsZW19IFRoZSBlbGVtZW50LlxuXHRcdCAqIEBwYXJhbSB7ZHVyYXRpb259IE9wdGlvbmFsbHkgdGhlIGR1cmF0aW9uIG9mIHRoZSBzY3JvbGwgb3BlcmF0aW9uLlxuXHRcdCAqICAgICAgICBBIHZhbHVlIG9mIDAgaXMgaWdub3JlZC5cblx0XHQgKiBAcGFyYW0ge29uRG9uZX0gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlbiBvbmNlIHRoZSBzY3JvbGwgZmluaXNoZXMuXG5cdFx0ICovXG5cdFx0dmFyIHNjcm9sbEludG9WaWV3ID0gZnVuY3Rpb24gKGVsZW0sIGR1cmF0aW9uLCBvbkRvbmUpIHtcblx0XHRcdHZhciBlbGVtSGVpZ2h0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHRcblx0XHRcdHZhciBlbGVtVG9wID0gZ2V0UmVsYXRpdmVUb3BPZihlbGVtKVxuXHRcdFx0dmFyIGVsZW1Cb3R0b20gPSBlbGVtVG9wICsgZWxlbUhlaWdodFxuXHRcdFx0dmFyIGNvbnRhaW5lckhlaWdodCA9IGdldFZpZXdIZWlnaHQoKVxuXHRcdFx0dmFyIGNvbnRhaW5lclRvcCA9IGdldFNjcm9sbFRvcCgpXG5cdFx0XHR2YXIgY29udGFpbmVyQm90dG9tID0gY29udGFpbmVyVG9wICsgY29udGFpbmVySGVpZ2h0XG5cdFx0XHRpZiAoKGVsZW1Ub3AgLSBlZGdlT2Zmc2V0KSA8IGNvbnRhaW5lclRvcCB8fCAoZWxlbUhlaWdodCArIGVkZ2VPZmZzZXQpID4gY29udGFpbmVySGVpZ2h0KSB7XG5cdFx0XHRcdC8vIEVsZW1lbnQgaXMgY2xpcHBlZCBhdCB0b3Agb3IgaXMgaGlnaGVyIHRoYW4gc2NyZWVuLlxuXHRcdFx0XHRzY3JvbGxUb0VsZW0oZWxlbSwgZHVyYXRpb24sIG9uRG9uZSlcblx0XHRcdH0gZWxzZSBpZiAoKGVsZW1Cb3R0b20gKyBlZGdlT2Zmc2V0KSA+IGNvbnRhaW5lckJvdHRvbSkge1xuXHRcdFx0XHQvLyBFbGVtZW50IGlzIGNsaXBwZWQgYXQgdGhlIGJvdHRvbS5cblx0XHRcdFx0c2Nyb2xsVG9ZKGVsZW1Cb3R0b20gLSBjb250YWluZXJIZWlnaHQgKyBlZGdlT2Zmc2V0LCBkdXJhdGlvbiwgb25Eb25lKVxuXHRcdFx0fSBlbHNlIGlmIChvbkRvbmUpIHtcblx0XHRcdFx0b25Eb25lKClcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBTY3JvbGxzIHRvIHRoZSBjZW50ZXIgb2YgYW4gZWxlbWVudC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7ZWxlbX0gVGhlIGVsZW1lbnQuXG5cdFx0ICogQHBhcmFtIHtkdXJhdGlvbn0gT3B0aW9uYWxseSB0aGUgZHVyYXRpb24gb2YgdGhlIHNjcm9sbCBvcGVyYXRpb24uXG5cdFx0ICogQHBhcmFtIHtvZmZzZXR9IE9wdGlvbmFsbHkgdGhlIG9mZnNldCBvZiB0aGUgdG9wIG9mIHRoZSBlbGVtZW50IGZyb20gdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuLlxuXHRcdCAqICAgICAgICBBIHZhbHVlIG9mIDAgaXMgaWdub3JlZC5cblx0XHQgKiBAcGFyYW0ge29uRG9uZX0gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlbiBvbmNlIHRoZSBzY3JvbGwgZmluaXNoZXMuXG5cdFx0ICovXG5cdFx0dmFyIHNjcm9sbFRvQ2VudGVyT2YgPSBmdW5jdGlvbiAoZWxlbSwgZHVyYXRpb24sIG9mZnNldCwgb25Eb25lKSB7XG5cdFx0XHRzY3JvbGxUb1koXG5cdFx0XHRcdE1hdGgubWF4KFxuXHRcdFx0XHRcdGdldFJlbGF0aXZlVG9wT2YoZWxlbSkgLSBnZXRWaWV3SGVpZ2h0KCkvMiArIChvZmZzZXQgfHwgZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQvMiksIFxuXHRcdFx0XHRcdDBcblx0XHRcdFx0KSwgXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRvbkRvbmVcblx0XHRcdClcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBDaGFuZ2VzIGRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoaXMgc2Nyb2xsZXIuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge25ld0RlZmF1bHREdXJhdGlvbn0gTmV3IHZhbHVlIGZvciBkZWZhdWx0IGR1cmF0aW9uLCB1c2VkIGZvciBlYWNoIHNjcm9sbCBtZXRob2QgYnkgZGVmYXVsdC5cblx0XHQgKiAgICAgICAgSWdub3JlZCBpZiAwIG9yIGZhbHN5LlxuXHRcdCAqIEBwYXJhbSB7bmV3RWRnZU9mZnNldH0gTmV3IHZhbHVlIGZvciB0aGUgZWRnZSBvZmZzZXQsIHVzZWQgYnkgZWFjaCBzY3JvbGwgbWV0aG9kIGJ5IGRlZmF1bHQuXG5cdFx0ICovXG5cdFx0dmFyIHNldHVwID0gZnVuY3Rpb24gKG5ld0RlZmF1bHREdXJhdGlvbiwgbmV3RWRnZU9mZnNldCkge1xuXHRcdFx0aWYgKG5ld0RlZmF1bHREdXJhdGlvbikge1xuXHRcdFx0XHRkZWZhdWx0RHVyYXRpb24gPSBuZXdEZWZhdWx0RHVyYXRpb25cblx0XHRcdH1cblx0XHRcdGlmIChuZXdFZGdlT2Zmc2V0ID09PSAwIHx8IG5ld0VkZ2VPZmZzZXQpIHtcblx0XHRcdFx0ZWRnZU9mZnNldCA9IG5ld0VkZ2VPZmZzZXRcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c2V0dXA6IHNldHVwLFxuXHRcdFx0dG86IHNjcm9sbFRvRWxlbSxcblx0XHRcdHRvWTogc2Nyb2xsVG9ZLFxuXHRcdFx0aW50b1ZpZXc6IHNjcm9sbEludG9WaWV3LFxuXHRcdFx0Y2VudGVyOiBzY3JvbGxUb0NlbnRlck9mLFxuXHRcdFx0c3RvcDogc3RvcFNjcm9sbCxcblx0XHRcdG1vdmluZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gISFzY3JvbGxUaW1lb3V0SWQgfSxcblx0XHRcdGdldFk6IGdldFNjcm9sbFRvcFxuXHRcdH1cblxuXHR9XG5cblx0Ly8gQ3JlYXRlIGEgc2Nyb2xsZXIgZm9yIHRoZSBicm93c2VyIHdpbmRvdywgb21pdHRpbmcgcGFyYW1ldGVyczpcblx0dmFyIGRlZmF1bHRTY3JvbGxlciA9IGNyZWF0ZVNjcm9sbGVyKClcblxuXHQvLyBDcmVhdGUgbGlzdGVuZXJzIGZvciB0aGUgZG9jdW1lbnRFbGVtZW50IG9ubHkgJiBleGNsdWRlIElFOC1cblx0aWYgKFwiYWRkRXZlbnRMaXN0ZW5lclwiIGluIHdpbmRvdyAmJiAhKGlzTmF0aXZlU21vb3RoU2Nyb2xsRW5hYmxlZE9uKGRvY3VtZW50LmJvZHkpIHx8IHdpbmRvdy5ub1plbnNtb290aCkpIHtcblx0XHRpZiAoXCJzY3JvbGxSZXN0b3JhdGlvblwiIGluIGhpc3RvcnkpIHtcblx0XHRcdGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcIm1hbnVhbFwiXG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0XHRpZiAoZXZlbnQuc3RhdGUgJiYgXCJzY3JvbGxZXCIgaW4gZXZlbnQuc3RhdGUpIHtcblx0XHRcdFx0XHRkZWZhdWx0U2Nyb2xsZXIudG9ZKGV2ZW50LnN0YXRlLnNjcm9sbFkpXG5cdFx0XHRcdH1cblx0XHRcdH0sIGZhbHNlKVxuXHRcdH1cblx0XHR2YXIgcmVwbGFjZVVybCA9IGZ1bmN0aW9uIChoYXNoLCBuZXdZKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRoaXN0b3J5LnJlcGxhY2VTdGF0ZSh7c2Nyb2xsWTpkZWZhdWx0U2Nyb2xsZXIuZ2V0WSgpfSwgXCJcIikgLy8gcmVtZW1iZXIgdGhlIHNjcm9sbCBwb3NpdGlvbiBiZWZvcmUgc2Nyb2xsaW5nXG5cdFx0XHRcdGhpc3RvcnkucHVzaFN0YXRlKHtzY3JvbGxZOm5ld1l9LCBcIlwiLCB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdChcIiNcIilbMF0gKyBoYXNoKSAvLyByZW1lbWJlciB0aGUgbmV3IHNjcm9sbCBwb3NpdGlvbiAod2hpY2ggd2lsbCBiZSBhZnRlciBzY3JvbGxpbmcpXG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIFRvIGF2b2lkIHRoZSBTZWN1cml0eSBleGNlcHRpb24gaW4gQ2hyb21lIHdoZW4gdGhlIHBhZ2Ugd2FzIG9wZW5lZCB2aWEgdGhlIGZpbGUgcHJvdG9jb2wsIGUuZy4sIGZpbGU6Ly9pbmRleC5odG1sXG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHR2YXIgYW5jaG9yID0gZXZlbnQudGFyZ2V0XG5cdFx0XHR3aGlsZSAoYW5jaG9yICYmIGFuY2hvci50YWdOYW1lICE9PSBcIkFcIikge1xuXHRcdFx0XHRhbmNob3IgPSBhbmNob3IucGFyZW50Tm9kZVxuXHRcdFx0fVxuXHRcdFx0Ly8gT25seSBoYW5kbGUgbGlua3MgdGhhdCB3ZXJlIGNsaWNrZWQgd2l0aCB0aGUgcHJpbWFyeSBidXR0b24sIHdpdGhvdXQgbW9kaWZpZXIga2V5czpcblx0XHRcdGlmICghYW5jaG9yIHx8IGV2ZW50LndoaWNoICE9PSAxIHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpIHtcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHR9XG5cdFx0XHR2YXIgaHJlZiA9IGFuY2hvci5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpIHx8IFwiXCJcblx0XHRcdGlmIChocmVmLmluZGV4T2YoXCIjXCIpID09PSAwKSB7XG5cdFx0XHRcdGlmIChocmVmID09PSBcIiNcIikge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KClcblx0XHRcdFx0XHRkZWZhdWx0U2Nyb2xsZXIudG9ZKDApXG5cdFx0XHRcdFx0cmVwbGFjZVVybChcIlwiLCAwKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhciB0YXJnZXRJZCA9IGFuY2hvci5oYXNoLnN1YnN0cmluZygxKVxuXHRcdFx0XHRcdHZhciB0YXJnZXRFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0SWQpXG5cdFx0XHRcdFx0aWYgKHRhcmdldEVsZW0pIHtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KClcblx0XHRcdFx0XHRcdHJlcGxhY2VVcmwoXCIjXCIgKyB0YXJnZXRJZCwgZGVmYXVsdFNjcm9sbGVyLnRvKHRhcmdldEVsZW0pKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sIGZhbHNlKVxuXHR9XG5cblx0cmV0dXJuIHtcblx0XHQvLyBFeHBvc2UgdGhlIFwiY29uc3RydWN0b3JcIiB0aGF0IGNhbiBjcmVhdGUgYSBuZXcgc2Nyb2xsZXI6XG5cdFx0Y3JlYXRlU2Nyb2xsZXI6IGNyZWF0ZVNjcm9sbGVyLFxuXHRcdC8vIFN1cmZhY2UgdGhlIG1ldGhvZHMgb2YgdGhlIGRlZmF1bHQgc2Nyb2xsZXI6XG5cdFx0c2V0dXA6IGRlZmF1bHRTY3JvbGxlci5zZXR1cCxcblx0XHR0bzogZGVmYXVsdFNjcm9sbGVyLnRvLFxuXHRcdHRvWTogZGVmYXVsdFNjcm9sbGVyLnRvWSxcblx0XHRpbnRvVmlldzogZGVmYXVsdFNjcm9sbGVyLmludG9WaWV3LFxuXHRcdGNlbnRlcjogZGVmYXVsdFNjcm9sbGVyLmNlbnRlcixcblx0XHRzdG9wOiBkZWZhdWx0U2Nyb2xsZXIuc3RvcCxcblx0XHRtb3Zpbmc6IGRlZmF1bHRTY3JvbGxlci5tb3Zpbmdcblx0fVxuXG59KSk7XG4iLCJpbXBvcnQgTGF6eUxvYWQgZnJvbSAndmFuaWxsYS1sYXp5bG9hZCdcbmltcG9ydCBIZWFkcm9vbSBmcm9tICdoZWFkcm9vbS5qcydcbmltcG9ydCBXZWJGb250IGZyb20gJ3dlYmZvbnRsb2FkZXInXG5pbXBvcnQgJ3ZhbmlsbGEtcmlwcGxlanMnXG5pbXBvcnQgJ3plbnNjcm9sbCdcbmltcG9ydCAnLi93b3JrLmpzJ1xuXG5XZWJGb250LmxvYWQoe1xuICAgIGdvb2dsZToge1xuICAgICAgICBmYW1pbGllczogWydSb2JvdG86MTAwLDMwMCw0MDAsNzAwJ11cbiAgICB9XG59KVxuXG5jb25zdCBoZWFkcm9vbSA9IG5ldyBIZWFkcm9vbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXInKSkuaW5pdCgpXG5jb25zdCBsYXp5TG9hZCA9IG5ldyBMYXp5TG9hZCh7XG4gICAgdGhyZXNob2xkOiAxMDAwLFxufSlcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvcHlyaWdodCcpLmlubmVySFRNTCA9IFwiJmNvcHk7IEppbSBTYWFyaSBcIiArIG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSIsImNvbnN0IGJvZGllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hcnRpY2xlLWJvZHknKVxubGV0IGV4cGFuZGVkID0gbnVsbFxuXG5jb25zdCBFdmVudEZ1bmN0aW9uID0gKGV2ZW50KSA9PiB7XG4gIGNvbnN0IG9yaWdpbmFsRWxlbWVudCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgXG4gIGlmIChleHBhbmRlZCA9PT0gb3JpZ2luYWxFbGVtZW50KSB7XG4gICAgb3JpZ2luYWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2V4cGFuZCcpXG4gICAgZXhwYW5kZWQgPSBudWxsXG4gIH0gZWxzZSB7XG4gICAgaWYgKGV4cGFuZGVkKSB7XG4gICAgICBleHBhbmRlZC5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmQnKVxuICAgIH1cbiAgICBvcmlnaW5hbEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZXhwYW5kJylcbiAgICBleHBhbmRlZCA9IG9yaWdpbmFsRWxlbWVudFxuICB9XG59XG5cbmNvbnN0IEFkZExpc3RlbmVycyA9IChlbGVtZW50cykgPT4ge1xuICBpZiAoZWxlbWVudHMubGVuZ3RoICE9PSAwKSB7XG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIEV2ZW50RnVuY3Rpb24sIGZhbHNlKVxuICAgIH0pXG4gIH1cbn1cblxuQWRkTGlzdGVuZXJzKGJvZGllcykiXX0=\n"]}