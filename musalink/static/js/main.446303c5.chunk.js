(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{254:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(84),c=n.n(o),i=n(44),l=n.n(i),u=n(85),f=n(8),s=n(7),h=n(4),m=n(1);function p(){var e=Object(s.a)(["\n  flex: 1;\n  border-radius: 3rem;\n  outline: 0;\n  border: 0;\n  font-size: 1.1rem;\n  padding-left: 1.5rem;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.125);\n  min-height: 42px;\n"]);return p=function(){return e},e}var v=h.default.input(p()),d=function(e){var t=e.onChange,n=e.value;return r.createElement(m.Flex,{flex:1,mr:[0,3]},r.createElement(v,{value:n,onChange:function(e){var n=e.target,r=n.value.match(/.+?(\?)/);t(r?r[0].substr(0,r[0].length-1):n.value)},placeholder:"Paste track, album or artist link",onFocus:function(e){e.target.select()}}))},g=n(88),b=n.n(g);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var w=a.a.createElement("path",{d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0 2C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"}),O=a.a.createElement("path",{d:"M5 12.111h1.82v1H5z"}),x=a.a.createElement("path",{d:"M5 11.421h1.82v1H5z"}),j=a.a.createElement("path",{d:"M5 10.731h1.82v1H5z"}),z=a.a.createElement("path",{d:"M5 10.041h1.82v1H5z"}),M=a.a.createElement("path",{d:"M5 9.351h1.82v1H5zM7.041 12.111h1.82v1h-1.82z"}),R=a.a.createElement("path",{d:"M7.041 11.421h1.82v1h-1.82z"}),k=a.a.createElement("path",{d:"M7.041 10.731h1.82v1h-1.82zM9.082 12.111h1.82v1h-1.82z"}),S=a.a.createElement("path",{d:"M9.082 11.421h1.82v1h-1.82z"}),P=a.a.createElement("path",{d:"M9.082 10.731h1.82v1h-1.82z"}),C=a.a.createElement("path",{d:"M9.082 10.041h1.82v1h-1.82z"}),H=a.a.createElement("path",{d:"M9.082 9.351h1.82v1h-1.82z"}),I=a.a.createElement("path",{d:"M9.082 8.66h1.82v1h-1.82z"}),A=a.a.createElement("path",{d:"M9.082 7.97h1.82v1h-1.82zM11.123 12.111h1.821v1h-1.821z"}),B=a.a.createElement("path",{d:"M11.123 11.421h1.821v1h-1.821z"}),D=a.a.createElement("path",{d:"M11.123 10.731h1.821v1h-1.821z"}),F=a.a.createElement("path",{d:"M11.123 10.041h1.821v1h-1.821z"}),L=a.a.createElement("path",{d:"M11.123 9.351h1.821v1h-1.821zM13.164 12.111h1.82v1h-1.82z"}),V=a.a.createElement("path",{d:"M13.164 11.421h1.82v1h-1.82z"}),W=a.a.createElement("path",{d:"M13.164 10.731h1.82v1h-1.82z"}),N=a.a.createElement("path",{d:"M13.164 10.041h1.82v1h-1.82z"}),Y=a.a.createElement("path",{d:"M13.164 9.35h1.82v1h-1.82z"}),q=a.a.createElement("path",{d:"M13.164 8.66h1.82v1h-1.82z"}),J=a.a.createElement("path",{d:"M13.164 7.97h1.82v1h-1.82z"}),G=a.a.createElement("path",{d:"M13.164 7.28h1.82v1h-1.82z"}),T=function(e){var t=e.svgRef,n=E(e,["svgRef"]);return a.a.createElement("svg",y({viewBox:"-2 -2 24 24",width:24,height:24,preserveAspectRatio:"xMinYMin",className:"jam jam-deezer-circle",ref:t},n),w,O,x,j,z,M,R,k,S,P,C,H,I,A,B,D,F,L,V,W,N,Y,q,J,G)},$=a.a.forwardRef(function(e,t){return a.a.createElement(T,y({svgRef:t},e))});n.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Q=a.a.createElement("path",{d:"M9.992 0C4.474 0 0 4.474 0 9.992c0 5.518 4.474 9.992 9.992 9.992 5.518 0 9.992-4.474 9.992-9.992C19.984 4.474 15.51 0 9.992 0zm4.348 15.683c-.127.329-.355.512-.59.512a.518.518 0 0 1-.344-.141c-1.796-1.588-3.87-1.843-5.294-1.778-1.578.073-2.735.544-2.747.549-.363.15-.74-.174-.839-.724-.1-.55.114-1.119.477-1.27.052-.022 1.297-.534 3.029-.62a8.939 8.939 0 0 1 2.917.32 8.09 8.09 0 0 1 3.146 1.737c.326.289.436.922.245 1.415zm1.27-3.063c-.15.329-.42.512-.699.512a.677.677 0 0 1-.407-.141c-2.127-1.588-4.584-1.843-6.271-1.778-1.87.073-3.24.544-3.253.549-.431.15-.876-.174-.995-.724-.118-.55.135-1.119.566-1.27.061-.022 1.536-.534 3.587-.62 1.208-.051 2.37.057 3.456.32 1.374.333 2.628.917 3.726 1.737.386.288.516.922.29 1.415zm.782-2.996a.958.958 0 0 1-.5-.142C10.835 6.404 4.276 8.234 4.21 8.252c-.528.153-1.075-.17-1.22-.721-.146-.551.165-1.12.693-1.272.076-.022 1.885-.534 4.4-.62a18.63 18.63 0 0 1 4.24.32c1.686.333 3.223.917 4.57 1.738.474.288.633.921.357 1.414a.985.985 0 0 1-.858.513z"}),U=function(e){var t=e.svgRef,n=K(e,["svgRef"]);return a.a.createElement("svg",_({viewBox:"-2 -2 24 24",width:24,height:24,preserveAspectRatio:"xMinYMin",className:"jam jam-spotify",ref:t},n),Q)},X=a.a.forwardRef(function(e,t){return a.a.createElement(U,_({svgRef:t},e))}),Z=(n.p,{height:64,width:64,fill:"#333"}),ee=function(e){var t=e.link,n=function(e){return e.match(/open\.spotify/)?"spotify":e.match(/deezer\.com/)?"deezer":null}(t);return n?r.createElement(m.Link,{mx:2,href:t,target:"_blank",rel:"noreferrer noopener"},"deezer"===n?r.createElement($,Z):r.createElement(X,Z)):null};function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var re=a.a.createElement("path",{d:"M7.314 5.9l3.535-3.536A1 1 0 1 0 9.435.95L5.899 4.485 2.364.95A1 1 0 1 0 .95 2.364l3.535 3.535L.95 9.435a1 1 0 1 0 1.414 1.414l3.535-3.535 3.536 3.535a1 1 0 1 0 1.414-1.414L7.314 5.899z"}),ae=function(e){var t=e.svgRef,n=ne(e,["svgRef"]);return a.a.createElement("svg",te({viewBox:"-6 -6 24 24",width:24,height:24,preserveAspectRatio:"xMinYMin",className:"jam jam-close",ref:t},n),re)},oe=a.a.forwardRef(function(e,t){return a.a.createElement(ae,te({svgRef:t},e))});n.p;function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var le=a.a.createElement("path",{d:"M13.82 9.523a.976.976 0 0 0-.324-1.363L3.574 2.128a1.031 1.031 0 0 0-.535-.149c-.56 0-1.013.443-1.013.99V15.03c0 .185.053.366.153.523.296.464.92.606 1.395.317l9.922-6.031c.131-.08.243-.189.325-.317zm.746 1.997l-9.921 6.031c-1.425.867-3.3.44-4.186-.951A2.918 2.918 0 0 1 0 15.03V2.97C0 1.329 1.36 0 3.04 0c.567 0 1.123.155 1.605.448l9.921 6.032c1.425.866 1.862 2.696.975 4.088-.246.386-.58.712-.975.952z"}),ue=function(e){var t=e.svgRef,n=ie(e,["svgRef"]);return a.a.createElement("svg",ce({viewBox:"-4 -3 24 24",width:24,height:24,preserveAspectRatio:"xMinYMin",className:"jam jam-play",ref:t},n),le)},fe=a.a.forwardRef(function(e,t){return a.a.createElement(ue,ce({svgRef:t},e))});n.p;function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var me=a.a.createElement("path",{d:"M2 0h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 2v14h2V2H2zm10-2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 2v14h2V2h-2z"}),pe=function(e){var t=e.svgRef,n=he(e,["svgRef"]);return a.a.createElement("svg",se({viewBox:"-4 -3 24 24",width:24,height:24,preserveAspectRatio:"xMinYMin",className:"jam jam-pause",ref:t},n),me)},ve=a.a.forwardRef(function(e,t){return a.a.createElement(pe,se({svgRef:t},e))});n.p;function de(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  height: 80px;\n  width: 80px;\n  pointer-events: none;\n"]);return de=function(){return e},e}function ge(){var e=Object(s.a)(["\n  position: absolute;\n  top: 12px;\n  right: 12px;\n"]);return ge=function(){return e},e}function be(){var e=Object(s.a)(["\n  object-fit: cover;\n"]);return be=function(){return e},e}var ye=Object(h.default)(m.Image)(be()),Ee=Object(h.default)(oe)(ge()),we=h.default.div(de()),Oe={height:80,width:80,fill:"#fff"},xe=function(e){var t=e.result,n=e.onClose,a=r.useRef(null),o=r.useState(!1),c=Object(f.a)(o,2),i=c[0],l=c[1];return r.useEffect(function(){a.current&&a.current.addEventListener("ended",function(){l(!1)})},[a.current]),r.createElement(m.Card,{p:4,borderRadius:24,mx:2,boxShadow:"small",bg:"#fff",style:{position:"relative",zIndex:2,minHeight:320}},r.createElement(Ee,{onClick:n,height:32,width:32,fill:"#444"}),t&&r.createElement(m.Flex,{flexDirection:["column","row"],alignItems:"center"},t.preview&&r.createElement("audio",{ref:a,controls:!1,src:t.preview}),r.createElement(m.Box,{width:256,height:256,style:{position:"relative"},mb:[24,0]},t.preview&&r.createElement(we,null,i?r.createElement(ve,Oe):r.createElement(fe,Oe)),r.createElement(ye,{onClick:function(){a&&a.current&&(i?(a.current.pause(),l(!1)):(a.current.play(),l(!0)))},width:256,height:256,borderRadius:999,src:t.cover})),r.createElement(m.Flex,{justifyContent:"space-around",flex:1,flexDirection:"column",alignItems:"center"},r.createElement(m.Flex,{flexDirection:"column",alignItems:"center"},"artist"!==t.type&&r.createElement(m.Heading,{m:"initial",mb:2,lineHeight:1,textAlign:"center",fontSize:5,as:"h1"},t.title||t.album),r.createElement(m.Heading,{textAlign:"center",fontSize:t.title||t.album?3:5,as:t.title||t.album?"h2":"h1",color:"#333"},t.artist),"track"===t.type&&r.createElement(m.Heading,{textAlign:"center",color:"#666",fontWeight:500,fontSize:2,as:"h3"},t.album)),r.createElement(m.Box,{mt:4},t.urls.map(function(e){return r.createElement(ee,{key:e,link:e})})))))},je=n(48),ze=n(89),Me=n.n(ze),Re=n(26),ke=n(90);function Se(){var e=Object(s.a)(["\n  background: ",";\n"]);return Se=function(){return e},e}var Pe=function(e){return!!e.match(/(open\.spotify|deezer\.com)/)},Ce=Object(h.default)(m.Flex)(Se(),function(e){return e.gradient}),He=function(e,t){return"linear-gradient(348deg,rgb(".concat(e.join(","),") 0%,rgb(").concat(t.join(","),"))")},Ie=function(e){return b.a.get("".concat("https://europe-west1-jsaari-open-source.cloudfunctions.net/musalink?url=").concat(e))},Ae=function(){var e=r.useState(function(){var e=je.parse(window.location.search);return e&&e.q?e.q:""}()),t=Object(f.a)(e,2),n=t[0],a=t[1],o=r.useState(null),c=Object(f.a)(o,2),i=c[0],s=c[1],h=r.useState(Pe(n)),p=Object(f.a)(h,2),v=p[0],g=p[1],b=r.useState(!1),y=Object(f.a)(b,2),E=y[0],w=y[1],O=r.useState("#aaa"),x=Object(f.a)(O,2),j=x[0],z=x[1],M=r.useState(He([84,46,113],[226,109,92])),R=Object(f.a)(M,2),k=R[0],S=R[1],P=Object(Re.b)(i,null,{from:{position:"absolute",transform:"scale(0.9) translate3d(0, 150px, 0)",maxWidth:640,width:"100%"},enter:{opacity:1,transform:"scale(1) translate3d(0, 0px, 0)"},leave:{opacity:0,transform:"scale(0.9) translate3d(0, 150px, 0)"}}),C=r.useCallback(function(){var e=Object(u.a)(l.a.mark(function e(t){var r,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,w(!0),e.next=5,Ie(n);case 5:r=e.sent,"string"!==typeof(a=r.data)&&s(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),w(!1);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),[n]);return r.useEffect(function(){g(Pe(n));var e=je.stringify({q:n}),t="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?").concat(e);window.history.pushState({path:t},"",t)},[n]),r.useEffect(function(){i&&(w(!1),window.document.title="".concat(i.artist).concat("artist"!==i.type?" - ".concat(i.title||i.album):""),Me.a.from(i.cover).getPalette().then(function(e){z(e.DarkMuted?e.DarkMuted.getHex():"#aaa"),S(He(e.Muted?e.Muted.getRgb():[226,109,92],e.LightVibrant?e.LightVibrant.getRgb():[84,46,113]))}))},[i]),r.useEffect(function(){Pe(n)&&Ie(n).then(function(e){var t=e.data;"string"!==typeof t&&s(t)})},[]),r.createElement(Ce,{width:1,flexDirection:"column",alignItems:"center",height:"100vh",py:[32,120,240],gradient:k},r.createElement("div",{style:{maxWidth:640,width:"100%"}},P.map(function(e){var t=e.item,o=e.props,c=e.key;return t?r.createElement(Re.a.div,{key:c,style:o},r.createElement(xe,{onClose:function(){return s(null)},result:i})):r.createElement(Re.a.div,{key:c,style:o},r.createElement(m.Flex,{mt:[5,0],mx:[2,0],as:"form",onSubmit:C,flexDirection:["column","row"]},r.createElement(d,{value:n,onChange:a}),r.createElement(m.Button,{disabled:!v||E,borderRadius:99,bg:v?j:"#aaa",color:v?"#fff":"#444",py:3,px:4,fontWeight:400,type:"submit",width:[1,128],m:"initial",mt:[2,0]},E?r.createElement(ke.a,{size:18,singleColor:"#fff"}):"Submit")))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(){var e=Object(s.a)(["\n  * {\n    font-family: ",";\n  }\n\n  body {\n    min-height: 100vh;\n    margin: 0;\n  }\n\n  pre {\n    font-family: ",";\n  }\n"]);return Be=function(){return e},e}var De={breakpoints:["40em","52em","64em"],fontSizes:[12,14,16,20,24,32,48,64],colors:{primary:"#542E71",orange:"#E26D5C",blue:"#07c",lightgray:"#f6f6ff"},space:[0,4,8,16,32,64,128,256],fonts:{sans:"Roboto, system-ui, sans-serif",mono:"Menlo, monospace"},shadows:{small:"0 2px 12px rgba(0, 0, 0, .125)",large:"0 0 24px rgba(0, 0, 0, .125)"}},Fe=Object(h.createGlobalStyle)(Be(),De.fonts.sans,De.fonts.mono);c.a.render(a.a.createElement(function(){return a.a.createElement(h.ThemeProvider,{theme:De},a.a.createElement(a.a.Fragment,null,a.a.createElement(Ae,null),a.a.createElement(Fe,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},94:function(e,t,n){e.exports=n(254)}},[[94,1,2]]]);
//# sourceMappingURL=main.446303c5.chunk.js.map